/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------------------------------------------*/

var Lae=Object.create;var Uw=Object.defineProperty;var Fae=Object.getOwnPropertyDescriptor;var Mae=Object.getOwnPropertyNames;var Uae=Object.getPrototypeOf,qae=Object.prototype.hasOwnProperty;var S=(e,t)=>()=>(e&&(t=e(e=0)),t);var w=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),bs=(e,t)=>{for(var n in t)Uw(e,n,{get:t[n],enumerable:!0})},O$=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Mae(t))!qae.call(e,i)&&i!==n&&Uw(e,i,{get:()=>t[i],enumerable:!(r=Fae(t,i))||r.enumerable});return e};var V=(e,t,n)=>(n=e!=null?Lae(Uae(e)):{},O$(t||!e||!e.__esModule?Uw(n,"default",{value:e,enumerable:!0}):n,e)),ui=e=>O$(Uw({},"__esModule",{value:!0}),e);var oj=w((mMe,ij)=>{var Pp=1e3,Rp=Pp*60,Ap=Rp*60,sl=Ap*24,nce=sl*7,rce=sl*365.25;ij.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return ice(e);if(n==="number"&&isFinite(e))return t.long?sce(e):oce(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function ice(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*rce;case"weeks":case"week":case"w":return n*nce;case"days":case"day":case"d":return n*sl;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Ap;case"minutes":case"minute":case"mins":case"min":case"m":return n*Rp;case"seconds":case"second":case"secs":case"sec":case"s":return n*Pp;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function oce(e){var t=Math.abs(e);return t>=sl?Math.round(e/sl)+"d":t>=Ap?Math.round(e/Ap)+"h":t>=Rp?Math.round(e/Rp)+"m":t>=Pp?Math.round(e/Pp)+"s":e+"ms"}function sce(e){var t=Math.abs(e);return t>=sl?zw(e,t,sl,"day"):t>=Ap?zw(e,t,Ap,"hour"):t>=Rp?zw(e,t,Rp,"minute"):t>=Pp?zw(e,t,Pp,"second"):e+" ms"}function zw(e,t,n,r){var i=t>=n*1.5;return Math.round(e/n)+" "+r+(i?"s":"")}});var f0=w((hMe,sj)=>{function ace(e){n.debug=n,n.default=n,n.coerce=u,n.disable=o,n.enable=i,n.enabled=s,n.humanize=oj(),n.destroy=c,Object.keys(e).forEach(l=>{n[l]=e[l]}),n.names=[],n.skips=[],n.formatters={};function t(l){let d=0;for(let p=0;p<l.length;p++)d=(d<<5)-d+l.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(l){let d,p=null,f,m;function h(...g){if(!h.enabled)return;let v=h,y=Number(new Date),x=y-(d||y);v.diff=x,v.prev=d,v.curr=y,d=y,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let E=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(C,P)=>{if(C==="%%")return"%";E++;let T=n.formatters[P];if(typeof T=="function"){let b=g[E];C=T.call(v,b),g.splice(E,1),E--}return C}),n.formatArgs.call(v,g),(v.log||n.log).apply(v,g)}return h.namespace=l,h.useColors=n.useColors(),h.color=n.selectColor(l),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(f!==n.namespaces&&(f=n.namespaces,m=n.enabled(l)),m),set:g=>{p=g}}),typeof n.init=="function"&&n.init(h),h}function r(l,d){let p=n(this.namespace+(typeof d>"u"?":":d)+l);return p.log=this.log,p}function i(l){n.save(l),n.namespaces=l,n.names=[],n.skips=[];let d,p=(typeof l=="string"?l:"").split(/[\s,]+/),f=p.length;for(d=0;d<f;d++)!p[d]||(l=p[d].replace(/\*/g,".*?"),l[0]==="-"?n.skips.push(new RegExp("^"+l.slice(1)+"$")):n.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...n.names.map(a),...n.skips.map(a).map(d=>"-"+d)].join(",");return n.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let d,p;for(d=0,p=n.skips.length;d<p;d++)if(n.skips[d].test(l))return!1;for(d=0,p=n.names.length;d<p;d++)if(n.names[d].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function u(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}sj.exports=ace});var aj=w((di,Yw)=>{di.formatArgs=uce;di.save=lce;di.load=dce;di.useColors=cce;di.storage=pce();di.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();di.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function cce(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function uce(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Yw.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),e.splice(r,0,t)}di.log=console.debug||console.log||(()=>{});function lce(e){try{e?di.storage.setItem("debug",e):di.storage.removeItem("debug")}catch{}}function dce(){let e;try{e=di.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function pce(){try{return localStorage}catch{}}Yw.exports=f0()(di);var{formatters:fce}=Yw.exports;fce.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var uj=w((gMe,cj)=>{"use strict";cj.exports=(e,t)=>{t=t||process.argv;let n=e.startsWith("-")?"":e.length===1?"-":"--",r=t.indexOf(n+e),i=t.indexOf("--");return r!==-1&&(i===-1?!0:r<i)}});var dj=w((vMe,lj)=>{"use strict";var mce=require("os"),Oo=uj(),tr=process.env,Dp;Oo("no-color")||Oo("no-colors")||Oo("color=false")?Dp=!1:(Oo("color")||Oo("colors")||Oo("color=true")||Oo("color=always"))&&(Dp=!0);"FORCE_COLOR"in tr&&(Dp=tr.FORCE_COLOR.length===0||parseInt(tr.FORCE_COLOR,10)!==0);function hce(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function gce(e){if(Dp===!1)return 0;if(Oo("color=16m")||Oo("color=full")||Oo("color=truecolor"))return 3;if(Oo("color=256"))return 2;if(e&&!e.isTTY&&Dp!==!0)return 0;let t=Dp?1:0;if(process.platform==="win32"){let n=mce.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in tr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in tr)||tr.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in tr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(tr.TEAMCITY_VERSION)?1:0;if(tr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in tr){let n=parseInt((tr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(tr.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(tr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(tr.TERM)||"COLORTERM"in tr?1:(tr.TERM==="dumb",t)}function m0(e){let t=gce(e);return hce(t)}lj.exports={supportsColor:m0,stdout:m0(process.stdout),stderr:m0(process.stderr)}});var fj=w((Hn,Xw)=>{var vce=require("tty"),Kw=require("util");Hn.init=Cce;Hn.log=Ece;Hn.formatArgs=xce;Hn.save=_ce;Hn.load=bce;Hn.useColors=yce;Hn.destroy=Kw.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Hn.colors=[6,2,3,4,5,1];try{let e=dj();e&&(e.stderr||e).level>=2&&(Hn.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Hn.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),r=process.env[t];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),e[n]=r,e},{});function yce(){return"colors"in Hn.inspectOpts?Boolean(Hn.inspectOpts.colors):vce.isatty(process.stderr.fd)}function xce(e){let{namespace:t,useColors:n}=this;if(n){let r=this.color,i="\x1B[3"+(r<8?r:"8;5;"+r),o=`  ${i};1m${t} \x1B[0m`;e[0]=o+e[0].split(`
`).join(`
`+o),e.push(i+"m+"+Xw.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=wce()+t+" "+e[0]}function wce(){return Hn.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Ece(...e){return process.stderr.write(Kw.format(...e)+`
`)}function _ce(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function bce(){return process.env.DEBUG}function Cce(e){e.inspectOpts={};let t=Object.keys(Hn.inspectOpts);for(let n=0;n<t.length;n++)e.inspectOpts[t[n]]=Hn.inspectOpts[t[n]]}Xw.exports=f0()(Hn);var{formatters:pj}=Xw.exports;pj.o=function(e){return this.inspectOpts.colors=this.useColors,Kw.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};pj.O=function(e){return this.inspectOpts.colors=this.useColors,Kw.inspect(e,this.inspectOpts)}});var Sc=w((yMe,h0)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?h0.exports=aj():h0.exports=fj()});var hj=w((xMe,mj)=>{var Pg;mj.exports=function(){if(!Pg){try{Pg=Sc()("follow-redirects")}catch{}typeof Pg!="function"&&(Pg=function(){})}Pg.apply(null,arguments)}});var kp=w((wMe,w0)=>{var al=require("url"),g0=al.URL,Sce=require("http"),Tce=require("https"),yj=require("stream").Writable,xj=require("assert"),wj=hj(),y0=["abort","aborted","connect","error","socket","timeout"],x0=Object.create(null);y0.forEach(function(e){x0[e]=function(t,n,r){this._redirectable.emit(e,t,n,r)}});var Ice=Ag("ERR_INVALID_URL","Invalid URL",TypeError),gj=Ag("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),Pce=Ag("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),Rce=Ag("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),Ace=Ag("ERR_STREAM_WRITE_AFTER_END","write after end");function pi(e,t){yj.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(r){n._processResponse(r)},this._performRequest()}pi.prototype=Object.create(yj.prototype);pi.prototype.abort=function(){_j(this._currentRequest),this.emit("abort")};pi.prototype.write=function(e,t,n){if(this._ending)throw new Ace;if(!cl(e)&&!Oce(e))throw new TypeError("data should be a string, Buffer or Uint8Array");if(Rg(t)&&(n=t,t=null),e.length===0){n&&n();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new Rce),this.abort())};pi.prototype.end=function(e,t,n){if(Rg(e)?(n=e,e=t=null):Rg(t)&&(n=t,t=null),!e)this._ended=this._ending=!0,this._currentRequest.end(null,null,n);else{var r=this,i=this._currentRequest;this.write(e,t,function(){r._ended=!0,i.end(null,null,n)}),this._ending=!0}};pi.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)};pi.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)};pi.prototype.setTimeout=function(e,t){var n=this;function r(s){s.setTimeout(e),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout(function(){n.emit("timeout"),o()},e),r(s)}function o(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",o),n.removeListener("error",o),n.removeListener("response",o),t&&n.removeListener("timeout",t),n.socket||n._currentRequest.removeListener("socket",i)}return t&&this.on("timeout",t),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",r),this.on("abort",o),this.on("error",o),this.on("response",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){pi.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}});["aborted","connection","socket"].forEach(function(e){Object.defineProperty(pi.prototype,e,{get:function(){return this._currentRequest[e]}})});pi.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}};pi.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t){this.emit("error",new TypeError("Unsupported protocol "+e));return}if(this._options.agents){var n=e.slice(0,-1);this._options.agent=this._options.agents[n]}var r=this._currentRequest=t.request(this._options,this._onNativeResponse);r._redirectable=this;for(var i of y0)r.on(i,x0[i]);if(this._currentUrl=/^\//.test(this._options.path)?al.format(this._options):this._options.path,this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function u(c){if(r===s._currentRequest)if(c)s.emit("error",c);else if(o<a.length){var l=a[o++];r.finished||r.write(l.data,l.encoding,u)}else s._ended&&r.end()})()}};pi.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var n=e.headers.location;if(!n||this._options.followRedirects===!1||t<300||t>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(_j(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new Pce);return}var r,i=this._options.beforeRedirect;i&&(r=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var o=this._options.method;((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],v0(/^content-/i,this._options.headers));var s=v0(/^host$/i,this._options.headers),a=al.parse(this._currentUrl),u=s||a.host,c=/^\w+:/.test(n)?this._currentUrl:al.format(Object.assign(a,{host:u})),l;try{l=al.resolve(c,n)}catch(m){this.emit("error",new gj({cause:m}));return}wj("redirecting to",l),this._isRedirect=!0;var d=al.parse(l);if(Object.assign(this._options,d),(d.protocol!==a.protocol&&d.protocol!=="https:"||d.host!==u&&!kce(d.host,u))&&v0(/^(?:authorization|cookie)$/i,this._options.headers),Rg(i)){var p={headers:e.headers,statusCode:t},f={url:c,method:o,headers:r};try{i(this._options,p,f)}catch(m){this.emit("error",m);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(m){this.emit("error",new gj({cause:m}))}};function Ej(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach(function(r){var i=r+":",o=n[i]=e[r],s=t[r]=Object.create(o);function a(c,l,d){if(cl(c)){var p;try{p=vj(new g0(c))}catch{p=al.parse(c)}if(!cl(p.protocol))throw new Ice({input:c});c=p}else g0&&c instanceof g0?c=vj(c):(d=l,l=c,c={protocol:i});return Rg(l)&&(d=l,l=null),l=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},c,l),l.nativeProtocols=n,!cl(l.host)&&!cl(l.hostname)&&(l.hostname="::1"),xj.equal(l.protocol,i,"protocol mismatch"),wj("options",l),new pi(l,d)}function u(c,l,d){var p=s.request(c,l,d);return p.end(),p}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:u,configurable:!0,enumerable:!0,writable:!0}})}),t}function Dce(){}function vj(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return e.port!==""&&(t.port=Number(e.port)),t}function v0(e,t){var n;for(var r in t)e.test(r)&&(n=t[r],delete t[r]);return n===null||typeof n>"u"?void 0:String(n).trim()}function Ag(e,t,n){function r(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return r.prototype=new(n||Error),r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r}function _j(e){for(var t of y0)e.removeListener(t,x0[t]);e.on("error",Dce),e.abort()}function kce(e,t){xj(cl(e)&&cl(t));var n=e.length-t.length-1;return n>0&&e[n]==="."&&e.endsWith(t)}function cl(e){return typeof e=="string"||e instanceof String}function Rg(e){return typeof e=="function"}function Oce(e){return typeof e=="object"&&"length"in e}w0.exports=Ej({http:Sce,https:Tce});w0.exports.wrap=Ej});var Op=w((EMe,Cj)=>{"use strict";var bj=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);Cj.exports=e=>e?Object.keys(e).map(t=>[bj.has(t)?bj.get(t):t,e[t]]).reduce((t,n)=>(t[n[0]]=n[1],t),Object.create(null)):{}});var Lp=w((_Me,Oj)=>{"use strict";var Sj=typeof process=="object"&&process?process:{stdout:null,stderr:null},Nce=require("events"),Tj=require("stream"),Ij=require("string_decoder").StringDecoder,ma=Symbol("EOF"),ha=Symbol("maybeEmitEnd"),Tc=Symbol("emittedEnd"),Qw=Symbol("emittingEnd"),Dg=Symbol("emittedError"),Jw=Symbol("closed"),Pj=Symbol("read"),Zw=Symbol("flush"),Rj=Symbol("flushChunk"),Ur=Symbol("encoding"),ga=Symbol("decoder"),eE=Symbol("flowing"),kg=Symbol("paused"),Np=Symbol("resume"),kn=Symbol("bufferLength"),E0=Symbol("bufferPush"),_0=Symbol("bufferShift"),nr=Symbol("objectMode"),rr=Symbol("destroyed"),b0=Symbol("emitData"),Aj=Symbol("emitEnd"),C0=Symbol("emitEnd2"),va=Symbol("async"),Og=e=>Promise.resolve().then(e),Dj=global._MP_NO_ITERATOR_SYMBOLS_!=="1",Lce=Dj&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Fce=Dj&&Symbol.iterator||Symbol("iterator not implemented"),Mce=e=>e==="end"||e==="finish"||e==="prefinish",Uce=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,qce=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),tE=class{constructor(t,n,r){this.src=t,this.dest=n,this.opts=r,this.ondrain=()=>t[Np](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},S0=class extends tE{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,n,r){super(t,n,r),this.proxyErrors=i=>n.emit("error",i),t.on("error",this.proxyErrors)}};Oj.exports=class kj extends Tj{constructor(t){super(),this[eE]=!1,this[kg]=!1,this.pipes=[],this.buffer=[],this[nr]=t&&t.objectMode||!1,this[nr]?this[Ur]=null:this[Ur]=t&&t.encoding||null,this[Ur]==="buffer"&&(this[Ur]=null),this[va]=t&&!!t.async||!1,this[ga]=this[Ur]?new Ij(this[Ur]):null,this[ma]=!1,this[Tc]=!1,this[Qw]=!1,this[Jw]=!1,this[Dg]=null,this.writable=!0,this.readable=!0,this[kn]=0,this[rr]=!1}get bufferLength(){return this[kn]}get encoding(){return this[Ur]}set encoding(t){if(this[nr])throw new Error("cannot set encoding in objectMode");if(this[Ur]&&t!==this[Ur]&&(this[ga]&&this[ga].lastNeed||this[kn]))throw new Error("cannot change encoding");this[Ur]!==t&&(this[ga]=t?new Ij(t):null,this.buffer.length&&(this.buffer=this.buffer.map(n=>this[ga].write(n)))),this[Ur]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[nr]}set objectMode(t){this[nr]=this[nr]||!!t}get async(){return this[va]}set async(t){this[va]=this[va]||!!t}write(t,n,r){if(this[ma])throw new Error("write after end");if(this[rr])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let i=this[va]?Og:o=>o();return!this[nr]&&!Buffer.isBuffer(t)&&(qce(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Uce(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[nr]?(this.flowing&&this[kn]!==0&&this[Zw](!0),this.flowing?this.emit("data",t):this[E0](t),this[kn]!==0&&this.emit("readable"),r&&i(r),this.flowing):t.length?(typeof t=="string"&&!(n===this[Ur]&&!this[ga].lastNeed)&&(t=Buffer.from(t,n)),Buffer.isBuffer(t)&&this[Ur]&&(t=this[ga].write(t)),this.flowing&&this[kn]!==0&&this[Zw](!0),this.flowing?this.emit("data",t):this[E0](t),this[kn]!==0&&this.emit("readable"),r&&i(r),this.flowing):(this[kn]!==0&&this.emit("readable"),r&&i(r),this.flowing)}read(t){if(this[rr])return null;if(this[kn]===0||t===0||t>this[kn])return this[ha](),null;this[nr]&&(t=null),this.buffer.length>1&&!this[nr]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[kn])]);let n=this[Pj](t||null,this.buffer[0]);return this[ha](),n}[Pj](t,n){return t===n.length||t===null?this[_0]():(this.buffer[0]=n.slice(t),n=n.slice(0,t),this[kn]-=t),this.emit("data",n),!this.buffer.length&&!this[ma]&&this.emit("drain"),n}end(t,n,r){return typeof t=="function"&&(r=t,t=null),typeof n=="function"&&(r=n,n="utf8"),t&&this.write(t,n),r&&this.once("end",r),this[ma]=!0,this.writable=!1,(this.flowing||!this[kg])&&this[ha](),this}[Np](){this[rr]||(this[kg]=!1,this[eE]=!0,this.emit("resume"),this.buffer.length?this[Zw]():this[ma]?this[ha]():this.emit("drain"))}resume(){return this[Np]()}pause(){this[eE]=!1,this[kg]=!0}get destroyed(){return this[rr]}get flowing(){return this[eE]}get paused(){return this[kg]}[E0](t){this[nr]?this[kn]+=1:this[kn]+=t.length,this.buffer.push(t)}[_0](){return this.buffer.length&&(this[nr]?this[kn]-=1:this[kn]-=this.buffer[0].length),this.buffer.shift()}[Zw](t){do;while(this[Rj](this[_0]()));!t&&!this.buffer.length&&!this[ma]&&this.emit("drain")}[Rj](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,n){if(this[rr])return;let r=this[Tc];return n=n||{},t===Sj.stdout||t===Sj.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&t.end():(this.pipes.push(n.proxyErrors?new S0(this,t,n):new tE(this,t,n)),this[va]?Og(()=>this[Np]()):this[Np]()),t}unpipe(t){let n=this.pipes.find(r=>r.dest===t);n&&(this.pipes.splice(this.pipes.indexOf(n),1),n.unpipe())}addListener(t,n){return this.on(t,n)}on(t,n){let r=super.on(t,n);return t==="data"&&!this.pipes.length&&!this.flowing?this[Np]():t==="readable"&&this[kn]!==0?super.emit("readable"):Mce(t)&&this[Tc]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Dg]&&(this[va]?Og(()=>n.call(this,this[Dg])):n.call(this,this[Dg])),r}get emittedEnd(){return this[Tc]}[ha](){!this[Qw]&&!this[Tc]&&!this[rr]&&this.buffer.length===0&&this[ma]&&(this[Qw]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Jw]&&this.emit("close"),this[Qw]=!1)}emit(t,n,...r){if(t!=="error"&&t!=="close"&&t!==rr&&this[rr])return;if(t==="data")return n?this[va]?Og(()=>this[b0](n)):this[b0](n):!1;if(t==="end")return this[Aj]();if(t==="close"){if(this[Jw]=!0,!this[Tc]&&!this[rr])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(t==="error"){this[Dg]=n;let o=super.emit("error",n);return this[ha](),o}else if(t==="resume"){let o=super.emit("resume");return this[ha](),o}else if(t==="finish"||t==="prefinish"){let o=super.emit(t);return this.removeAllListeners(t),o}let i=super.emit(t,n,...r);return this[ha](),i}[b0](t){for(let r of this.pipes)r.dest.write(t)===!1&&this.pause();let n=super.emit("data",t);return this[ha](),n}[Aj](){this[Tc]||(this[Tc]=!0,this.readable=!1,this[va]?Og(()=>this[C0]()):this[C0]())}[C0](){if(this[ga]){let n=this[ga].end();if(n){for(let r of this.pipes)r.dest.write(n);super.emit("data",n)}}for(let n of this.pipes)n.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[nr]||(t.dataLength=0);let n=this.promise();return this.on("data",r=>{t.push(r),this[nr]||(t.dataLength+=r.length)}),n.then(()=>t)}concat(){return this[nr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[nr]?Promise.reject(new Error("cannot concat in objectMode")):this[Ur]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,n)=>{this.on(rr,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>t())})}[Lce](){return{next:()=>{let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[ma])return Promise.resolve({done:!0});let r=null,i=null,o=c=>{this.removeListener("data",s),this.removeListener("end",a),i(c)},s=c=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),r({value:c,done:!!this[ma]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),r({done:!0})},u=()=>o(new Error("stream destroyed"));return new Promise((c,l)=>{i=l,r=c,this.once(rr,u),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[Fce](){return{next:()=>{let n=this.read();return{value:n,done:n===null}}}}destroy(t){return this[rr]?(t?this.emit("error",t):this.emit(rr),this):(this[rr]=!0,this.buffer.length=0,this[kn]=0,typeof this.close=="function"&&!this[Jw]&&this.close(),t?this.emit("error",t):this.emit(rr),this)}static isStream(t){return!!t&&(t instanceof kj||t instanceof Tj||t instanceof Nce&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}});var Lj=w((bMe,Nj)=>{var $ce=require("zlib").constants||{ZLIB_VERNUM:4736};Nj.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},$ce))});var j0=w(fi=>{"use strict";var A0=require("assert"),Ic=require("buffer").Buffer,Uj=require("zlib"),ul=fi.constants=Lj(),jce=Lp(),Fj=Ic.concat,ll=Symbol("_superWrite"),Mp=class extends Error{constructor(t){super("zlib: "+t.message),this.code=t.code,this.errno=t.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+t.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},Hce=Symbol("opts"),Ng=Symbol("flushFlag"),Mj=Symbol("finishFlushFlag"),$0=Symbol("fullFlushFlag"),_t=Symbol("handle"),nE=Symbol("onError"),Fp=Symbol("sawError"),T0=Symbol("level"),I0=Symbol("strategy"),P0=Symbol("ended"),CMe=Symbol("_defaultFullFlush"),rE=class extends jce{constructor(t,n){if(!t||typeof t!="object")throw new TypeError("invalid options for ZlibBase constructor");super(t),this[Fp]=!1,this[P0]=!1,this[Hce]=t,this[Ng]=t.flush,this[Mj]=t.finishFlush;try{this[_t]=new Uj[n](t)}catch(r){throw new Mp(r)}this[nE]=r=>{this[Fp]||(this[Fp]=!0,this.close(),this.emit("error",r))},this[_t].on("error",r=>this[nE](new Mp(r))),this.once("end",()=>this.close)}close(){this[_t]&&(this[_t].close(),this[_t]=null,this.emit("close"))}reset(){if(!this[Fp])return A0(this[_t],"zlib binding closed"),this[_t].reset()}flush(t){this.ended||(typeof t!="number"&&(t=this[$0]),this.write(Object.assign(Ic.alloc(0),{[Ng]:t})))}end(t,n,r){return t&&this.write(t,n),this.flush(this[Mj]),this[P0]=!0,super.end(null,null,r)}get ended(){return this[P0]}write(t,n,r){if(typeof n=="function"&&(r=n,n="utf8"),typeof t=="string"&&(t=Ic.from(t,n)),this[Fp])return;A0(this[_t],"zlib binding closed");let i=this[_t]._handle,o=i.close;i.close=()=>{};let s=this[_t].close;this[_t].close=()=>{},Ic.concat=c=>c;let a;try{let c=typeof t[Ng]=="number"?t[Ng]:this[Ng];a=this[_t]._processChunk(t,c),Ic.concat=Fj}catch(c){Ic.concat=Fj,this[nE](new Mp(c))}finally{this[_t]&&(this[_t]._handle=i,i.close=o,this[_t].close=s,this[_t].removeAllListeners("error"))}this[_t]&&this[_t].on("error",c=>this[nE](new Mp(c)));let u;if(a)if(Array.isArray(a)&&a.length>0){u=this[ll](Ic.from(a[0]));for(let c=1;c<a.length;c++)u=this[ll](a[c])}else u=this[ll](Ic.from(a));return r&&r(),u}[ll](t){return super.write(t)}},ya=class extends rE{constructor(t,n){t=t||{},t.flush=t.flush||ul.Z_NO_FLUSH,t.finishFlush=t.finishFlush||ul.Z_FINISH,super(t,n),this[$0]=ul.Z_FULL_FLUSH,this[T0]=t.level,this[I0]=t.strategy}params(t,n){if(!this[Fp]){if(!this[_t])throw new Error("cannot switch params when binding is closed");if(!this[_t].params)throw new Error("not supported in this implementation");if(this[T0]!==t||this[I0]!==n){this.flush(ul.Z_SYNC_FLUSH),A0(this[_t],"zlib binding closed");let r=this[_t].flush;this[_t].flush=(i,o)=>{this.flush(i),o()};try{this[_t].params(t,n)}finally{this[_t].flush=r}this[_t]&&(this[T0]=t,this[I0]=n)}}}},D0=class extends ya{constructor(t){super(t,"Deflate")}},k0=class extends ya{constructor(t){super(t,"Inflate")}},R0=Symbol("_portable"),O0=class extends ya{constructor(t){super(t,"Gzip"),this[R0]=t&&!!t.portable}[ll](t){return this[R0]?(this[R0]=!1,t[9]=255,super[ll](t)):super[ll](t)}},N0=class extends ya{constructor(t){super(t,"Gunzip")}},L0=class extends ya{constructor(t){super(t,"DeflateRaw")}},F0=class extends ya{constructor(t){super(t,"InflateRaw")}},M0=class extends ya{constructor(t){super(t,"Unzip")}},iE=class extends rE{constructor(t,n){t=t||{},t.flush=t.flush||ul.BROTLI_OPERATION_PROCESS,t.finishFlush=t.finishFlush||ul.BROTLI_OPERATION_FINISH,super(t,n),this[$0]=ul.BROTLI_OPERATION_FLUSH}},U0=class extends iE{constructor(t){super(t,"BrotliCompress")}},q0=class extends iE{constructor(t){super(t,"BrotliDecompress")}};fi.Deflate=D0;fi.Inflate=k0;fi.Gzip=O0;fi.Gunzip=N0;fi.DeflateRaw=L0;fi.InflateRaw=F0;fi.Unzip=M0;typeof Uj.BrotliCompress=="function"?(fi.BrotliCompress=U0,fi.BrotliDecompress=q0):fi.BrotliCompress=fi.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Up=w((IMe,qj)=>{var Bce=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;qj.exports=Bce!=="win32"?e=>e:e=>e&&e.replace(/\\/g,"/")});var oE=w((RMe,$j)=>{"use strict";var Vce=Lp(),H0=Up(),B0=Symbol("slurp");$j.exports=class extends Vce{constructor(t,n,r){switch(super(),this.pause(),this.extended=n,this.globalExtended=r,this.header=t,this.startBlockSize=512*Math.ceil(t.size/512),this.blockRemain=this.startBlockSize,this.remain=t.size,this.type=t.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=H0(t.path),this.mode=t.mode,this.mode&&(this.mode=this.mode&4095),this.uid=t.uid,this.gid=t.gid,this.uname=t.uname,this.gname=t.gname,this.size=t.size,this.mtime=t.mtime,this.atime=t.atime,this.ctime=t.ctime,this.linkpath=H0(t.linkpath),this.uname=t.uname,this.gname=t.gname,n&&this[B0](n),r&&this[B0](r,!0)}write(t){let n=t.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");let r=this.remain,i=this.blockRemain;return this.remain=Math.max(0,r-n),this.blockRemain=Math.max(0,i-n),this.ignore?!0:r>=n?super.write(t):super.write(t.slice(0,r))}[B0](t,n){for(let r in t)t[r]!==null&&t[r]!==void 0&&!(n&&r==="path")&&(this[r]=r==="path"||r==="linkpath"?H0(t[r]):t[r])}}});var V0=w(sE=>{"use strict";sE.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);sE.code=new Map(Array.from(sE.name).map(e=>[e[1],e[0]]))});var Vj=w((DMe,Bj)=>{"use strict";var Wce=(e,t)=>{if(Number.isSafeInteger(e))e<0?zce(e,t):Gce(e,t);else throw Error("cannot encode number outside of javascript safe integer range");return t},Gce=(e,t)=>{t[0]=128;for(var n=t.length;n>1;n--)t[n-1]=e&255,e=Math.floor(e/256)},zce=(e,t)=>{t[0]=255;var n=!1;e=e*-1;for(var r=t.length;r>1;r--){var i=e&255;e=Math.floor(e/256),n?t[r-1]=jj(i):i===0?t[r-1]=0:(n=!0,t[r-1]=Hj(i))}},Yce=e=>{let t=e[0],n=t===128?Xce(e.slice(1,e.length)):t===255?Kce(e):null;if(n===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(n))throw Error("parsed number outside of javascript safe integer range");return n},Kce=e=>{for(var t=e.length,n=0,r=!1,i=t-1;i>-1;i--){var o=e[i],s;r?s=jj(o):o===0?s=o:(r=!0,s=Hj(o)),s!==0&&(n-=s*Math.pow(256,t-i-1))}return n},Xce=e=>{for(var t=e.length,n=0,r=t-1;r>-1;r--){var i=e[r];i!==0&&(n+=i*Math.pow(256,t-r-1))}return n},jj=e=>(255^e)&255,Hj=e=>(255^e)+1&255;Bj.exports={encode:Wce,parse:Yce}});var $p=w((kMe,Gj)=>{"use strict";var W0=V0(),qp=require("path").posix,Wj=Vj(),G0=Symbol("slurp"),mi=Symbol("type"),K0=class{constructor(t,n,r,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[mi]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(t)?this.decode(t,n||0,r,i):t&&this.set(t)}decode(t,n,r,i){if(n||(n=0),!t||!(t.length>=n+512))throw new Error("need 512 bytes for header");if(this.path=dl(t,n,100),this.mode=Pc(t,n+100,8),this.uid=Pc(t,n+108,8),this.gid=Pc(t,n+116,8),this.size=Pc(t,n+124,12),this.mtime=z0(t,n+136,12),this.cksum=Pc(t,n+148,12),this[G0](r),this[G0](i,!0),this[mi]=dl(t,n+156,1),this[mi]===""&&(this[mi]="0"),this[mi]==="0"&&this.path.slice(-1)==="/"&&(this[mi]="5"),this[mi]==="5"&&(this.size=0),this.linkpath=dl(t,n+157,100),t.slice(n+257,n+265).toString()==="ustar\x0000")if(this.uname=dl(t,n+265,32),this.gname=dl(t,n+297,32),this.devmaj=Pc(t,n+329,8),this.devmin=Pc(t,n+337,8),t[n+475]!==0){let s=dl(t,n+345,155);this.path=s+"/"+this.path}else{let s=dl(t,n+345,130);s&&(this.path=s+"/"+this.path),this.atime=z0(t,n+476,12),this.ctime=z0(t,n+488,12)}let o=8*32;for(let s=n;s<n+148;s++)o+=t[s];for(let s=n+156;s<n+512;s++)o+=t[s];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[G0](t,n){for(let r in t)t[r]!==null&&t[r]!==void 0&&!(n&&r==="path")&&(this[r]=t[r])}encode(t,n){if(t||(t=this.block=Buffer.alloc(512),n=0),n||(n=0),!(t.length>=n+512))throw new Error("need 512 bytes for header");let r=this.ctime||this.atime?130:155,i=Qce(this.path||"",r),o=i[0],s=i[1];this.needPax=i[2],this.needPax=pl(t,n,100,o)||this.needPax,this.needPax=Rc(t,n+100,8,this.mode)||this.needPax,this.needPax=Rc(t,n+108,8,this.uid)||this.needPax,this.needPax=Rc(t,n+116,8,this.gid)||this.needPax,this.needPax=Rc(t,n+124,12,this.size)||this.needPax,this.needPax=Y0(t,n+136,12,this.mtime)||this.needPax,t[n+156]=this[mi].charCodeAt(0),this.needPax=pl(t,n+157,100,this.linkpath)||this.needPax,t.write("ustar\x0000",n+257,8),this.needPax=pl(t,n+265,32,this.uname)||this.needPax,this.needPax=pl(t,n+297,32,this.gname)||this.needPax,this.needPax=Rc(t,n+329,8,this.devmaj)||this.needPax,this.needPax=Rc(t,n+337,8,this.devmin)||this.needPax,this.needPax=pl(t,n+345,r,s)||this.needPax,t[n+475]!==0?this.needPax=pl(t,n+345,155,s)||this.needPax:(this.needPax=pl(t,n+345,130,s)||this.needPax,this.needPax=Y0(t,n+476,12,this.atime)||this.needPax,this.needPax=Y0(t,n+488,12,this.ctime)||this.needPax);let a=8*32;for(let u=n;u<n+148;u++)a+=t[u];for(let u=n+156;u<n+512;u++)a+=t[u];return this.cksum=a,Rc(t,n+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(t){for(let n in t)t[n]!==null&&t[n]!==void 0&&(this[n]=t[n])}get type(){return W0.name.get(this[mi])||this[mi]}get typeKey(){return this[mi]}set type(t){W0.code.has(t)?this[mi]=W0.code.get(t):this[mi]=t}},Qce=(e,t)=>{let r=e,i="",o,s=qp.parse(e).root||".";if(Buffer.byteLength(r)<100)o=[r,i,!1];else{i=qp.dirname(r),r=qp.basename(r);do Buffer.byteLength(r)<=100&&Buffer.byteLength(i)<=t?o=[r,i,!1]:Buffer.byteLength(r)>100&&Buffer.byteLength(i)<=t?o=[r.slice(0,100-1),i,!0]:(r=qp.join(qp.basename(i),r),i=qp.dirname(i));while(i!==s&&!o);o||(o=[e.slice(0,100-1),"",!0])}return o},dl=(e,t,n)=>e.slice(t,t+n).toString("utf8").replace(/\0.*/,""),z0=(e,t,n)=>Jce(Pc(e,t,n)),Jce=e=>e===null?null:new Date(e*1e3),Pc=(e,t,n)=>e[t]&128?Wj.parse(e.slice(t,t+n)):eue(e,t,n),Zce=e=>isNaN(e)?null:e,eue=(e,t,n)=>Zce(parseInt(e.slice(t,t+n).toString("utf8").replace(/\0.*$/,"").trim(),8)),tue={12:8589934591,8:2097151},Rc=(e,t,n,r)=>r===null?!1:r>tue[n]||r<0?(Wj.encode(r,e.slice(t,t+n)),!0):(nue(e,t,n,r),!1),nue=(e,t,n,r)=>e.write(rue(r,n),t,n,"ascii"),rue=(e,t)=>iue(Math.floor(e).toString(8),t),iue=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0",Y0=(e,t,n,r)=>r===null?!1:Rc(e,t,n,r.getTime()/1e3),oue=new Array(156).join("\0"),pl=(e,t,n,r)=>r===null?!1:(e.write(r+oue,t,n,"utf8"),r.length!==Buffer.byteLength(r)||r.length>n);Gj.exports=K0});var aE=w((OMe,zj)=>{"use strict";var sue=$p(),aue=require("path"),Lg=class{constructor(t,n){this.atime=t.atime||null,this.charset=t.charset||null,this.comment=t.comment||null,this.ctime=t.ctime||null,this.gid=t.gid||null,this.gname=t.gname||null,this.linkpath=t.linkpath||null,this.mtime=t.mtime||null,this.path=t.path||null,this.size=t.size||null,this.uid=t.uid||null,this.uname=t.uname||null,this.dev=t.dev||null,this.ino=t.ino||null,this.nlink=t.nlink||null,this.global=n||!1}encode(){let t=this.encodeBody();if(t==="")return null;let n=Buffer.byteLength(t),r=512*Math.ceil(1+n/512),i=Buffer.allocUnsafe(r);for(let o=0;o<512;o++)i[o]=0;new sue({path:("PaxHeader/"+aue.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:n,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(t,512,n,"utf8");for(let o=n+512;o<i.length;o++)i[o]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===void 0)return"";let n=this[t]instanceof Date?this[t].getTime()/1e3:this[t],r=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+n+`
`,i=Buffer.byteLength(r),o=Math.floor(Math.log(i)/Math.log(10))+1;return i+o>=Math.pow(10,o)&&(o+=1),o+i+r}};Lg.parse=(e,t,n)=>new Lg(cue(uue(e),t),n);var cue=(e,t)=>t?Object.keys(e).reduce((n,r)=>(n[r]=e[r],n),t):e,uue=e=>e.replace(/\n$/,"").split(`
`).reduce(lue,Object.create(null)),lue=(e,t)=>{let n=parseInt(t,10);if(n!==Buffer.byteLength(t)+1)return e;t=t.slice((n+" ").length);let r=t.split("="),i=r.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return e;let o=r.join("=");return e[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,e};zj.exports=Lg});var jp=w((NMe,Yj)=>{Yj.exports=e=>{let t=e.length-1,n=-1;for(;t>-1&&e.charAt(t)==="/";)n=t,t--;return n===-1?e:e.slice(0,n)}});var cE=w((LMe,Kj)=>{"use strict";Kj.exports=e=>class extends e{warn(t,n,r={}){this.file&&(r.file=this.file),this.cwd&&(r.cwd=this.cwd),r.code=n instanceof Error&&n.code||t,r.tarCode=t,!this.strict&&r.recoverable!==!1?(n instanceof Error&&(r=Object.assign(n,r),n=n.message),this.emit("warn",r.tarCode,n,r)):n instanceof Error?this.emit("error",Object.assign(n,r)):this.emit("error",Object.assign(new Error(`${t}: ${n}`),r))}}});var Q0=w((MMe,Xj)=>{"use strict";var uE=["|","<",">","?",":"],X0=uE.map(e=>String.fromCharCode(61440+e.charCodeAt(0))),due=new Map(uE.map((e,t)=>[e,X0[t]])),pue=new Map(X0.map((e,t)=>[e,uE[t]]));Xj.exports={encode:e=>uE.reduce((t,n)=>t.split(n).join(due.get(n)),e),decode:e=>X0.reduce((t,n)=>t.split(n).join(pue.get(n)),e)}});var J0=w((UMe,Jj)=>{var{isAbsolute:fue,parse:Qj}=require("path").win32;Jj.exports=e=>{let t="",n=Qj(e);for(;fue(e)||n.root;){let r=e.charAt(0)==="/"&&e.slice(0,4)!=="//?/"?"/":n.root;e=e.slice(r.length),t+=r,n=Qj(e)}return[t,e]}});var eH=w((qMe,Zj)=>{"use strict";Zj.exports=(e,t,n)=>(e&=4095,n&&(e=(e|384)&-19),t&&(e&256&&(e|=64),e&32&&(e|=8),e&4&&(e|=1)),e)});var cR=w((HMe,mH)=>{"use strict";var aH=Lp(),cH=aE(),uH=$p(),Is=require("fs"),tH=require("path"),Ts=Up(),mue=jp(),lH=(e,t)=>t?(e=Ts(e).replace(/^\.(\/|$)/,""),mue(t)+"/"+e):Ts(e),hue=16*1024*1024,nH=Symbol("process"),rH=Symbol("file"),iH=Symbol("directory"),eR=Symbol("symlink"),oH=Symbol("hardlink"),Fg=Symbol("header"),lE=Symbol("read"),tR=Symbol("lstat"),dE=Symbol("onlstat"),nR=Symbol("onread"),rR=Symbol("onreadlink"),iR=Symbol("openfile"),oR=Symbol("onopenfile"),Ac=Symbol("close"),pE=Symbol("mode"),sR=Symbol("awaitDrain"),Z0=Symbol("ondrain"),Ps=Symbol("prefix"),sH=Symbol("hadError"),dH=cE(),gue=Q0(),pH=J0(),fH=eH(),fE=dH(class extends aH{constructor(t,n){if(n=n||{},super(n),typeof t!="string")throw new TypeError("path is required");this.path=Ts(t),this.portable=!!n.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=n.maxReadSize||hue,this.linkCache=n.linkCache||new Map,this.statCache=n.statCache||new Map,this.preservePaths=!!n.preservePaths,this.cwd=Ts(n.cwd||process.cwd()),this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.mtime=n.mtime||null,this.prefix=n.prefix?Ts(n.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[i,o]=pH(this.path);i&&(this.path=o,r=i)}this.win32=!!n.win32||process.platform==="win32",this.win32&&(this.path=gue.decode(this.path.replace(/\\/g,"/")),t=t.replace(/\\/g,"/")),this.absolute=Ts(n.absolute||tH.resolve(this.cwd,t)),this.path===""&&(this.path="./"),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.statCache.has(this.absolute)?this[dE](this.statCache.get(this.absolute)):this[tR]()}emit(t,...n){return t==="error"&&(this[sH]=!0),super.emit(t,...n)}[tR](){Is.lstat(this.absolute,(t,n)=>{if(t)return this.emit("error",t);this[dE](n)})}[dE](t){this.statCache.set(this.absolute,t),this.stat=t,t.isFile()||(t.size=0),this.type=yue(t),this.emit("stat",t),this[nH]()}[nH](){switch(this.type){case"File":return this[rH]();case"Directory":return this[iH]();case"SymbolicLink":return this[eR]();default:return this.end()}}[pE](t){return fH(t,this.type==="Directory",this.portable)}[Ps](t){return lH(t,this.prefix)}[Fg](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new uH({path:this[Ps](this.path),linkpath:this.type==="Link"?this[Ps](this.linkpath):this.linkpath,mode:this[pE](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new cH({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[Ps](this.path),linkpath:this.type==="Link"?this[Ps](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[iH](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[Fg](),this.end()}[eR](){Is.readlink(this.absolute,(t,n)=>{if(t)return this.emit("error",t);this[rR](n)})}[rR](t){this.linkpath=Ts(t),this[Fg](),this.end()}[oH](t){this.type="Link",this.linkpath=Ts(tH.relative(this.cwd,t)),this.stat.size=0,this[Fg](),this.end()}[rH](){if(this.stat.nlink>1){let t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){let n=this.linkCache.get(t);if(n.indexOf(this.cwd)===0)return this[oH](n)}this.linkCache.set(t,this.absolute)}if(this[Fg](),this.stat.size===0)return this.end();this[iR]()}[iR](){Is.open(this.absolute,"r",(t,n)=>{if(t)return this.emit("error",t);this[oR](n)})}[oR](t){if(this.fd=t,this[sH])return this[Ac]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let n=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(n),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[lE]()}[lE](){let{fd:t,buf:n,offset:r,length:i,pos:o}=this;Is.read(t,n,r,i,o,(s,a)=>{if(s)return this[Ac](()=>this.emit("error",s));this[nR](a)})}[Ac](t){Is.close(this.fd,t)}[nR](t){if(t<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Ac](()=>this.emit("error",i))}if(t>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Ac](()=>this.emit("error",i))}if(t===this.remain)for(let i=t;i<this.length&&t<this.blockRemain;i++)this.buf[i+this.offset]=0,t++,this.remain++;let n=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t);this.write(n)?this[Z0]():this[sR](()=>this[Z0]())}[sR](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){let n=new Error("writing more data than expected");return n.path=this.absolute,this.emit("error",n)}return this.remain-=t.length,this.blockRemain-=t.length,this.pos+=t.length,this.offset+=t.length,super.write(t)}[Z0](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[Ac](t=>t?this.emit("error",t):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[lE]()}}),aR=class extends fE{[tR](){this[dE](Is.lstatSync(this.absolute))}[eR](){this[rR](Is.readlinkSync(this.absolute))}[iR](){this[oR](Is.openSync(this.absolute,"r"))}[lE](){let t=!0;try{let{fd:n,buf:r,offset:i,length:o,pos:s}=this,a=Is.readSync(n,r,i,o,s);this[nR](a),t=!1}finally{if(t)try{this[Ac](()=>{})}catch{}}}[sR](t){t()}[Ac](t){Is.closeSync(this.fd),t()}},vue=dH(class extends aH{constructor(t,n){n=n||{},super(n),this.preservePaths=!!n.preservePaths,this.portable=!!n.portable,this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.readEntry=t,this.type=t.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=n.prefix||null,this.path=Ts(t.path),this.mode=this[pE](t.mode),this.uid=this.portable?null:t.uid,this.gid=this.portable?null:t.gid,this.uname=this.portable?null:t.uname,this.gname=this.portable?null:t.gname,this.size=t.size,this.mtime=this.noMtime?null:n.mtime||t.mtime,this.atime=this.portable?null:t.atime,this.ctime=this.portable?null:t.ctime,this.linkpath=Ts(t.linkpath),typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[i,o]=pH(this.path);i&&(this.path=o,r=i)}this.remain=t.size,this.blockRemain=t.startBlockSize,this.header=new uH({path:this[Ps](this.path),linkpath:this.type==="Link"?this[Ps](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.header.encode()&&!this.noPax&&super.write(new cH({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[Ps](this.path),linkpath:this.type==="Link"?this[Ps](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),t.pipe(this)}[Ps](t){return lH(t,this.prefix)}[pE](t){return fH(t,this.type==="Directory",this.portable)}write(t){let n=t.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=n,super.write(t)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});fE.Sync=aR;fE.Tar=vue;var yue=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";mH.exports=fE});var gH=w((BMe,hH)=>{"use strict";hH.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var mE=w((VMe,vH)=>{"use strict";vH.exports=rt;rt.Node=fl;rt.create=rt;function rt(e){var t=this;if(t instanceof rt||(t=new rt),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}rt.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};rt.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};rt.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};rt.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)wue(this,arguments[e]);return this.length};rt.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Eue(this,arguments[e]);return this.length};rt.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};rt.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};rt.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};rt.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};rt.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};rt.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};rt.prototype.map=function(e,t){t=t||this;for(var n=new rt,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};rt.prototype.mapReverse=function(e,t){t=t||this;for(var n=new rt,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};rt.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};rt.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};rt.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};rt.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};rt.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new rt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};rt.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new rt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};rt.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var o=[],r=0;i&&r<t;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=xue(this,i,n[r]);return o};rt.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function xue(e,t,n){var r=t===e.head?new fl(n,null,t,e):new fl(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function wue(e,t){e.tail=new fl(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Eue(e,t){e.head=new fl(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function fl(e,t,n,r){if(!(this instanceof fl))return new fl(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{gH()(rt)}catch{}});var bE=w((GMe,CH)=>{"use strict";var EE=class{constructor(t,n){this.path=t||"./",this.absolute=n,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},_ue=Lp(),bue=j0(),Cue=oE(),vR=cR(),Sue=vR.Sync,Tue=vR.Tar,Iue=mE(),yH=Buffer.alloc(1024),vE=Symbol("onStat"),hE=Symbol("ended"),Rs=Symbol("queue"),Hp=Symbol("current"),ml=Symbol("process"),gE=Symbol("processing"),xH=Symbol("processJob"),As=Symbol("jobs"),uR=Symbol("jobDone"),yE=Symbol("addFSEntry"),wH=Symbol("addTarEntry"),fR=Symbol("stat"),mR=Symbol("readdir"),xE=Symbol("onreaddir"),wE=Symbol("pipe"),EH=Symbol("entry"),lR=Symbol("entryOpt"),hR=Symbol("writeEntryClass"),bH=Symbol("write"),dR=Symbol("ondrain"),_E=require("fs"),_H=require("path"),Pue=cE(),pR=Up(),yR=Pue(class extends _ue{constructor(t){super(t),t=t||Object.create(null),this.opt=t,this.file=t.file||"",this.cwd=t.cwd||process.cwd(),this.maxReadSize=t.maxReadSize,this.preservePaths=!!t.preservePaths,this.strict=!!t.strict,this.noPax=!!t.noPax,this.prefix=pR(t.prefix||""),this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.readdirCache=t.readdirCache||new Map,this[hR]=vR,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),this.portable=!!t.portable,this.zip=null,t.gzip?(typeof t.gzip!="object"&&(t.gzip={}),this.portable&&(t.gzip.portable=!0),this.zip=new bue.Gzip(t.gzip),this.zip.on("data",n=>super.write(n)),this.zip.on("end",n=>super.end()),this.zip.on("drain",n=>this[dR]()),this.on("resume",n=>this.zip.resume())):this.on("drain",this[dR]),this.noDirRecurse=!!t.noDirRecurse,this.follow=!!t.follow,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.filter=typeof t.filter=="function"?t.filter:n=>!0,this[Rs]=new Iue,this[As]=0,this.jobs=+t.jobs||4,this[gE]=!1,this[hE]=!1}[bH](t){return super.write(t)}add(t){return this.write(t),this}end(t){return t&&this.write(t),this[hE]=!0,this[ml](),this}write(t){if(this[hE])throw new Error("write after end");return t instanceof Cue?this[wH](t):this[yE](t),this.flowing}[wH](t){let n=pR(_H.resolve(this.cwd,t.path));if(!this.filter(t.path,t))t.resume();else{let r=new EE(t.path,n,!1);r.entry=new Tue(t,this[lR](r)),r.entry.on("end",i=>this[uR](r)),this[As]+=1,this[Rs].push(r)}this[ml]()}[yE](t){let n=pR(_H.resolve(this.cwd,t));this[Rs].push(new EE(t,n)),this[ml]()}[fR](t){t.pending=!0,this[As]+=1;let n=this.follow?"stat":"lstat";_E[n](t.absolute,(r,i)=>{t.pending=!1,this[As]-=1,r?this.emit("error",r):this[vE](t,i)})}[vE](t,n){this.statCache.set(t.absolute,n),t.stat=n,this.filter(t.path,n)||(t.ignore=!0),this[ml]()}[mR](t){t.pending=!0,this[As]+=1,_E.readdir(t.absolute,(n,r)=>{if(t.pending=!1,this[As]-=1,n)return this.emit("error",n);this[xE](t,r)})}[xE](t,n){this.readdirCache.set(t.absolute,n),t.readdir=n,this[ml]()}[ml](){if(!this[gE]){this[gE]=!0;for(let t=this[Rs].head;t!==null&&this[As]<this.jobs;t=t.next)if(this[xH](t.value),t.value.ignore){let n=t.next;this[Rs].removeNode(t),t.next=n}this[gE]=!1,this[hE]&&!this[Rs].length&&this[As]===0&&(this.zip?this.zip.end(yH):(super.write(yH),super.end()))}}get[Hp](){return this[Rs]&&this[Rs].head&&this[Rs].head.value}[uR](t){this[Rs].shift(),this[As]-=1,this[ml]()}[xH](t){if(!t.pending){if(t.entry){t===this[Hp]&&!t.piped&&this[wE](t);return}if(t.stat||(this.statCache.has(t.absolute)?this[vE](t,this.statCache.get(t.absolute)):this[fR](t)),!!t.stat&&!t.ignore&&!(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir&&(this.readdirCache.has(t.absolute)?this[xE](t,this.readdirCache.get(t.absolute)):this[mR](t),!t.readdir))){if(t.entry=this[EH](t),!t.entry){t.ignore=!0;return}t===this[Hp]&&!t.piped&&this[wE](t)}}}[lR](t){return{onwarn:(n,r,i)=>this.warn(n,r,i),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[EH](t){this[As]+=1;try{return new this[hR](t.path,this[lR](t)).on("end",()=>this[uR](t)).on("error",n=>this.emit("error",n))}catch(n){this.emit("error",n)}}[dR](){this[Hp]&&this[Hp].entry&&this[Hp].entry.resume()}[wE](t){t.piped=!0,t.readdir&&t.readdir.forEach(i=>{let o=t.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[yE](s+i)});let n=t.entry,r=this.zip;r?n.on("data",i=>{r.write(i)||n.pause()}):n.on("data",i=>{super.write(i)||n.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),gR=class extends yR{constructor(t){super(t),this[hR]=Sue}pause(){}resume(){}[fR](t){let n=this.follow?"statSync":"lstatSync";this[vE](t,_E[n](t.absolute))}[mR](t,n){this[xE](t,_E.readdirSync(t.absolute))}[wE](t){let n=t.entry,r=this.zip;t.readdir&&t.readdir.forEach(i=>{let o=t.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[yE](s+i)}),r?n.on("data",i=>{r.write(i)}):n.on("data",i=>{super[bH](i)})}};yR.Sync=gR;CH.exports=yR});var Xp=w(Ug=>{"use strict";var Rue=Lp(),Aue=require("events").EventEmitter,qr=require("fs"),ER=qr.writev;if(!ER){let e=process.binding("fs"),t=e.FSReqWrap||e.FSReqCallback;ER=(n,r,i,o)=>{let s=(u,c)=>o(u,c,r),a=new t;a.oncomplete=s,e.writeBuffers(n,r,i,a)}}var Yp=Symbol("_autoClose"),No=Symbol("_close"),Mg=Symbol("_ended"),mt=Symbol("_fd"),SH=Symbol("_finished"),kc=Symbol("_flags"),xR=Symbol("_flush"),_R=Symbol("_handleChunk"),bR=Symbol("_makeBuf"),PE=Symbol("_mode"),CE=Symbol("_needDrain"),Gp=Symbol("_onerror"),Kp=Symbol("_onopen"),wR=Symbol("_onread"),Vp=Symbol("_onwrite"),Oc=Symbol("_open"),xa=Symbol("_path"),hl=Symbol("_pos"),Ds=Symbol("_queue"),Wp=Symbol("_read"),TH=Symbol("_readSize"),Dc=Symbol("_reading"),SE=Symbol("_remain"),IH=Symbol("_size"),TE=Symbol("_write"),Bp=Symbol("_writing"),IE=Symbol("_defaultFlag"),zp=Symbol("_errored"),RE=class extends Rue{constructor(t,n){if(n=n||{},super(n),this.readable=!0,this.writable=!1,typeof t!="string")throw new TypeError("path must be a string");this[zp]=!1,this[mt]=typeof n.fd=="number"?n.fd:null,this[xa]=t,this[TH]=n.readSize||16*1024*1024,this[Dc]=!1,this[IH]=typeof n.size=="number"?n.size:1/0,this[SE]=this[IH],this[Yp]=typeof n.autoClose=="boolean"?n.autoClose:!0,typeof this[mt]=="number"?this[Wp]():this[Oc]()}get fd(){return this[mt]}get path(){return this[xa]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Oc](){qr.open(this[xa],"r",(t,n)=>this[Kp](t,n))}[Kp](t,n){t?this[Gp](t):(this[mt]=n,this.emit("open",n),this[Wp]())}[bR](){return Buffer.allocUnsafe(Math.min(this[TH],this[SE]))}[Wp](){if(!this[Dc]){this[Dc]=!0;let t=this[bR]();if(t.length===0)return process.nextTick(()=>this[wR](null,0,t));qr.read(this[mt],t,0,t.length,null,(n,r,i)=>this[wR](n,r,i))}}[wR](t,n,r){this[Dc]=!1,t?this[Gp](t):this[_R](n,r)&&this[Wp]()}[No](){if(this[Yp]&&typeof this[mt]=="number"){let t=this[mt];this[mt]=null,qr.close(t,n=>n?this.emit("error",n):this.emit("close"))}}[Gp](t){this[Dc]=!0,this[No](),this.emit("error",t)}[_R](t,n){let r=!1;return this[SE]-=t,t>0&&(r=super.write(t<n.length?n.slice(0,t):n)),(t===0||this[SE]<=0)&&(r=!1,this[No](),super.end()),r}emit(t,n){switch(t){case"prefinish":case"finish":break;case"drain":typeof this[mt]=="number"&&this[Wp]();break;case"error":return this[zp]?void 0:(this[zp]=!0,super.emit(t,n));default:return super.emit(t,n)}}},CR=class extends RE{[Oc](){let t=!0;try{this[Kp](null,qr.openSync(this[xa],"r")),t=!1}finally{t&&this[No]()}}[Wp](){let t=!0;try{if(!this[Dc]){this[Dc]=!0;do{let n=this[bR](),r=n.length===0?0:qr.readSync(this[mt],n,0,n.length,null);if(!this[_R](r,n))break}while(!0);this[Dc]=!1}t=!1}finally{t&&this[No]()}}[No](){if(this[Yp]&&typeof this[mt]=="number"){let t=this[mt];this[mt]=null,qr.closeSync(t),this.emit("close")}}},AE=class extends Aue{constructor(t,n){n=n||{},super(n),this.readable=!1,this.writable=!0,this[zp]=!1,this[Bp]=!1,this[Mg]=!1,this[CE]=!1,this[Ds]=[],this[xa]=t,this[mt]=typeof n.fd=="number"?n.fd:null,this[PE]=n.mode===void 0?438:n.mode,this[hl]=typeof n.start=="number"?n.start:null,this[Yp]=typeof n.autoClose=="boolean"?n.autoClose:!0;let r=this[hl]!==null?"r+":"w";this[IE]=n.flags===void 0,this[kc]=this[IE]?r:n.flags,this[mt]===null&&this[Oc]()}emit(t,n){if(t==="error"){if(this[zp])return;this[zp]=!0}return super.emit(t,n)}get fd(){return this[mt]}get path(){return this[xa]}[Gp](t){this[No](),this[Bp]=!0,this.emit("error",t)}[Oc](){qr.open(this[xa],this[kc],this[PE],(t,n)=>this[Kp](t,n))}[Kp](t,n){this[IE]&&this[kc]==="r+"&&t&&t.code==="ENOENT"?(this[kc]="w",this[Oc]()):t?this[Gp](t):(this[mt]=n,this.emit("open",n),this[xR]())}end(t,n){return t&&this.write(t,n),this[Mg]=!0,!this[Bp]&&!this[Ds].length&&typeof this[mt]=="number"&&this[Vp](null,0),this}write(t,n){return typeof t=="string"&&(t=Buffer.from(t,n)),this[Mg]?(this.emit("error",new Error("write() after end()")),!1):this[mt]===null||this[Bp]||this[Ds].length?(this[Ds].push(t),this[CE]=!0,!1):(this[Bp]=!0,this[TE](t),!0)}[TE](t){qr.write(this[mt],t,0,t.length,this[hl],(n,r)=>this[Vp](n,r))}[Vp](t,n){t?this[Gp](t):(this[hl]!==null&&(this[hl]+=n),this[Ds].length?this[xR]():(this[Bp]=!1,this[Mg]&&!this[SH]?(this[SH]=!0,this[No](),this.emit("finish")):this[CE]&&(this[CE]=!1,this.emit("drain"))))}[xR](){if(this[Ds].length===0)this[Mg]&&this[Vp](null,0);else if(this[Ds].length===1)this[TE](this[Ds].pop());else{let t=this[Ds];this[Ds]=[],ER(this[mt],t,this[hl],(n,r)=>this[Vp](n,r))}}[No](){if(this[Yp]&&typeof this[mt]=="number"){let t=this[mt];this[mt]=null,qr.close(t,n=>n?this.emit("error",n):this.emit("close"))}}},SR=class extends AE{[Oc](){let t;if(this[IE]&&this[kc]==="r+")try{t=qr.openSync(this[xa],this[kc],this[PE])}catch(n){if(n.code==="ENOENT")return this[kc]="w",this[Oc]();throw n}else t=qr.openSync(this[xa],this[kc],this[PE]);this[Kp](null,t)}[No](){if(this[Yp]&&typeof this[mt]=="number"){let t=this[mt];this[mt]=null,qr.closeSync(t),this.emit("close")}}[TE](t){let n=!0;try{this[Vp](null,qr.writeSync(this[mt],t,0,t.length,this[hl])),n=!1}finally{if(n)try{this[No]()}catch{}}}};Ug.ReadStream=RE;Ug.ReadStreamSync=CR;Ug.WriteStream=AE;Ug.WriteStreamSync=SR});var ME=w((KMe,LH)=>{"use strict";var Due=cE(),kue=$p(),Oue=require("events"),Nue=mE(),Lue=1024*1024,Fue=oE(),PH=aE(),Mue=j0(),{nextTick:Uue}=require("process"),TR=Buffer.from([31,139]),Gi=Symbol("state"),gl=Symbol("writeEntry"),wa=Symbol("readEntry"),IR=Symbol("nextEntry"),RH=Symbol("processEntry"),zi=Symbol("extendedHeader"),qg=Symbol("globalExtendedHeader"),Nc=Symbol("meta"),AH=Symbol("emitMeta"),Pt=Symbol("buffer"),Ea=Symbol("queue"),vl=Symbol("ended"),DH=Symbol("emittedEnd"),yl=Symbol("emit"),$r=Symbol("unzip"),DE=Symbol("consumeChunk"),kE=Symbol("consumeChunkSub"),PR=Symbol("consumeBody"),kH=Symbol("consumeMeta"),OH=Symbol("consumeHeader"),OE=Symbol("consuming"),RR=Symbol("bufferConcat"),AR=Symbol("maybeEnd"),$g=Symbol("writing"),Lc=Symbol("aborted"),NE=Symbol("onDone"),xl=Symbol("sawValidEntry"),LE=Symbol("sawNullBlock"),FE=Symbol("sawEOF"),NH=Symbol("closeStream"),que=e=>!0;LH.exports=Due(class extends Oue{constructor(t){t=t||{},super(t),this.file=t.file||"",this[xl]=null,this.on(NE,n=>{(this[Gi]==="begin"||this[xl]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),t.ondone?this.on(NE,t.ondone):this.on(NE,n=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!t.strict,this.maxMetaEntrySize=t.maxMetaEntrySize||Lue,this.filter=typeof t.filter=="function"?t.filter:que,this.writable=!0,this.readable=!1,this[Ea]=new Nue,this[Pt]=null,this[wa]=null,this[gl]=null,this[Gi]="begin",this[Nc]="",this[zi]=null,this[qg]=null,this[vl]=!1,this[$r]=null,this[Lc]=!1,this[LE]=!1,this[FE]=!1,this.on("end",()=>this[NH]()),typeof t.onwarn=="function"&&this.on("warn",t.onwarn),typeof t.onentry=="function"&&this.on("entry",t.onentry)}[OH](t,n){this[xl]===null&&(this[xl]=!1);let r;try{r=new kue(t,n,this[zi],this[qg])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(r.nullBlock)this[LE]?(this[FE]=!0,this[Gi]==="begin"&&(this[Gi]="header"),this[yl]("eof")):(this[LE]=!0,this[yl]("nullBlock"));else if(this[LE]=!1,!r.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:r});else if(!r.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:r});else{let i=r.type;if(/^(Symbolic)?Link$/.test(i)&&!r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:r});else if(!/^(Symbolic)?Link$/.test(i)&&r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:r});else{let o=this[gl]=new Fue(r,this[zi],this[qg]);if(!this[xl])if(o.remain){let s=()=>{o.invalid||(this[xl]=!0)};o.on("end",s)}else this[xl]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[yl]("ignoredEntry",o),this[Gi]="ignore",o.resume()):o.size>0&&(this[Nc]="",o.on("data",s=>this[Nc]+=s),this[Gi]="meta"):(this[zi]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[yl]("ignoredEntry",o),this[Gi]=o.remain?"ignore":"header",o.resume()):(o.remain?this[Gi]="body":(this[Gi]="header",o.end()),this[wa]?this[Ea].push(o):(this[Ea].push(o),this[IR]())))}}}[NH](){Uue(()=>this.emit("close"))}[RH](t){let n=!0;return t?Array.isArray(t)?this.emit.apply(this,t):(this[wa]=t,this.emit("entry",t),t.emittedEnd||(t.on("end",r=>this[IR]()),n=!1)):(this[wa]=null,n=!1),n}[IR](){do;while(this[RH](this[Ea].shift()));if(!this[Ea].length){let t=this[wa];!t||t.flowing||t.size===t.remain?this[$g]||this.emit("drain"):t.once("drain",r=>this.emit("drain"))}}[PR](t,n){let r=this[gl],i=r.blockRemain,o=i>=t.length&&n===0?t:t.slice(n,n+i);return r.write(o),r.blockRemain||(this[Gi]="header",this[gl]=null,r.end()),o.length}[kH](t,n){let r=this[gl],i=this[PR](t,n);return this[gl]||this[AH](r),i}[yl](t,n,r){!this[Ea].length&&!this[wa]?this.emit(t,n,r):this[Ea].push([t,n,r])}[AH](t){switch(this[yl]("meta",this[Nc]),t.type){case"ExtendedHeader":case"OldExtendedHeader":this[zi]=PH.parse(this[Nc],this[zi],!1);break;case"GlobalExtendedHeader":this[qg]=PH.parse(this[Nc],this[qg],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[zi]=this[zi]||Object.create(null),this[zi].path=this[Nc].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[zi]=this[zi]||Object.create(null),this[zi].linkpath=this[Nc].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[Lc]=!0,this.emit("abort",t),this.warn("TAR_ABORT",t,{recoverable:!1})}write(t){if(this[Lc])return;if(this[$r]===null&&t){if(this[Pt]&&(t=Buffer.concat([this[Pt],t]),this[Pt]=null),t.length<TR.length)return this[Pt]=t,!0;for(let r=0;this[$r]===null&&r<TR.length;r++)t[r]!==TR[r]&&(this[$r]=!1);if(this[$r]===null){let r=this[vl];this[vl]=!1,this[$r]=new Mue.Unzip,this[$r].on("data",o=>this[DE](o)),this[$r].on("error",o=>this.abort(o)),this[$r].on("end",o=>{this[vl]=!0,this[DE]()}),this[$g]=!0;let i=this[$r][r?"end":"write"](t);return this[$g]=!1,i}}this[$g]=!0,this[$r]?this[$r].write(t):this[DE](t),this[$g]=!1;let n=this[Ea].length?!1:this[wa]?this[wa].flowing:!0;return!n&&!this[Ea].length&&this[wa].once("drain",r=>this.emit("drain")),n}[RR](t){t&&!this[Lc]&&(this[Pt]=this[Pt]?Buffer.concat([this[Pt],t]):t)}[AR](){if(this[vl]&&!this[DH]&&!this[Lc]&&!this[OE]){this[DH]=!0;let t=this[gl];if(t&&t.blockRemain){let n=this[Pt]?this[Pt].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${n} available)`,{entry:t}),this[Pt]&&t.write(this[Pt]),t.end()}this[yl](NE)}}[DE](t){if(this[OE])this[RR](t);else if(!t&&!this[Pt])this[AR]();else{if(this[OE]=!0,this[Pt]){this[RR](t);let n=this[Pt];this[Pt]=null,this[kE](n)}else this[kE](t);for(;this[Pt]&&this[Pt].length>=512&&!this[Lc]&&!this[FE];){let n=this[Pt];this[Pt]=null,this[kE](n)}this[OE]=!1}(!this[Pt]||this[vl])&&this[AR]()}[kE](t){let n=0,r=t.length;for(;n+512<=r&&!this[Lc]&&!this[FE];)switch(this[Gi]){case"begin":case"header":this[OH](t,n),n+=512;break;case"ignore":case"body":n+=this[PR](t,n);break;case"meta":n+=this[kH](t,n);break;default:throw new Error("invalid state: "+this[Gi])}n<r&&(this[Pt]?this[Pt]=Buffer.concat([t.slice(n),this[Pt]]):this[Pt]=t.slice(n))}end(t){this[Lc]||(this[$r]?this[$r].end(t):(this[vl]=!0,this.write(t)))}})});var UE=w((XMe,qH)=>{"use strict";var $ue=Op(),MH=ME(),Qp=require("fs"),jue=Xp(),FH=require("path"),DR=jp();qH.exports=(e,t,n)=>{typeof e=="function"?(n=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(n=t,t=null),t?t=Array.from(t):t=[];let r=$ue(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return t.length&&Bue(r,t),r.noResume||Hue(r),r.file&&r.sync?Vue(r):r.file?Wue(r,n):UH(r)};var Hue=e=>{let t=e.onentry;e.onentry=t?n=>{t(n),n.resume()}:n=>n.resume()},Bue=(e,t)=>{let n=new Map(t.map(o=>[DR(o),!0])),r=e.filter,i=(o,s)=>{let a=s||FH.parse(o).root||".",u=o===a?!1:n.has(o)?n.get(o):i(FH.dirname(o),a);return n.set(o,u),u};e.filter=r?(o,s)=>r(o,s)&&i(DR(o)):o=>i(DR(o))},Vue=e=>{let t=UH(e),n=e.file,r=!0,i;try{let o=Qp.statSync(n),s=e.maxReadSize||16*1024*1024;if(o.size<s)t.end(Qp.readFileSync(n));else{let a=0,u=Buffer.allocUnsafe(s);for(i=Qp.openSync(n,"r");a<o.size;){let c=Qp.readSync(i,u,0,s,a);a+=c,t.write(u.slice(0,c))}t.end()}r=!1}finally{if(r&&i)try{Qp.closeSync(i)}catch{}}},Wue=(e,t)=>{let n=new MH(e),r=e.maxReadSize||16*1024*1024,i=e.file,o=new Promise((s,a)=>{n.on("error",a),n.on("end",s),Qp.stat(i,(u,c)=>{if(u)a(u);else{let l=new jue.ReadStream(i,{readSize:r,size:c.size});l.on("error",a),l.pipe(n)}})});return t?o.then(t,t):o},UH=e=>new MH(e)});var WH=w((QMe,VH)=>{"use strict";var Gue=Op(),qE=bE(),$H=Xp(),jH=UE(),HH=require("path");VH.exports=(e,t,n)=>{if(typeof t=="function"&&(n=t),Array.isArray(e)&&(t=e,e={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);let r=Gue(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return r.file&&r.sync?zue(r,t):r.file?Yue(r,t,n):r.sync?Kue(r,t):Xue(r,t)};var zue=(e,t)=>{let n=new qE.Sync(e),r=new $H.WriteStreamSync(e.file,{mode:e.mode||438});n.pipe(r),BH(n,t)},Yue=(e,t,n)=>{let r=new qE(e),i=new $H.WriteStream(e.file,{mode:e.mode||438});r.pipe(i);let o=new Promise((s,a)=>{i.on("error",a),i.on("close",s),r.on("error",a)});return kR(r,t),n?o.then(n,n):o},BH=(e,t)=>{t.forEach(n=>{n.charAt(0)==="@"?jH({file:HH.resolve(e.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>e.add(r)}):e.add(n)}),e.end()},kR=(e,t)=>{for(;t.length;){let n=t.shift();if(n.charAt(0)==="@")return jH({file:HH.resolve(e.cwd,n.slice(1)),noResume:!0,onentry:r=>e.add(r)}).then(r=>kR(e,t));e.add(n)}e.end()},Kue=(e,t)=>{let n=new qE.Sync(e);return BH(n,t),n},Xue=(e,t)=>{let n=new qE(e);return kR(n,t),n}});var OR=w((JMe,JH)=>{"use strict";var Que=Op(),GH=bE(),hi=require("fs"),zH=Xp(),YH=UE(),KH=require("path"),XH=$p();JH.exports=(e,t,n)=>{let r=Que(e);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),r.sync?Jue(r,t):ele(r,t,n)};var Jue=(e,t)=>{let n=new GH.Sync(e),r=!0,i,o;try{try{i=hi.openSync(e.file,"r+")}catch(u){if(u.code==="ENOENT")i=hi.openSync(e.file,"w+");else throw u}let s=hi.fstatSync(i),a=Buffer.alloc(512);e:for(o=0;o<s.size;o+=512){for(let l=0,d=0;l<512;l+=d){if(d=hi.readSync(i,a,l,a.length-l,o+l),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!d)break e}let u=new XH(a);if(!u.cksumValid)break;let c=512*Math.ceil(u.size/512);if(o+c+512>s.size)break;o+=c,e.mtimeCache&&e.mtimeCache.set(u.path,u.mtime)}r=!1,Zue(e,n,o,i,t)}finally{if(r)try{hi.closeSync(i)}catch{}}},Zue=(e,t,n,r,i)=>{let o=new zH.WriteStreamSync(e.file,{fd:r,start:n});t.pipe(o),tle(t,i)},ele=(e,t,n)=>{t=Array.from(t);let r=new GH(e),i=(s,a,u)=>{let c=(m,h)=>{m?hi.close(s,g=>u(m)):u(null,h)},l=0;if(a===0)return c(null,0);let d=0,p=Buffer.alloc(512),f=(m,h)=>{if(m)return c(m);if(d+=h,d<512&&h)return hi.read(s,p,d,p.length-d,l+d,f);if(l===0&&p[0]===31&&p[1]===139)return c(new Error("cannot append to compressed archives"));if(d<512)return c(null,l);let g=new XH(p);if(!g.cksumValid)return c(null,l);let v=512*Math.ceil(g.size/512);if(l+v+512>a||(l+=v+512,l>=a))return c(null,l);e.mtimeCache&&e.mtimeCache.set(g.path,g.mtime),d=0,hi.read(s,p,0,512,l,f)};hi.read(s,p,0,512,l,f)},o=new Promise((s,a)=>{r.on("error",a);let u="r+",c=(l,d)=>{if(l&&l.code==="ENOENT"&&u==="r+")return u="w+",hi.open(e.file,u,c);if(l)return a(l);hi.fstat(d,(p,f)=>{if(p)return hi.close(d,()=>a(p));i(d,f.size,(m,h)=>{if(m)return a(m);let g=new zH.WriteStream(e.file,{fd:d,start:h});r.pipe(g),g.on("error",a),g.on("close",s),QH(r,t)})})};hi.open(e.file,u,c)});return n?o.then(n,n):o},tle=(e,t)=>{t.forEach(n=>{n.charAt(0)==="@"?YH({file:KH.resolve(e.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>e.add(r)}):e.add(n)}),e.end()},QH=(e,t)=>{for(;t.length;){let n=t.shift();if(n.charAt(0)==="@")return YH({file:KH.resolve(e.cwd,n.slice(1)),noResume:!0,onentry:r=>e.add(r)}).then(r=>QH(e,t));e.add(n)}e.end()}});var e2=w((ZMe,ZH)=>{"use strict";var nle=Op(),rle=OR();ZH.exports=(e,t,n)=>{let r=nle(e);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),ile(r),rle(r,t,n)};var ile=e=>{let t=e.filter;e.mtimeCache||(e.mtimeCache=new Map),e.filter=t?(n,r)=>t(n,r)&&!(e.mtimeCache.get(n)>r.mtime):(n,r)=>!(e.mtimeCache.get(n)>r.mtime)}});var r2=w((eUe,n2)=>{var{promisify:t2}=require("util"),Fc=require("fs"),ole=e=>{if(!e)e={mode:511,fs:Fc};else if(typeof e=="object")e={mode:511,fs:Fc,...e};else if(typeof e=="number")e={mode:e,fs:Fc};else if(typeof e=="string")e={mode:parseInt(e,8),fs:Fc};else throw new TypeError("invalid options argument");return e.mkdir=e.mkdir||e.fs.mkdir||Fc.mkdir,e.mkdirAsync=t2(e.mkdir),e.stat=e.stat||e.fs.stat||Fc.stat,e.statAsync=t2(e.stat),e.statSync=e.statSync||e.fs.statSync||Fc.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||Fc.mkdirSync,e};n2.exports=ole});var o2=w((tUe,i2)=>{var sle=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:ale,parse:cle}=require("path"),ule=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=ale(e),sle==="win32"){let t=/[*|"<>?:]/,{root:n}=cle(e);if(t.test(e.substr(n.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e};i2.exports=ule});var l2=w((nUe,u2)=>{var{dirname:s2}=require("path"),a2=(e,t,n=void 0)=>n===t?Promise.resolve():e.statAsync(t).then(r=>r.isDirectory()?n:void 0,r=>r.code==="ENOENT"?a2(e,s2(t),t):void 0),c2=(e,t,n=void 0)=>{if(n!==t)try{return e.statSync(t).isDirectory()?n:void 0}catch(r){return r.code==="ENOENT"?c2(e,s2(t),t):void 0}};u2.exports={findMade:a2,findMadeSync:c2}});var FR=w((rUe,p2)=>{var{dirname:d2}=require("path"),NR=(e,t,n)=>{t.recursive=!1;let r=d2(e);return r===e?t.mkdirAsync(e,t).catch(i=>{if(i.code!=="EISDIR")throw i}):t.mkdirAsync(e,t).then(()=>n||e,i=>{if(i.code==="ENOENT")return NR(r,t).then(o=>NR(e,t,o));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return t.statAsync(e).then(o=>{if(o.isDirectory())return n;throw i},()=>{throw i})})},LR=(e,t,n)=>{let r=d2(e);if(t.recursive=!1,r===e)try{return t.mkdirSync(e,t)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return t.mkdirSync(e,t),n||e}catch(i){if(i.code==="ENOENT")return LR(e,t,LR(r,t,n));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!t.statSync(e).isDirectory())throw i}catch{throw i}}};p2.exports={mkdirpManual:NR,mkdirpManualSync:LR}});var h2=w((iUe,m2)=>{var{dirname:f2}=require("path"),{findMade:lle,findMadeSync:dle}=l2(),{mkdirpManual:ple,mkdirpManualSync:fle}=FR(),mle=(e,t)=>(t.recursive=!0,f2(e)===e?t.mkdirAsync(e,t):lle(t,e).then(r=>t.mkdirAsync(e,t).then(()=>r).catch(i=>{if(i.code==="ENOENT")return ple(e,t);throw i}))),hle=(e,t)=>{if(t.recursive=!0,f2(e)===e)return t.mkdirSync(e,t);let r=dle(t,e);try{return t.mkdirSync(e,t),r}catch(i){if(i.code==="ENOENT")return fle(e,t);throw i}};m2.exports={mkdirpNative:mle,mkdirpNativeSync:hle}});var x2=w((oUe,y2)=>{var g2=require("fs"),gle=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,MR=gle.replace(/^v/,"").split("."),v2=+MR[0]>10||+MR[0]==10&&+MR[1]>=12,vle=v2?e=>e.mkdir===g2.mkdir:()=>!1,yle=v2?e=>e.mkdirSync===g2.mkdirSync:()=>!1;y2.exports={useNative:vle,useNativeSync:yle}});var S2=w((sUe,C2)=>{var Jp=r2(),Zp=o2(),{mkdirpNative:w2,mkdirpNativeSync:E2}=h2(),{mkdirpManual:_2,mkdirpManualSync:b2}=FR(),{useNative:xle,useNativeSync:wle}=x2(),ef=(e,t)=>(e=Zp(e),t=Jp(t),xle(t)?w2(e,t):_2(e,t)),Ele=(e,t)=>(e=Zp(e),t=Jp(t),wle(t)?E2(e,t):b2(e,t));ef.sync=Ele;ef.native=(e,t)=>w2(Zp(e),Jp(t));ef.manual=(e,t)=>_2(Zp(e),Jp(t));ef.nativeSync=(e,t)=>E2(Zp(e),Jp(t));ef.manualSync=(e,t)=>b2(Zp(e),Jp(t));C2.exports=ef});var k2=w((aUe,D2)=>{"use strict";var Yi=require("fs"),wl=require("path"),_le=Yi.lchown?"lchown":"chown",ble=Yi.lchownSync?"lchownSync":"chownSync",I2=Yi.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),T2=(e,t,n)=>{try{return Yi[ble](e,t,n)}catch(r){if(r.code!=="ENOENT")throw r}},Cle=(e,t,n)=>{try{return Yi.chownSync(e,t,n)}catch(r){if(r.code!=="ENOENT")throw r}},Sle=I2?(e,t,n,r)=>i=>{!i||i.code!=="EISDIR"?r(i):Yi.chown(e,t,n,r)}:(e,t,n,r)=>r,UR=I2?(e,t,n)=>{try{return T2(e,t,n)}catch(r){if(r.code!=="EISDIR")throw r;Cle(e,t,n)}}:(e,t,n)=>T2(e,t,n),Tle=process.version,P2=(e,t,n)=>Yi.readdir(e,t,n),Ile=(e,t)=>Yi.readdirSync(e,t);/^v4\./.test(Tle)&&(P2=(e,t,n)=>Yi.readdir(e,n));var $E=(e,t,n,r)=>{Yi[_le](e,t,n,Sle(e,t,n,i=>{r(i&&i.code!=="ENOENT"?i:null)}))},R2=(e,t,n,r,i)=>{if(typeof t=="string")return Yi.lstat(wl.resolve(e,t),(o,s)=>{if(o)return i(o.code!=="ENOENT"?o:null);s.name=t,R2(e,s,n,r,i)});if(t.isDirectory())qR(wl.resolve(e,t.name),n,r,o=>{if(o)return i(o);let s=wl.resolve(e,t.name);$E(s,n,r,i)});else{let o=wl.resolve(e,t.name);$E(o,n,r,i)}},qR=(e,t,n,r)=>{P2(e,{withFileTypes:!0},(i,o)=>{if(i){if(i.code==="ENOENT")return r();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return r(i)}if(i||!o.length)return $E(e,t,n,r);let s=o.length,a=null,u=c=>{if(!a){if(c)return r(a=c);if(--s===0)return $E(e,t,n,r)}};o.forEach(c=>R2(e,c,t,n,u))})},Ple=(e,t,n,r)=>{if(typeof t=="string")try{let i=Yi.lstatSync(wl.resolve(e,t));i.name=t,t=i}catch(i){if(i.code==="ENOENT")return;throw i}t.isDirectory()&&A2(wl.resolve(e,t.name),n,r),UR(wl.resolve(e,t.name),n,r)},A2=(e,t,n)=>{let r;try{r=Ile(e,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return UR(e,t,n);throw i}return r&&r.length&&r.forEach(i=>Ple(e,i,t,n)),UR(e,t,n)};D2.exports=qR;qR.sync=A2});var F2=w((cUe,$R)=>{"use strict";var O2=S2(),Ki=require("fs"),jE=require("path"),N2=k2(),Lo=Up(),HE=class extends Error{constructor(t,n){super("Cannot extract through symbolic link"),this.path=n,this.symlink=t}get name(){return"SylinkError"}},BE=class extends Error{constructor(t,n){super(n+": Cannot cd into '"+t+"'"),this.path=t,this.code=n}get name(){return"CwdError"}},VE=(e,t)=>e.get(Lo(t)),jg=(e,t,n)=>e.set(Lo(t),n),Rle=(e,t)=>{Ki.stat(e,(n,r)=>{(n||!r.isDirectory())&&(n=new BE(e,n&&n.code||"ENOTDIR")),t(n)})};$R.exports=(e,t,n)=>{e=Lo(e);let r=t.umask,i=t.mode|448,o=(i&r)!==0,s=t.uid,a=t.gid,u=typeof s=="number"&&typeof a=="number"&&(s!==t.processUid||a!==t.processGid),c=t.preserve,l=t.unlink,d=t.cache,p=Lo(t.cwd),f=(g,v)=>{g?n(g):(jg(d,e,!0),v&&u?N2(v,s,a,y=>f(y)):o?Ki.chmod(e,i,n):n())};if(d&&VE(d,e)===!0)return f();if(e===p)return Rle(e,f);if(c)return O2(e,{mode:i}).then(g=>f(null,g),f);let h=Lo(jE.relative(p,e)).split("/");WE(p,h,i,d,l,p,null,f)};var WE=(e,t,n,r,i,o,s,a)=>{if(!t.length)return a(null,s);let u=t.shift(),c=Lo(jE.resolve(e+"/"+u));if(VE(r,c))return WE(c,t,n,r,i,o,s,a);Ki.mkdir(c,n,L2(c,t,n,r,i,o,s,a))},L2=(e,t,n,r,i,o,s,a)=>u=>{u?Ki.lstat(e,(c,l)=>{if(c)c.path=c.path&&Lo(c.path),a(c);else if(l.isDirectory())WE(e,t,n,r,i,o,s,a);else if(i)Ki.unlink(e,d=>{if(d)return a(d);Ki.mkdir(e,n,L2(e,t,n,r,i,o,s,a))});else{if(l.isSymbolicLink())return a(new HE(e,e+"/"+t.join("/")));a(u)}}):(s=s||e,WE(e,t,n,r,i,o,s,a))},Ale=e=>{let t=!1,n="ENOTDIR";try{t=Ki.statSync(e).isDirectory()}catch(r){n=r.code}finally{if(!t)throw new BE(e,n)}};$R.exports.sync=(e,t)=>{e=Lo(e);let n=t.umask,r=t.mode|448,i=(r&n)!==0,o=t.uid,s=t.gid,a=typeof o=="number"&&typeof s=="number"&&(o!==t.processUid||s!==t.processGid),u=t.preserve,c=t.unlink,l=t.cache,d=Lo(t.cwd),p=g=>{jg(l,e,!0),g&&a&&N2.sync(g,o,s),i&&Ki.chmodSync(e,r)};if(l&&VE(l,e)===!0)return p();if(e===d)return Ale(d),p();if(u)return p(O2.sync(e,r));let m=Lo(jE.relative(d,e)).split("/"),h=null;for(let g=m.shift(),v=d;g&&(v+="/"+g);g=m.shift())if(v=Lo(jE.resolve(v)),!VE(l,v))try{Ki.mkdirSync(v,r),h=h||v,jg(l,v,!0)}catch{let x=Ki.lstatSync(v);if(x.isDirectory()){jg(l,v,!0);continue}else if(c){Ki.unlinkSync(v),Ki.mkdirSync(v,r),h=h||v,jg(l,v,!0);continue}else if(x.isSymbolicLink())return new HE(v,v+"/"+m.join("/"))}return p(h)}});var HR=w((uUe,M2)=>{var jR=Object.create(null),{hasOwnProperty:Dle}=Object.prototype;M2.exports=e=>(Dle.call(jR,e)||(jR[e]=e.normalize("NFKD")),jR[e])});var j2=w((lUe,$2)=>{var U2=require("assert"),kle=HR(),Ole=jp(),{join:q2}=require("path"),Nle=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Lle=Nle==="win32";$2.exports=()=>{let e=new Map,t=new Map,n=c=>c.split("/").slice(0,-1).reduce((d,p)=>(d.length&&(p=q2(d[d.length-1],p)),d.push(p||"/"),d),[]),r=new Set,i=c=>{let l=t.get(c);if(!l)throw new Error("function does not have any path reservations");return{paths:l.paths.map(d=>e.get(d)),dirs:[...l.dirs].map(d=>e.get(d))}},o=c=>{let{paths:l,dirs:d}=i(c);return l.every(p=>p[0]===c)&&d.every(p=>p[0]instanceof Set&&p[0].has(c))},s=c=>r.has(c)||!o(c)?!1:(r.add(c),c(()=>a(c)),!0),a=c=>{if(!r.has(c))return!1;let{paths:l,dirs:d}=t.get(c),p=new Set;return l.forEach(f=>{let m=e.get(f);U2.equal(m[0],c),m.length===1?e.delete(f):(m.shift(),typeof m[0]=="function"?p.add(m[0]):m[0].forEach(h=>p.add(h)))}),d.forEach(f=>{let m=e.get(f);U2(m[0]instanceof Set),m[0].size===1&&m.length===1?e.delete(f):m[0].size===1?(m.shift(),p.add(m[0])):m[0].delete(c)}),r.delete(c),p.forEach(f=>s(f)),!0};return{check:o,reserve:(c,l)=>{c=Lle?["win32 parallelization disabled"]:c.map(p=>kle(Ole(q2(p))).toLowerCase());let d=new Set(c.map(p=>n(p)).reduce((p,f)=>p.concat(f)));return t.set(l,{dirs:d,paths:c}),c.forEach(p=>{let f=e.get(p);f?f.push(l):e.set(p,[l])}),d.forEach(p=>{let f=e.get(p);f?f[f.length-1]instanceof Set?f[f.length-1].add(l):f.push(new Set([l])):e.set(p,[new Set([l])])}),s(l)}}}});var V2=w((dUe,B2)=>{var Fle=process.env.__FAKE_PLATFORM__||process.platform,Mle=Fle==="win32",Ule=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:qle,O_TRUNC:$le,O_WRONLY:jle,UV_FS_O_FILEMAP:H2=0}=Ule.constants,Hle=Mle&&!!H2,Ble=512*1024,Vle=H2|$le|qle|jle;B2.exports=Hle?e=>e<Ble?Vle:"w":()=>"w"});var QR=w((pUe,iB)=>{"use strict";var Wle=require("assert"),Gle=ME(),it=require("fs"),zle=Xp(),_a=require("path"),tB=F2(),W2=Q0(),Yle=j2(),Kle=J0(),gi=Up(),Xle=jp(),Qle=HR(),G2=Symbol("onEntry"),WR=Symbol("checkFs"),z2=Symbol("checkFs2"),YE=Symbol("pruneCache"),GR=Symbol("isReusable"),Xi=Symbol("makeFs"),zR=Symbol("file"),YR=Symbol("directory"),KE=Symbol("link"),Y2=Symbol("symlink"),K2=Symbol("hardlink"),X2=Symbol("unsupported"),Q2=Symbol("checkPath"),Mc=Symbol("mkdir"),ir=Symbol("onError"),GE=Symbol("pending"),J2=Symbol("pend"),tf=Symbol("unpend"),BR=Symbol("ended"),VR=Symbol("maybeClose"),KR=Symbol("skip"),Hg=Symbol("doChown"),Bg=Symbol("uid"),Vg=Symbol("gid"),Wg=Symbol("checkedCwd"),nB=require("crypto"),rB=V2(),Jle=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Gg=Jle==="win32",Zle=(e,t)=>{if(!Gg)return it.unlink(e,t);let n=e+".DELETE."+nB.randomBytes(16).toString("hex");it.rename(e,n,r=>{if(r)return t(r);it.unlink(n,t)})},ede=e=>{if(!Gg)return it.unlinkSync(e);let t=e+".DELETE."+nB.randomBytes(16).toString("hex");it.renameSync(e,t),it.unlinkSync(t)},Z2=(e,t,n)=>e===e>>>0?e:t===t>>>0?t:n,eB=e=>Qle(Xle(gi(e))).toLowerCase(),tde=(e,t)=>{t=eB(t);for(let n of e.keys()){let r=eB(n);(r===t||r.indexOf(t+"/")===0)&&e.delete(n)}},nde=e=>{for(let t of e.keys())e.delete(t)},zg=class extends Gle{constructor(t){if(t||(t={}),t.ondone=n=>{this[BR]=!0,this[VR]()},super(t),this[Wg]=!1,this.reservations=Yle(),this.transform=typeof t.transform=="function"?t.transform:null,this.writable=!0,this.readable=!1,this[GE]=0,this[BR]=!1,this.dirCache=t.dirCache||new Map,typeof t.uid=="number"||typeof t.gid=="number"){if(typeof t.uid!="number"||typeof t.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid,this.gid=t.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;t.preserveOwner===void 0&&typeof t.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!t.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=t.forceChown===!0,this.win32=!!t.win32||Gg,this.newer=!!t.newer,this.keep=!!t.keep,this.noMtime=!!t.noMtime,this.preservePaths=!!t.preservePaths,this.unlink=!!t.unlink,this.cwd=gi(_a.resolve(t.cwd||process.cwd())),this.strip=+t.strip||0,this.processUmask=t.noChmod?0:process.umask(),this.umask=typeof t.umask=="number"?t.umask:this.processUmask,this.dmode=t.dmode||511&~this.umask,this.fmode=t.fmode||438&~this.umask,this.on("entry",n=>this[G2](n))}warn(t,n,r={}){return(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")&&(r.recoverable=!1),super.warn(t,n,r)}[VR](){this[BR]&&this[GE]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[Q2](t){if(this.strip){let n=gi(t.path).split("/");if(n.length<this.strip)return!1;if(t.path=n.slice(this.strip).join("/"),t.type==="Link"){let r=gi(t.linkpath).split("/");if(r.length>=this.strip)t.linkpath=r.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let n=gi(t.path),r=n.split("/");if(r.includes("..")||Gg&&/^[a-z]:\.\.$/i.test(r[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:t,path:n}),!1;let[i,o]=Kle(n);i&&(t.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:t,path:n}))}if(_a.isAbsolute(t.path)?t.absolute=gi(_a.resolve(t.path)):t.absolute=gi(_a.resolve(this.cwd,t.path)),!this.preservePaths&&t.absolute.indexOf(this.cwd+"/")!==0&&t.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:t,path:gi(t.path),resolvedPath:t.absolute,cwd:this.cwd}),!1;if(t.absolute===this.cwd&&t.type!=="Directory"&&t.type!=="GNUDumpDir")return!1;if(this.win32){let{root:n}=_a.win32.parse(t.absolute);t.absolute=n+W2.encode(t.absolute.slice(n.length));let{root:r}=_a.win32.parse(t.path);t.path=r+W2.encode(t.path.slice(r.length))}return!0}[G2](t){if(!this[Q2](t))return t.resume();switch(Wle.equal(typeof t.absolute,"string"),t.type){case"Directory":case"GNUDumpDir":t.mode&&(t.mode=t.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[WR](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[X2](t)}}[ir](t,n){t.name==="CwdError"?this.emit("error",t):(this.warn("TAR_ENTRY_ERROR",t,{entry:n}),this[tf](),n.resume())}[Mc](t,n,r){tB(gi(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n,noChmod:this.noChmod},r)}[Hg](t){return this.forceChown||this.preserveOwner&&(typeof t.uid=="number"&&t.uid!==this.processUid||typeof t.gid=="number"&&t.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Bg](t){return Z2(this.uid,t.uid,this.processUid)}[Vg](t){return Z2(this.gid,t.gid,this.processGid)}[zR](t,n){let r=t.mode&4095||this.fmode,i=new zle.WriteStream(t.absolute,{flags:rB(t.size),mode:r,autoClose:!1});i.on("error",u=>{i.fd&&it.close(i.fd,()=>{}),i.write=()=>!0,this[ir](u,t),n()});let o=1,s=u=>{if(u){i.fd&&it.close(i.fd,()=>{}),this[ir](u,t),n();return}--o===0&&it.close(i.fd,c=>{c?this[ir](c,t):this[tf](),n()})};i.on("finish",u=>{let c=t.absolute,l=i.fd;if(t.mtime&&!this.noMtime){o++;let d=t.atime||new Date,p=t.mtime;it.futimes(l,d,p,f=>f?it.utimes(c,d,p,m=>s(m&&f)):s())}if(this[Hg](t)){o++;let d=this[Bg](t),p=this[Vg](t);it.fchown(l,d,p,f=>f?it.chown(c,d,p,m=>s(m&&f)):s())}s()});let a=this.transform&&this.transform(t)||t;a!==t&&(a.on("error",u=>{this[ir](u,t),n()}),t.pipe(a)),a.pipe(i)}[YR](t,n){let r=t.mode&4095||this.dmode;this[Mc](t.absolute,r,i=>{if(i){this[ir](i,t),n();return}let o=1,s=a=>{--o===0&&(n(),this[tf](),t.resume())};t.mtime&&!this.noMtime&&(o++,it.utimes(t.absolute,t.atime||new Date,t.mtime,s)),this[Hg](t)&&(o++,it.chown(t.absolute,this[Bg](t),this[Vg](t),s)),s()})}[X2](t){t.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t}),t.resume()}[Y2](t,n){this[KE](t,t.linkpath,"symlink",n)}[K2](t,n){let r=gi(_a.resolve(this.cwd,t.linkpath));this[KE](t,r,"link",n)}[J2](){this[GE]++}[tf](){this[GE]--,this[VR]()}[KR](t){this[tf](),t.resume()}[GR](t,n){return t.type==="File"&&!this.unlink&&n.isFile()&&n.nlink<=1&&!Gg}[WR](t){this[J2]();let n=[t.path];t.linkpath&&n.push(t.linkpath),this.reservations.reserve(n,r=>this[z2](t,r))}[YE](t){t.type==="SymbolicLink"?nde(this.dirCache):t.type!=="Directory"&&tde(this.dirCache,t.absolute)}[z2](t,n){this[YE](t);let r=a=>{this[YE](t),n(a)},i=()=>{this[Mc](this.cwd,this.dmode,a=>{if(a){this[ir](a,t),r();return}this[Wg]=!0,o()})},o=()=>{if(t.absolute!==this.cwd){let a=gi(_a.dirname(t.absolute));if(a!==this.cwd)return this[Mc](a,this.dmode,u=>{if(u){this[ir](u,t),r();return}s()})}s()},s=()=>{it.lstat(t.absolute,(a,u)=>{if(u&&(this.keep||this.newer&&u.mtime>t.mtime)){this[KR](t),r();return}if(a||this[GR](t,u))return this[Xi](null,t,r);if(u.isDirectory()){if(t.type==="Directory"){let c=!this.noChmod&&t.mode&&(u.mode&4095)!==t.mode,l=d=>this[Xi](d,t,r);return c?it.chmod(t.absolute,t.mode,l):l()}if(t.absolute!==this.cwd)return it.rmdir(t.absolute,c=>this[Xi](c,t,r))}if(t.absolute===this.cwd)return this[Xi](null,t,r);Zle(t.absolute,c=>this[Xi](c,t,r))})};this[Wg]?o():i()}[Xi](t,n,r){if(t){this[ir](t,n),r();return}switch(n.type){case"File":case"OldFile":case"ContiguousFile":return this[zR](n,r);case"Link":return this[K2](n,r);case"SymbolicLink":return this[Y2](n,r);case"Directory":case"GNUDumpDir":return this[YR](n,r)}}[KE](t,n,r,i){it[r](n,t.absolute,o=>{o?this[ir](o,t):(this[tf](),t.resume()),i()})}},zE=e=>{try{return[null,e()]}catch(t){return[t,null]}},XR=class extends zg{[Xi](t,n){return super[Xi](t,n,()=>{})}[WR](t){if(this[YE](t),!this[Wg]){let o=this[Mc](this.cwd,this.dmode);if(o)return this[ir](o,t);this[Wg]=!0}if(t.absolute!==this.cwd){let o=gi(_a.dirname(t.absolute));if(o!==this.cwd){let s=this[Mc](o,this.dmode);if(s)return this[ir](s,t)}}let[n,r]=zE(()=>it.lstatSync(t.absolute));if(r&&(this.keep||this.newer&&r.mtime>t.mtime))return this[KR](t);if(n||this[GR](t,r))return this[Xi](null,t);if(r.isDirectory()){if(t.type==="Directory"){let s=!this.noChmod&&t.mode&&(r.mode&4095)!==t.mode,[a]=s?zE(()=>{it.chmodSync(t.absolute,t.mode)}):[];return this[Xi](a,t)}let[o]=zE(()=>it.rmdirSync(t.absolute));this[Xi](o,t)}let[i]=t.absolute===this.cwd?[]:zE(()=>ede(t.absolute));this[Xi](i,t)}[zR](t,n){let r=t.mode&4095||this.fmode,i=a=>{let u;try{it.closeSync(o)}catch(c){u=c}(a||u)&&this[ir](a||u,t),n()},o;try{o=it.openSync(t.absolute,rB(t.size),r)}catch(a){return i(a)}let s=this.transform&&this.transform(t)||t;s!==t&&(s.on("error",a=>this[ir](a,t)),t.pipe(s)),s.on("data",a=>{try{it.writeSync(o,a,0,a.length)}catch(u){i(u)}}),s.on("end",a=>{let u=null;if(t.mtime&&!this.noMtime){let c=t.atime||new Date,l=t.mtime;try{it.futimesSync(o,c,l)}catch(d){try{it.utimesSync(t.absolute,c,l)}catch{u=d}}}if(this[Hg](t)){let c=this[Bg](t),l=this[Vg](t);try{it.fchownSync(o,c,l)}catch(d){try{it.chownSync(t.absolute,c,l)}catch{u=u||d}}}i(u)})}[YR](t,n){let r=t.mode&4095||this.dmode,i=this[Mc](t.absolute,r);if(i){this[ir](i,t),n();return}if(t.mtime&&!this.noMtime)try{it.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch{}if(this[Hg](t))try{it.chownSync(t.absolute,this[Bg](t),this[Vg](t))}catch{}n(),t.resume()}[Mc](t,n){try{return tB.sync(gi(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n})}catch(r){return r}}[KE](t,n,r,i){try{it[r+"Sync"](n,t.absolute),i(),t.resume()}catch(o){return this[ir](o,t)}}};zg.Sync=XR;iB.exports=zg});var uB=w((fUe,cB)=>{"use strict";var rde=Op(),XE=QR(),sB=require("fs"),aB=Xp(),oB=require("path"),JR=jp();cB.exports=(e,t,n)=>{typeof e=="function"?(n=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(n=t,t=null),t?t=Array.from(t):t=[];let r=rde(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return t.length&&ide(r,t),r.file&&r.sync?ode(r):r.file?sde(r,n):r.sync?ade(r):cde(r)};var ide=(e,t)=>{let n=new Map(t.map(o=>[JR(o),!0])),r=e.filter,i=(o,s)=>{let a=s||oB.parse(o).root||".",u=o===a?!1:n.has(o)?n.get(o):i(oB.dirname(o),a);return n.set(o,u),u};e.filter=r?(o,s)=>r(o,s)&&i(JR(o)):o=>i(JR(o))},ode=e=>{let t=new XE.Sync(e),n=e.file,r=sB.statSync(n),i=e.maxReadSize||16*1024*1024;new aB.ReadStreamSync(n,{readSize:i,size:r.size}).pipe(t)},sde=(e,t)=>{let n=new XE(e),r=e.maxReadSize||16*1024*1024,i=e.file,o=new Promise((s,a)=>{n.on("error",a),n.on("close",s),sB.stat(i,(u,c)=>{if(u)a(u);else{let l=new aB.ReadStream(i,{readSize:r,size:c.size});l.on("error",a),l.pipe(n)}})});return t?o.then(t,t):o},ade=e=>new XE.Sync(e),cde=e=>new XE(e)});var QE=w(Cn=>{"use strict";Cn.c=Cn.create=WH();Cn.r=Cn.replace=OR();Cn.t=Cn.list=UE();Cn.u=Cn.update=e2();Cn.x=Cn.extract=uB();Cn.Pack=bE();Cn.Unpack=QR();Cn.Parse=ME();Cn.ReadEntry=oE();Cn.WriteEntry=cR();Cn.Header=$p();Cn.Pax=aE();Cn.types=V0()});var ZR=w((xUe,pB)=>{pB.exports=function(t,n,r){t(n),r&&r(n===!0?null:n)}});var ZE=w((wUe,mB)=>{"use strict";var fB=ZR();mB.exports=function(t,n){if(!t)return function(i,o){return i?fB(o,i,n):o(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(i){return t[i]}));var r=0;return function(i,o){if(i)return fB(o,i,n);r>=t.length?o(!0):o(null,t[r++])}}});var gB=w((EUe,hB)=>{"use strict";var dde=ZE();hB.exports=function(e){return dde(Object.keys(e))}});var eA=w((_Ue,vB)=>{"use strict";var pde=ZR();vB.exports=function(t,n){return function(r,i){if(r)return pde(i,r,n);if(t!=null){var o=t;t=null,i(null,o)}else i(!0)}}});var xB=w((bUe,yB)=>{"use strict";yB.exports=function(t){var n=0;return t=t||1/0,function(r,i){if(r)return i&&i(r);if(n>t)return i(!0);i(null,n++)}}});var EB=w((CUe,wB)=>{"use strict";wB.exports=function(t){return t=t||Math.random,function(n,r){return n?r&&r(n):r(null,t())}}});var bB=w((SUe,_B)=>{"use strict";_B.exports=function(){return function(t,n){n(!0)}}});var SB=w((TUe,CB)=>{"use strict";CB.exports=function(t){return function(n,r){r(t)}}});var IB=w((IUe,TB)=>{"use strict";TB.exports={keys:gB(),once:eA(),values:ZE(),count:xB(),infinite:EB(),empty:bB(),error:SB()}});var nf=w((PUe,PB)=>{"use strict";PB.exports=function(t,n){var r,i,o;n||(o=new Error("no done callback supplied"));function s(a){if(r=a,i)return s.abort();(function u(){for(var c=!0,l=!1;c;)if(l=!1,r(null,function(d,p){if(l=!0,d=d||i){if(c=!1,n)n(d===!0?null:d);else if(d&&d!==!0)throw console.warn(o),d}else t&&t(p)===!1||i?(c=!1,r(i||!0,n||function(){})):c||u()}),!l){c=!1;return}})()}return s.abort=function(a,u){if(typeof a=="function"&&(u=a,a=!0),i=a||!0,r)return r(i,u||function(){})},s}});var AB=w((RUe,RB)=>{"use strict";var fde=nf();RB.exports=function(t){return fde(null,t)}});var kB=w((AUe,DB)=>{"use strict";var mde=nf();DB.exports=function(t){return mde(function(n){console.log(n)},t)}});var rf=w((DUe,OB)=>{OB.exports=function(t){return t&&(typeof t=="string"?function(n){return n[t]}:typeof t=="object"&&typeof t.exec=="function"?function(n){var r=t.exec(n);return r&&r[0]}:t)}});var FB=w((kUe,LB)=>{"use strict";function NB(e){return e}var hde=rf(),gde=nf();LB.exports=function(t,n){var r=!1;return n?t=hde(t)||NB:(n=t,t=NB),gde(function(i){if(t(i))return r=!0,n(null,i),!1},function(i){r||n(i===!0?null:i,null)})}});var e_=w((OUe,MB)=>{"use strict";var vde=nf();MB.exports=function(t,n,r){r||(r=n,n=null);var i=vde(function(o){n=t(n,o)},function(o){r(o,n)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return r(s===!0?null:s);n=a,i(o)})}:i}});var tA=w((NUe,UB)=>{"use strict";var yde=e_();UB.exports=function(t){return yde(function(n,r){return n.push(r),n},[],t)}});var $B=w((LUe,qB)=>{"use strict";var xde=tA();qB.exports=function(){return t=>{let n,r,i=new Promise((o,s)=>{n=o,r=s});return xde((o,s)=>{o?r(o):n(s)})(t),i}}});var HB=w((FUe,jB)=>{"use strict";var wde=e_();jB.exports=function(t){return wde(function(n,r){return n+r},"",t)}});var VB=w((MUe,BB)=>{"use strict";BB.exports={drain:nf(),onEnd:AB(),log:kB(),find:FB(),reduce:e_(),collect:tA(),collectAsPromise:$B(),concat:HB()}});var GB=w((UUe,WB)=>{"use strict";function Ede(e){return e}var _de=rf();WB.exports=function(t){return t?(t=_de(t),function(n){return function(r,i){n(r,function(o,s){try{s=o?null:t(s)}catch(a){return n(a,function(){return i(a)})}i(o,s)})}}):Ede}});var YB=w((qUe,zB)=>{"use strict";function bde(e){return e}var Cde=rf();zB.exports=function(t){if(!t)return bde;t=Cde(t);var n=!1,r,i;return function(o){return function s(a,u){if(i)return u(i);a?(i=a,n?o(a,function(c){n?r=u:u(a)}):o(a,function(c){u(a)})):o(null,function(c,l){c?u(c):i?u(i):(n=!0,t(l,function(d,p){n=!1,i?(u(i),r&&r(i)):d?s(d,u):u(null,p)}))})}}}});var nA=w(($Ue,KB)=>{var Sde=rf();function Tde(e){return e}KB.exports=function(t){return typeof t=="object"&&typeof t.test=="function"?function(n){return t.test(n)}:Sde(t)||Tde}});var t_=w((jUe,XB)=>{"use strict";var Ide=nA();XB.exports=function(t){return t=Ide(t),function(n){return function r(i,o){for(var s,a=!0;a;)a=!1,s=!0,n(i,function(u,c){if(!u&&!t(c))return s?a=!0:r(u,o);o(u,c)}),s=!1}}}});var JB=w((HUe,QB)=>{"use strict";var Pde=nA(),Rde=t_();QB.exports=function(t){return t=Pde(t),Rde(function(n){return!t(n)})}});var eV=w((BUe,ZB)=>{"use strict";ZB.exports=function(t,n){var r=!1;function i(o){r||!n||(r=!0,n(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(u,c){u?i(u):t&&t(c),a(u,c)})}}}});var nV=w((VUe,tV)=>{"use strict";tV.exports=function(t,n){n=n||{};var r=n.last||!1,i=!1;if(typeof t=="number"){r=!0;var o=t;t=function(){return--o}}return function(s){function a(u){s(!0,function(c){r=!1,u(c||!0)})}return function(u,c){i&&!u?r?a(c):c(i):(i=u)?s(i,c):s(null,function(l,d){(i=i||l)?c(i):t(d)?c(null,d):(i=!0,r?c(null,d):a(c))})}}}});var rA=w((WUe,rV)=>{"use strict";function Ade(e){return e}var Dde=rf(),kde=t_();rV.exports=function(t,n){t=Dde(t)||Ade;var r={};return kde(function(i){var o=t(i);return r[o]?!!n:(r[o]=!0,!n)})}});var oV=w((GUe,iV)=>{"use strict";var Ode=rA();iV.exports=function(t){return Ode(t,!0)}});var aV=w((zUe,sV)=>{"use strict";var Nde=ZE(),Lde=eA();sV.exports=function(){return function(t){var n;return function(r,i){r?n?n(r,function(a){t(a||r,i)}):t(r,i):n?o():s();function o(){n(null,function(a,u){a?a===!0?s():t(!0,function(c){i(a)}):i(null,u)})}function s(){n=null,t(null,function(a,u){if(a)return i(a);u&&typeof u=="object"?u=Nde(u):typeof u!="function"&&(u=Lde(u)),n=u,o()})}}}}});var uV=w((YUe,cV)=>{"use strict";cV.exports={map:GB(),asyncMap:YB(),filter:t_(),filterNot:JB(),through:eV(),take:nV(),unique:rA(),nonUnique:oV(),flatten:aV()}});var iA=w((KUe,lV)=>{"use strict";lV.exports=function e(t){var n=arguments.length;if(typeof t=="function"&&t.length===1){for(var r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(a){if(r==null)throw new TypeError("partial sink should only be called once!");var u=r;switch(r=null,n){case 1:return e(a,u[0]);case 2:return e(a,u[0],u[1]);case 3:return e(a,u[0],u[1],u[2]);case 4:return e(a,u[0],u[1],u[2],u[3]);default:return u.unshift(a),e.apply(null,u)}}}var o=t;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<n;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var Kg=w((El,mV)=>{"use strict";var dV=IB(),pV=VB(),fV=uV();El=mV.exports=iA();El.pull=El;for(Fo in dV)El[Fo]=dV[Fo];var Fo;for(Fo in fV)El[Fo]=fV[Fo];var Fo;for(Fo in pV)El[Fo]=pV[Fo];var Fo});var pA=w((mqe,AV)=>{var fqe=AV.exports=function(e){(function t(){var n=!0,r=!1,i=!1;do i=!0,n=!1,e.call(this,function(){i?n=!0:t()}),i=!1;while(n)})()}});var kV=w((hqe,DV)=>{var Bde=pA();DV.exports=function(e,t){return function(n){var r=[],i,o;function s(c){r.push(c)}e=e||function(c){this.queue(c)},t=t||function(){this.queue(null)};var a={emit:function(c,l){c=="data"&&s(l),c=="end"&&(i=!0,s(null)),c=="error"&&(o=l)},queue:s},u;return function(c,l){if(i=i||c,c)return n(c,function(){if(u){var d=u;u=null,d(c)}l(c)});u=l,Bde(function d(p){if(!!u)if(l=u,o)u=null,l(o);else if(r.length){var f=r.shift();u=null,l(f===null,f)}else n(i,function(m,h){if(m&&m!==!0)return o=m,p();if(i=i||m)t.call(a);else if(h!==null&&(e.call(a,h),o||i))return n(o||i,function(){u=null,l(o||i)});p(d)})})}}}});var NV=w((gqe,OV)=>{OV.exports=function(){var e=[],t=0;function n(){return e.reduce(function(r,i){return r+i.length},0)}return{length:t,data:this,add:function(r){if(!Buffer.isBuffer(r))throw new Error("data must be a buffer, was: "+JSON.stringify(r));return this.length=t=t+r.length,e.push(r),this},has:function(r){return r==null?t>0:t>=r},get:function(r){var i;if(r==null||r===t){t=0;var o=e;return e=[],o.length==1?o[0]:Buffer.concat(o)}else if(e.length>1&&r<=(i=e[0].length)){var s=e[0].slice(0,r);return r===i?e.shift():e[0]=e[0].slice(r,i),t-=r,s}else if(r<t){for(var a=[],u=0;u+e[0].length<r;){var c=e.shift();u+=c.length,a.push(c)}return u<r&&(a.push(e[0].slice(0,r-u)),e[0]=e[0].slice(r-u,e[0].length),this.length=t=t-r),Buffer.concat(a)}else throw new Error("could not get "+r+" bytes")}}}});var UV=w((vqe,MV)=>{"use strict";var Vde=NV();function Wde(e){return Number.isFinite(e)}function LV(e){return typeof e=="function"}function FV(e,t){return t?function(n,r){var i=setTimeout(function(){e(new Error("pull-reader: read exceeded timeout"),r)},t);e(n,function(o,s){clearTimeout(i),r(o,s)})}:e}MV.exports=function(e){var t=[],n,r,i=!1,o=Vde(),s,a,u;function c(){for(;t.length;)if(t[0].length==null&&o.has(1))t.shift().cb(null,o.get());else if(o.has(t[0].length)){var p=t.shift();p.cb(null,o.get(p.length))}else if(s==!0&&t[0].length&&o.length<t[0].length){var f="stream ended with:"+o.length+" but wanted:"+t[0].length;t.shift().cb(new Error(f))}else if(s)t.shift().cb(s);else return!!t.length;return t.length||!o.has(1)||u}function l(){var p=c();p&&!i&&n&&!i&&!a&&(i=!0,r(null,function(f,m){if(i=!1,f)return s=f,c();o.add(m),l()}))}function d(p){if(u){for(;t.length;)t.shift().cb(u);return cb&&cb(u)}r=FV(p,e),n=p,l()}return d.abort=function(p,f){u=p||!0,n?(i=!0,n(u,function(){for(;t.length;)t.shift().cb(u);f&&f(u)})):f()},d.read=function(p,f,m){if(LV(f)&&(m=f,f=e),LV(m))t.push({length:Wde(p)?p:null,cb:m}),l();else return a=!0,function(h,g){if(i||o.has(1)){if(h)return n(h,g);t.push({length:null,cb:g}),l()}else FV(n,f)(h,function(v,y){g(v,y)})}},d}});var XV=w((_l,KV)=>{var Gde=kV(),zde=UV(),qV=Sc(),$V=0,jV=1,HV=2,BV="GOODBYE";function VV(e){let t=Buffer.alloc(9),n=0,r=e.value!==void 0?e.value:e.end;return typeof e=="string"&&e===BV?(t.fill(0),[t,null]):(typeof r=="string"?(n=jV,r=Buffer.from(r,"utf-8")):Buffer.isBuffer(r)?n=$V:(n=HV,r=Buffer.from(JSON.stringify(r),"utf-8")),n=e.stream<<3|e.end<<2|n,t[0]=n,t.writeUInt32BE(r.length,1),t.writeInt32BE(e.req||0,5),[t,r])}function WV(e){if(e.length!==9)throw new Error("expected header to be 9 bytes long");let t=e[0],n=e.readUInt32BE(1);return{req:e.readInt32BE(5),stream:!!(t&8),end:!!(t&4),value:null,length:n,type:t&3}}function GV(e,t){if(e.length!==t.length)throw new Error("incorrect length, expected:"+t.length+" found:"+e.length);if(t.type===$V)t.value=e;else if(t.type===jV)t.value=e.toString();else if(t.type===HV)t.value=JSON.parse(e.toString());else throw new Error("unknown message type");return t}function zV(e){return Gde(function(n){e&&e("encoded: %o",n);let[r,i]=VV(n);this.queue(r),i!==null&&this.queue(i)})}function YV(e){let t=zde(),n=!1;return function(i){return t(i),function(s,a){if(n)return a(!0);if(s)return t.abort(s,a);t.read(9,function(c,l){if(c)return a(c);let d=WV(l);if(d.length===0)return n=!0,a(null,BV);t.read(d.length,function(f,m){if(f)return a(f);try{GV(m,d)}catch(h){return a(h)}e&&e("decoded: %o",d),a(null,d)})})}}}_l=KV.exports=function(t,n){let r=n===!0?qV("packet-stream-codec"):typeof n=="string"?qV(n):null;return{source:zV(r)(t.source),sink(i){return t.sink(YV(r)(i))}}};_l.encodePair=VV;_l.decodeHead=WV;_l.decodeBody=GV;_l.encode=zV;_l.decode=YV});var fA=w((yqe,QV)=>{function Yde(e){return e&&(e===!0?!0:{message:e.message,name:e.name,stack:e.stack})}function Kde(e){console.error("packet-stream asked to read after closed",e)}QV.exports={flat:Yde,closedread:Kde}});var e3=w((xqe,ZV)=>{var{flat:JV,closedread:Xde}=fA();function r_(e,t,n){this.id=e,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=t,this._remove=n}r_.prototype.write=function(e,t){let n=this._ps;t?(this.writeEnd=t,n&&(n.read({req:this.id,stream:!0,end:!0,value:JV(t)}),this.readEnd&&this.destroy(t),n._maybedone(t))):n&&n.read({req:this.id,stream:!0,end:!1,value:e})};r_.prototype.end=function(e){this.write(null,JV(e||!0))};r_.prototype.destroy=function(e){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,e)}catch(t){console.error("Exception thrown by PacketStream substream end handler",t),console.error(t.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,e)}catch(t){console.error("Exception thrown by PacketStream substream end handler",t),console.error(t.stack)}}this.write(null,e)}this._ps&&(this._remove(),this._remove=null,this.read=Xde,this._ps=null)};ZV.exports=r_});var r3=w((wqe,n3)=>{var t3=e3(),{flat:mA,closedread:Qde}=fA();function Qi(e){this.ended=!1,this.opts=e,this._req_counter=1,this._requests=new Map,this._instreams=new Map,this._outstreams=new Map,this._closecbs=[],this._closing=!1,this._closed=!1,e.close&&this._closecbs.push(e.close)}Qi.prototype.message=function(e){this.read({req:0,stream:!1,end:!1,value:e})};Qi.prototype.request=function(e,t){if(this._closing)return t(new Error("parent stream is closing"));let n=this._req_counter++;this._requests.set(n,(r,i)=>{this._requests.delete(n),t(r,i),this._maybedone(r)}),this.read({req:n,stream:!1,end:!1,value:e})};Qi.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");let e=this._req_counter++,t=new t3(e,this,()=>{this._outstreams.delete(e)});return this._outstreams.set(e,t),t};Qi.prototype.close=function(e){if(!e)throw new Error("packet-stream.close *must* have callback");if(this._closed)return e();this._closecbs.push(e),this._closing=!0,this._maybedone()};Qi.prototype.destroy=function(e){e=e||mA(e),this.ended=e,this._closing=!0;let t=e===!0?new Error("unexpected end of parent stream"):e,n=0;this._requests.forEach(r=>{n++,r(t)}),this._instreams.forEach(r=>{n++,r.writeEnd=!0,r.destroy(t)}),this._outstreams.forEach(r=>{n++,r.writeEnd=!0,r.destroy(t)}),n===0&&e===!0&&(t=null),this._maybedone(t)};Qi.prototype._maybedone=function(e){this._closed||!this._closing||this._requests.size!==0||this._instreams.size!==0||this._outstreams.size!==0||(this.read(null,e||!0),this._closed=!0,this._closecbs.forEach(t=>{t(e)}),this.opts=null,this._closecbs.length=0,this.read=Qde,this._requests.clear(),this._instreams.clear(),this._outstreams.clear())};Qi.prototype.read=function(e){console.error("please overwrite read method to do IO",e)};Qi.prototype.write=function(e,t){this.ended||(t?this.destroy(t):e.req&&!e.stream?this._onrequest(e):e.req&&e.stream?this._onstream(e):this._onmessage(e))};Qi.prototype._onmessage=function(e){this.opts&&typeof this.opts.message=="function"&&this.opts.message(e.value)};Qi.prototype._onrequest=function(e){let t=e.req*-1;if(e.req<0)this._requests.has(t)&&this._requests.get(t)(e.end?e.value:null,e.end?null:e.value);else if(this.opts&&typeof this.opts.request=="function"){let n=!1;this.opts.request(e.value,(r,i)=>{if(n)throw new Error("cb called twice from local api");n=!0,r?this.read({value:mA(r),end:!0,req:t}):this.read({value:i,end:!1,req:t}),this._maybedone()})}else{if(this.ended){let n=this.ended===!0?new Error("unexpected end of parent stream"):this.ended;this.read({value:mA(n),end:!0,stream:!1,req:t})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:t});this._maybedone()}};Qi.prototype._onstream=function(e){if(e.req<0){let t=e.req*-1,n=this._outstreams.get(t);if(!n)return console.error("no stream for incoming msg",e);e.end?(n.writeEnd&&this._outstreams.delete(t),n.readEnd=!0,n.read(null,e.value),this._maybedone()):n.read(e.value)}else{let t=e.req,n=this._instreams.get(t);n||(n=new t3(t*-1,this,()=>{this._instreams.delete(t)}),this._instreams.set(t,n),this.opts&&typeof this.opts.stream=="function"&&this.opts.stream(n)),e.end?(n.writeEnd&&this._instreams.delete(t),n.readEnd=!0,n.read&&n.read(null,e.value),this._maybedone()):n.read?n.read(e.value):console.error("no .read for stream:",n.id,"dropped:",e)}};n3.exports=e=>new Qi(e)});var o3=w((Eqe,Jg)=>{"use strict";var Jde=Kg();function Zde(e){let t=!1;return(n,r)=>{t||(t=!0,e(n,r))}}function hA(e,t){let n=[],r=!1,i=!1,o,s,a=Zde((u,c)=>{t&&t(u,c),e=null,t=null,o=null,s&&s(u||!0,()=>{})});return e.read=function(u,c){if(r=r||c,o){let l=o;o=null,l(r,u)}else!r&&!i&&n.push(u);r&&a(r!==!0?r:null)},{source(u,c){u?(e&&e.write(null,u),c(u),n.length=0,i=!0,a(u!==!0?u:null)):n.length?c(null,n.shift()):r?c(r):o=c},sink(u){if(r)return s=null,u(r,()=>{});s=u,Jde.drain(c=>{if(r)return!1;e.write(c)},c=>{e&&!e.writeEnd&&e.write(null,c||!0),a&&a(c)})(u)}}}function i3(e,t){return hA(e,n=>{e.writeEnd||e.write(null,n||!0),t&&t(n)})}function epe(e){return i3(e).source}function tpe(e,t){return i3(e,t).sink}Jg.exports=hA;Jg.exports.source=epe;Jg.exports.sink=tpe;Jg.exports.duplex=hA});var a3=w((_qe,s3)=>{s3.exports=function(t){var n,r,i;function o(s){return function(a,u){s(a,function(c,l){if(c&&!i)return i=!0,u(null,t);c&&n?u(c):c?r=u:u(null,l)})}}return o.end=function(){return n=!0,r&&r(n),o},o}});var u3=w((bqe,c3)=>{var npe=a3(),gA=Kg();c3.exports=function(e,t){t=t||"GOODBYE";var n=npe(t);return{source:gA(e.source,n),sink:gA(gA.filter(function(r){if(r!==t)return!0;n.end()}),e.sink)}}});var Zg=w(Mo=>{"use strict";var i_=Kg();function rpe(e){return e?Object.keys(e).length===0:!0}Mo.set=function(t,n,r){let i,o;for(let s=0;s<n.length;s++){let a=n[s];t[a]=t[a]||{},i=t,o=a,t=t[a]}i[o]=r};Mo.get=function(t,n){if(typeof n=="string")return t[n];let r;for(let i=0;i<n.length;i++){let o=n[i];if(r=t=t[o],t==null)return t}return r};Mo.prefix=function(t,n){let r;for(let i=0;i<n.length;i++){let o=n[i];if(r=t=t[o],typeof t!="object")return t}return typeof r!="object"?!!r:!1};function ipe(e,t){for(let n in t){let r=t[n];e[r]||(e[r]={}),e=e[r]}return e}function ope(e,t){(function n(r,i){let o=t[i];if(r)t.length-1===i?delete r[o]:i<t.length&&n(r[o],i+1);else return;rpe(r[o])&&delete r[o]})(e,0)}function spe(e,t){for(let n in t)e[n]=t[n];return e}Mo.mount=function(t,n,r){if(!Array.isArray(n))throw new Error("path must be array of strings");return spe(ipe(t,n),r)};Mo.unmount=function(t,n){return ope(t,n)};var o_=e=>e==="source",s_=e=>e==="sink",vA=e=>e==="duplex",ape=e=>e==="sync",cpe=e=>e==="async",l3=e=>ape(e)||cpe(e),upe=e=>o_(e)||s_(e)||vA(e);Mo.isRequest=l3;Mo.isStream=upe;function yA(e){return function(t){t(e||!0,()=>{})}}function d3(e){return{source:i_.error(e),sink:yA(e)}}Mo.errorAsStream=function(t,n){return o_(t)?i_.error(n):s_(t)?yA(n):d3(n)};Mo.errorAsStreamOrCb=function(t,n,r){return l3(t)?r(n):vA(t)?d3(n):o_(t)?i_.error(n):s_(t)?yA(n):r(n)};Mo.pipeToStream=function(t,n,r){o_(t)?n(r):s_(t)?r(n):vA(t)&&i_(n,r,n)}});var xA=w((Sqe,p3)=>{"use strict";function lpe(e){return typeof e=="string"?[`Error: ${e}`]:e.stack?e.stack.split(`
`):[`${e.name}: ${e.message}`]}p3.exports=function(t,n){let r=new Error(n),i=r.stack.split(`
`);i.splice(1,1);let o=lpe(t);o[0]="  "+o[0];for(let s=1;s<i.length;s++)if(o.includes(i[s])){i.splice(s);break}return r.stack=i.concat(o).join(`
`),r}});var g3=w((Tqe,h3)=>{"use strict";var dpe=r3(),wA=o3(),ppe=u3(),uf=Zg(),f3=xA(),m3=Sc()("muxrpc:psc");h3.exports=function(t,n,r){let i=dpe({message(){},request(s,a){if(!Array.isArray(s.args))return a(new Error(`invalid request, args should be array, was: ${JSON.stringify(s)}`));let u=s.name,c=s.args,l=!1,d=!1;c.push((p,f)=>{d=!0,l=!0,a(p,f)});try{t("async",u,c)}catch(p){if(l||d)throw f3(p,"no callback provided to muxrpc async funtion");a(p)}},stream(s){s.read=function(u,c){if(c)return s.write(null,c);let{name:l,type:d,args:p}=u,f,m;if(s.read=null,!uf.isStream(d))return s.write(null,new Error(`unsupported stream type: ${d}`));try{m=t(d,l,p)}catch(v){f=v}let g=wA[d==="source"?"sink":d==="sink"?"source":"duplex"](s);return uf.pipeToStream(d,g,f?uf.errorAsStream(d,f):m)}},close(s){if(i=null,o.ended=!0,!o.closed&&(o.closed=!0,r)){let a=r;r=null,a(s)}}}),o=ppe(wA(i,()=>{}));return o=n?n(o,m3.enabled?m3.namespace:!1):o,o.remoteCall=function(s,a,u,c){if(a==="emit")return i.message(u);if(!(uf.isRequest(s)||uf.isStream(s)))throw new Error(`unsupported type: ${JSON.stringify(s)}`);if(uf.isRequest(s))return i.request({name:a,args:u},c);let l=i.stream(),d=wA[s](l,c);return l.write({name:a,args:u,type:s}),d},o.isOpen=function(){return!i.ended},o.close=function(s,a){if(typeof s=="function"&&(a=s,s=!1),!i){a&&a();return}if(s){i.destroy(s),a&&a();return}return i.close(u=>{if(a)a(u);else if(u)throw f3(u,"no callback provided for muxrpc close")}),this},o.closed=!1,o}});var y3=w((Iqe,v3)=>{"use strict";var fpe=xA(),mpe=Zg();function EA(e,t,n,r){for(let i in t){let o=t[i],s=n?n.concat(i):[i];if(o&&typeof o=="object"){let a=o;e[i]=EA({},a,s,r)}else{let a=o;e[i]=(...u)=>r(a,s,u)}}return e}function hpe(e){if(e)throw fpe(e,"callback not provided")}function gpe(e,t,n,r){e=e||{};function i(o,s,a){let u=typeof a[a.length-1]=="function"?a.pop():o==="sync"||o==="async"?null:hpe;if(typeof u=="function"){let c;try{c=n(o,s,a,u)}catch(l){return mpe.errorAsStreamOrCb(o,l,u)}return c}else return new Promise((c,l)=>{n(o,s,a,(d,p)=>{d?l(d):c(p)})})}return r?i("async","manifest",[function(o,s){if(o)return r(o);EA(e,s,null,i),r(null,s,e)}]):EA(e,t,null,i),e}v3.exports=gpe});var E3=w((Pqe,w3)=>{"use strict";var a_=Zg();function x3(e){return Array.isArray(e)?e:e.split(".")}function vpe(e){return e&&typeof e.pre=="function"&&typeof e.test=="function"&&typeof e.post=="function"}w3.exports=function(t){if(vpe(t))return t;if(typeof t=="function")return{pre:t};let n=null,r={};function i(o){if(o.allow){n={};for(let s of o.allow)a_.set(n,x3(s),!0)}else n=null;if(o.deny)for(let s of o.deny)a_.set(r,x3(s),!0);else r={};return this}return t&&i(t),i.pre=o=>{if(o=Array.isArray(o)?o:[o],n&&!a_.prefix(n,o))return new Error(`method:${o} is not in list of allowed methods`);if(r&&a_.prefix(r,o))return new Error(`method:${o} is on list of disallowed methods`)},i.post=()=>{},i.test=o=>i.pre(o),i.get=()=>({allow:n,deny:r}),i}});var b3=w((Rqe,_3)=>{"use strict";var ype=E3(),_A=Zg();_3.exports=function(t,n,r){r=ype(r);function i(s,a){return s===_A.get(n,a)}function o(s,a,u){if(a==="emit")throw new Error("emit has been removed");if(s==="async"&&i("sync",a)){let c=u.pop(),l;try{l=_A.get(t,a).apply(this,u)}catch(d){return c(d)}return c(null,l)}if(!i(s,a))throw new Error(`no ${s}:${a}`);return _A.get(t,a).apply(this,u)}return function(a,u,c){let l=r.pre(u,c);if(l)throw l;return o.call(this,a,u,c)}}});var T3=w((Aqe,S3)=>{"use strict";var xpe=XV(),wpe=require("events").EventEmitter,Epe=g3(),_pe=y3(),bpe=b3();function C3(e,t,n,r,i,o,s){let a;typeof e=="function"&&(a=e,e={}),t=t||{},e=e||{};let u=new wpe;o||(o=xpe);let c,l={_emit(p,f){return u&&u._emit(p,f),l},id:r},d=Epe(bpe(n,t,i).bind(l),o,p=>{if(!u.closed&&(u.closed=!0,u.emit("closed"),c)){let f=c;c=null,f(p)}});if(_pe(u,e,(p,f,m,h)=>{if(d.closed)throw new Error("stream is closed");return d.remoteCall(p,f,m,h)},a),u._emit=u.emit,s){Object.__defineGetter__.call(u,"id",()=>l.id),Object.__defineSetter__.call(u,"id",f=>{l.id=f});let p=!0;u.createStream=f=>{if(c=f,p)return p=!1,d;throw new Error("one stream per rpc")}}else u.stream=d;return u.closed=!1,u.close=function(p,f){return d.close(p,f),this},u}S3.exports=function(e,t,n){return arguments.length>3?C3.apply(this,arguments):function(r,i,o){return C3(e,t,r,o,i,n,!0)}}});var bA=w((ba,R3)=>{var Dqe=iA(),Cpe=pA();function I3(e){e.destroy?e.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function P3(e,t,n){var r,i=!1,o;function s(){o||(o=!0,n&&n(r===!0?null:r))}function a(){i||(i=!0,c(),r?s():e(r=!0,s))}function u(l){c(),r||e(r=l,s)}function c(){t.on("finish",a),t.removeListener("close",a),t.removeListener("error",u)}t.on("close",a),t.on("finish",a),t.on("error",u),process.nextTick(function(){Cpe(function(l){e(null,function(d,p){if(r=r||d,d===!0)return t._isStdio?s():t.end();if(r=r||d)return I3(t),s(r);if(t._isStdio)t.write(p,function(){l()});else{var f=t.write(p);f===!1?t.once("drain",l):l()}})})})}function Spe(e){var t=!1,n=!1,r;function i(){var o=e.read();if(o!==null&&r){var s=r;r=null,s(null,o)}}return e.on("readable",function(){n=!0,r&&i()}).on("end",function(){t=!0,r&&r(t)}).on("error",function(o){t=o,r&&r(t)}),function(o,s){r=s,t?s(t):n&&i()}}function c_(e){var t=[],n=[],r,i=!1,o;function s(){for(;(t.length||r)&&n.length;)n.shift()(t.length?null:r,t.shift());!t.length&&i&&(i=!1,e.resume())}return e.on("data",function(a){t.push(a),s(),t.length&&e.pause&&(i=!0,e.pause())}),e.on("end",function(){r=!0,s()}),e.on("close",function(){r=!0,s()}),e.on("error",function(a){r=a,s()}),function(a,u){if(!u)throw new Error("*must* provide cb");if(a){let l=function(){for(;n.length;)n.shift()(a);u(a)};var c=l;if(r)return l();e.once("close",l),I3(e)}else n.push(u),s()}}var Tpe=c_,u_=function(e,t){return function(n){return P3(n,e,t)}},l_=function(e){return c_(e)};ba=R3.exports=function(e,t){return e.writable&&e.write?e.readable?function(n){return P3(n,e,t),c_(e)}:u_(e,t):l_(e)};ba.sink=u_;ba.source=l_;ba.read=Tpe;ba.read1=c_;ba.read2=Spe;ba.duplex=function(e,t){return{source:l_(e),sink:u_(e,t)}};ba.transform=function(e){return function(t){var n=l_(e);return u_(e)(t),n}}});var D3=w((kqe,d_)=>{var Ipe=require("stream");d_.exports=CA;d_.exports.source=function(e){return CA(null,e)};d_.exports.sink=function(e){return CA(e,null)};var A3=typeof setImmediate>"u"?process.nextTick:setImmediate;function CA(e,t){e&&typeof e=="object"&&(t=e.source,e=e.sink);var n=[],r=[],i,o,s=new Ipe;s.writable=s.readable=!0,s.write=function(g){return n.length?n.shift()(null,g):r.push(g),n.length||(o=!0),!!n.length},s.end=function(){t?r.length?h():t(i=!0,n.length?n.shift():function(){}):n.length&&n.shift()(!0)},s.source=function(g,v){r.length?(v(null,r.shift()),r.length||s.emit("drain")):((i=i||g)?v(i):n.push(v),o&&(o=!1,s.emit("drain")))};var a;e&&(a=e(s.source)),a&&!t&&(t=a);var u=[],c=[],l=!1,d=!1,p=!1;if(s.sink=function(g){t=g,A3(h)},t){s.sink(t),s.paused=!0;var f=s.on.bind(s);s.on=(g,v)=>{var y=f(g,v);return g==="data"&&s.paused&&A3(s.resume.bind(s)),y};var m=s.pipe.bind(s);s.pipe=function(g,v){var y=m(g,v);return s.paused&&s.resume(),y}}function h(){if(d=!1,!(!t||p)){for(;u.length&&!s.paused;)s.emit("data",u.shift());if(!s.paused){if(l)return s.emit("end");p=!0,t(null,function g(v,y){p=!1,s.paused?(v===!0?l=v:v?s.emit("error",v):u.push(y),d=!0):v&&(i=v)!==!0?s.emit("error",v):(i=i||v)?s.emit("end"):(s.emit("data",y),p=!0,t(null,g))})}}}return s.pause=function(){return s.paused=!0,s},s.resume=function(){return s.paused=!1,h(),s},s.destroy=function(){!i&&t&&t(i=!0,function(){}),i=!0,n.length&&n.shift()(!0),s.emit("close")},s}});var O3=w((Oqe,k3)=>{k3.exports=Ppe;function Ppe(e,t){typeof e=="function"&&(t=e,e=!1);var n=[],r,i;function o(d,p){d&&(r=d,i&&l(r)),i=p,c()}var s;function a(d){s=s||d||!0,c()}function u(d){if(!s){if(i){l(r,d);return}n.push(d)}}if(e)return{push:u,end:a,source:o,buffer:n};return o.push=u,o.end=a,o.buffer=n,o;function c(){!i||(r?l(r):!n.length&&s?l(s):n.length&&l(null,n.shift()))}function l(d,p){var f=i;if(d&&t){var m=t;t=null,m(d===!0?null:d)}i=null,f(d,p)}}});var zA=w((xje,uW)=>{"use strict";var aW=require("child_process"),ife=1024*1024,cW={exec(e,t){aW.exec(e,{maxBuffer:2*ife,windowsHide:!0},t)},spawn(e,t,n){return aW.spawn(e,t,n)},stripLine(e,t){let n=0;for(;t-- >0;){let r=e.indexOf(`
`,n);r>=0&&(n=r+1)}return n>0?e.substring(n):e},split(e,t){let n=e.trim().split(/\s+/);return n.length>t&&(n[t-1]=n.slice(t-1).join(" ")),n},extractColumns(e,t,n){let r=e.split(/(\r\n|\n|\r)/),i=[];return n||(n=Math.max.apply(null,t)+1),r.forEach(o=>{let s=cW.split(o,n),a=[];t.forEach(u=>{a.push(s[u]||"")}),i.push(a)}),i},parseTable(e){let t=e.split(/(\r\n\r\n|\r\n\n|\n\r\n)|\n\n/).filter(n=>n.trim().length>0).map(n=>n.split(/(\r\n|\n|\r)/).filter(r=>r.trim().length>0));return t.forEach(n=>{for(let r=0;n[r];){let i=n[r];i.startsWith(" ")?(n[r-1]+=i.trimLeft(),n.splice(r,1)):r+=1}}),t.map(n=>{let r={};return n.forEach(i=>{let o=i.indexOf(":"),s=i.slice(0,o).trim();r[s]=i.slice(o+1).trim()}),r})}};uW.exports=cW});var dW=w((wje,lW)=>{"use strict";var ofe=require("os"),P_=require("fs"),eo=zA(),sfe=e=>new Promise((t,n)=>{P_.existsSync(e)?t():P_.mkdir(e,r=>{r?n(r):t()})}),YA={darwin(e){return new Promise((t,n)=>{eo.exec("netstat -anv -p TCP && netstat -anv -p UDP",function(r,i,o){if(r)n(r);else{if(r=o.toString().trim(),r){n(r);return}let s=eo.stripLine(i.toString(),2),a=eo.extractColumns(s,[0,3,8],10).filter(u=>!!String(u[0]).match(/^(udp|tcp)/)).find(u=>{let c=String(u[1]).match(/\.(\d+)$/);if(c&&c[1]===String(e))return!0});a&&a[2].length?t(parseInt(a[2],10)):n(new Error(`pid of port (${e}) not found`))}})})},freebsd:"darwin",sunos:"darwin",linux(e){return new Promise((t,n)=>{let r="netstat -tunlp";eo.exec(r,function(i,o,s){if(i)n(i);else{let a=s.toString().trim();a&&console.warn(a);let u=eo.stripLine(o.toString(),2),c=eo.extractColumns(u,[3,6],7).find(l=>{let d=String(l[0]).match(/:(\d+)$/);if(d&&d[1]===String(e))return!0});if(c&&c[1]){let l=c[1].split("/",1)[0];l.length?t(parseInt(l,10)):n(new Error(`pid of port (${e}) not found`))}else n(new Error(`pid of port (${e}) not found`))}})})},win32(e){return new Promise((t,n)=>{eo.exec("netstat -ano",function(r,i,o){if(r)n(r);else{if(r=o.toString().trim(),r){n(r);return}let s=eo.stripLine(i.toString(),4),a=eo.extractColumns(s,[1,4],5).find(u=>{let c=String(u[0]).match(/:(\d+)$/);if(c&&c[1]===String(e))return!0});a&&a[1].length&&parseInt(a[1],10)>0?t(parseInt(a[1],10)):n(new Error(`pid of port (${e}) not found`))}})})},android(e){return new Promise((t,n)=>{let r=ofe.tmpdir()+"/.find-process",i=r+"/"+process.pid,o='netstat -tunp >> "'+i+'"';sfe(r).then(()=>{eo.exec(o,()=>{P_.readFile(i,"utf8",(s,a)=>{if(P_.unlink(i,()=>{}),s)n(s);else{a=eo.stripLine(a,2);let u=eo.extractColumns(a,[3,6],7).find(c=>{let l=String(c[0]).match(/:(\d+)$/);if(l&&l[1]===String(e))return!0});if(u&&u[1]){let c=u[1].split("/",1)[0];c.length?t(parseInt(c,10)):n(new Error(`pid of port (${e}) not found`))}else n(new Error(`pid of port (${e}) not found`))}})})})})}};function afe(e){let t=process.platform;return new Promise((n,r)=>{if(!(t in YA))return r(new Error(`platform ${t} is unsupported`));let i=YA[t];typeof i=="string"&&(i=YA[i]),i(e).then(n,r)})}lW.exports=afe});var hW=w((Eje,mW)=>{"use strict";var R_=require("path"),$c=zA();function KA(e,t){return t?e&&e.match?e.match(t):!1:!0}function pW(e){let t=e.split(R_.sep),n=t[t.length-1];n&&(t[t.length-1]=n.split(" ")[0]);let r=[];for(let i of t){let o=i.indexOf(" -");if(o>=0){r.push(i.substring(0,o).trim());break}else if(i.endsWith(" ")){r.push(i.trim());break}r.push(i)}return r.join(R_.sep)}function fW(e){if(process.platform==="darwin"){let t=e.indexOf(".app/");if(t>=0)return R_.basename(e.substring(0,t))}return R_.basename(e)}var XA={darwin(e){return new Promise((t,n)=>{let r;"pid"in e?r=`ps -p ${e.pid} -ww -o pid,ppid,uid,gid,args`:r="ps ax -ww -o pid,ppid,uid,gid,args",$c.exec(r,function(i,o,s){if(i)"pid"in e?t([]):n(i);else{if(i=s.toString().trim(),i){n(i);return}let a=$c.stripLine(o.toString(),1),c=$c.extractColumns(a,[0,1,2,3,4],5).filter(l=>l[0]&&e.pid?l[0]===String(e.pid):l[4]&&e.name?KA(l[4],e.name):!!l[0]).map(l=>{let d=String(l[4]),p=pW(d);return{pid:parseInt(l[0],10),ppid:parseInt(l[1],10),uid:parseInt(l[2],10),gid:parseInt(l[3],10),name:fW(p),bin:p,cmd:l[4]}});e.strict&&e.name&&(c=c.filter(l=>l.name===e.name)),t(c)}})})},linux:"darwin",sunos:"darwin",freebsd:"darwin",win32(e){return new Promise((t,n)=>{let r="Get-CimInstance -className win32_process | select Name,ProcessId,ParentProcessId,CommandLine,ExecutablePath",i=[],o=$c.spawn("powershell.exe",["/c",r],{detached:!1,windowsHide:!0});o.stdout.on("data",s=>{i.push(s.toString())}),o.on("close",s=>{if(s!==0)return n(new Error("Command '"+r+"' terminated with code: "+s));let a=$c.parseTable(i.join("")).filter(u=>{if("pid"in e)return u.ProcessId===String(e.pid);if(e.name){let c=u.Name||"";return e.strict?c===e.name||c.endsWith(".exe")&&c.slice(0,-4)===e.name:KA(u.CommandLine||c,e.name)}else return!0}).map(u=>({pid:parseInt(u.ProcessId,10),ppid:parseInt(u.ParentProcessId,10),bin:u.ExecutablePath,name:u.Name||"",cmd:u.CommandLine}));t(a)})})},android(e){return new Promise((t,n)=>{let r="ps";$c.exec(r,function(i,o,s){if(i)"pid"in e?t([]):n(i);else{if(i=s.toString().trim(),i){n(i);return}let a=$c.stripLine(o.toString(),1),c=$c.extractColumns(a,[0,3],4).filter(l=>l[0]&&e.pid?l[0]===String(e.pid):l[1]&&e.name?KA(l[1],e.name):!!l[0]).map(l=>{let d=String(l[1]),p=pW(d);return{pid:parseInt(l[0],10),name:fW(p),bin:p,cmd:d}});e.strict&&e.name&&(c=c.filter(l=>l.name===e.name)),t(c)}})})}};function cfe(e){let t=process.platform;return new Promise((n,r)=>{if(!(t in XA))return r(new Error(`platform ${t} is unsupported`));let i=XA[t];typeof i=="string"&&(i=XA[i]),i(e).then(n,r)})}mW.exports=cfe});var yW=w((_je,vW)=>{"use strict";var ufe=dW(),gW=hW(),QA={port(e,t){return ufe(e,t).then(n=>QA.pid(n,t),()=>[])},pid(e,t){return gW({pid:e,strict:t})},name(e,t){return gW({name:e,strict:t})}};function lfe(e,t,n){return new Promise((r,i)=>{if(!(e in QA))i(new Error(`do not support find by "${e}"`));else{let o=/^\d+$/.test(t);e==="pid"&&!o?i(new Error("pid must be a number")):e==="port"&&!o?i(new Error("port must be a number")):QA[e](t,n).then(r,i)}})}vW.exports=lfe});var wW=w((bje,xW)=>{"use strict";xW.exports=yW()});var Bz=w(Eb=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0});Eb.BaseTelemetryReporter=void 0;var tk=class{constructor(t,n,r){this.telemetrySender=t,this.vscodeAPI=n,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender()}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(t,n,r,i){i?this.telemetrySender.sendEventData(t,{properties:n,measurements:r}):this.telemetryLogger.logUsage(t,{properties:n,measurements:r})}sendTelemetryEvent(t,n,r){this.internalSendTelemetryEvent(t,n,r,!1)}sendDangerousTelemetryEvent(t,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(t,n,r,!0)}internalSendTelemetryErrorEvent(t,n,r,i){i?this.telemetrySender.sendEventData(t,{properties:n,measurements:r}):this.telemetryLogger.logError(t,{properties:n,measurements:r})}sendTelemetryErrorEvent(t,n,r){this.internalSendTelemetryErrorEvent(t,n,r,!1)}sendDangerousTelemetryErrorEvent(t,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(t,n,r,!0)}internalSendTelemetryException(t,n,r,i){i?this.telemetrySender.sendErrorData(t,{properties:n,measurements:r}):this.telemetryLogger.logError(t,{properties:n,measurements:r})}sendTelemetryException(t,n,r){this.internalSendTelemetryException(t,n,r,!1)}sendDangerousTelemetryException(t,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(t,n,r,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(t=>t.dispose()))}};Eb.BaseTelemetryReporter=tk});var Vz=w(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0});_b.BaseTelemetrySender=void 0;var Da;(function(e){e[e.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",e[e.INSTANTIATING=1]="INSTANTIATING",e[e.INSTANTIATED=2]="INSTANTIATED"})(Da||(Da={}));var nk=class{constructor(t,n){this._instantiationStatus=Da.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=n,this._key=t}sendEventData(t,n){if(!this._telemetryClient){this._instantiationStatus!==Da.INSTANTIATED&&this._eventQueue.push({eventName:t,data:n});return}this._telemetryClient.logEvent(t,n)}sendErrorData(t,n){if(!this._telemetryClient){this._instantiationStatus!==Da.INSTANTIATED&&this._exceptionQueue.push({exception:t,data:n});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:t,data:n})=>this.sendEventData(t,n)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:t,data:n})=>this.sendErrorData(t,n)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===Da.NOT_INSTANTIATED&&(this._instantiationStatus=Da.INSTANTIATING,this._clientFactory(this._key).then(t=>{this._telemetryClient=t,this._instantiationStatus=Da.INSTANTIATED,this._flushQueues()}).catch(t=>{console.error(t),this._instantiationStatus=Da.INSTANTIATED}))}};_b.BaseTelemetrySender=nk});var Wz=w(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0});bb.TelemetryUtil=void 0;var Zc=class{static applyReplacements(t,n){for(let r of Object.keys(t))for(let i of n)i.lookup.test(r)&&(i.replacementString!==void 0?t[r]=i.replacementString:delete t[r])}static shouldUseOneDataSystemSDK(t){return t.length===74&&t[32]==="-"&&t[41]==="-"&&t[46]==="-"&&t[51]==="-"&&t[56]==="-"&&t[69]==="-"}static getAdditionalCommonProperties(t){return{"common.os":t.platform,"common.nodeArch":t.architecture,"common.platformversion":(t.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.5"}}static getInstance(){return Zc._instance||(Zc._instance=new Zc),Zc._instance}};bb.TelemetryUtil=Zc});var so,hn,gn,vn,Ov,Ci,jf,Hf,Cb,Bf,Si,Sb=S(()=>{so="function",hn="object",gn="undefined",vn="prototype",Ov="hasOwnProperty",Ci=Object,jf=Ci[vn],Hf=Ci.assign,Cb=Ci.create,Bf=Ci.defineProperty,Si=jf[Ov]});function Bo(e){e===void 0&&(e=!0);var t=e===!1?null:Gz;return t||(typeof globalThis!==gn&&(t=globalThis),!t&&typeof self!==gn&&(t=self),!t&&typeof window!==gn&&(t=window),!t&&typeof global!==gn&&(t=global),Gz=t),t}function Vf(e){throw new TypeError(e)}function $s(e){var t=Cb;if(t)return t(e);if(e==null)return{};var n=typeof e;n!==hn&&n!==so&&Vf("Object prototype may only be an Object:"+e);function r(){}return r[vn]=e,new r}var Gz,rk=S(()=>{Sb();Gz=null});function Vo(e,t){typeof t!==so&&t!==null&&Vf("Class extends value "+String(t)+" is not a constructor or null"),ik(e,t);function n(){this.constructor=e}e[vn]=t===null?$s(t):(n[vn]=t[vn],new n)}function Ib(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var g3e,v3e,nve,Tb,ik,zz=S(()=>{Sb();rk();g3e=(Bo()||{}).Symbol,v3e=(Bo()||{}).Reflect,nve=function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)jf[Ov].call(t,i)&&(e[i]=t[i])}return e},Tb=Hf||nve,ik=function(e,t){return ik=Ci.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[Ov](i)&&(n[i]=r[i])},ik(e,t)}});var Yz=S(()=>{});var Gr=S(()=>{Sb();rk();zz();Yz()});var ok,Kz=S(()=>{"use strict";ok=100});var Wo,Bn,Nv,Go,Me,Ti,js,Pb,zr,ge,Ll,bt,Rb,Fl,Ml,sk,Lv,Ul,Wf,Fv,ka,Ii,Gf,eu,zo,zf,ql,Pi,ao,tu,Oa,Ab,nu,Yo,Yf,ru,Mv,iu,Db,Kf,Ko,ak,ck,kb,yn,Yr,Uv,$l,qv,jl,Xo,Ob,Hl,Xf,ou,$v,sn=S(()=>{Wo="initialize",Bn="name",Nv="getNotifyMgr",Go="identifier",Me="push",Ti="isInitialized",js="config",Pb="instrumentationKey",zr="logger",ge="length",Ll="time",bt="processNext",Rb="getProcessTelContext",Fl="addNotificationListener",Ml="removeNotificationListener",sk="stopPollingInternalLogs",Lv="onComplete",Ul="getPlugin",Wf="flush",Fv="_extensions",ka="splice",Ii="teardown",Gf="messageId",eu="message",zo="isAsync",zf="_doTeardown",ql="update",Pi="getNext",ao="diagLog",tu="setNextPlugin",Oa="createNew",Ab="cookieCfg",nu="indexOf",Yo="substring",Yf="userAgent",ru="split",Mv="setEnabled",iu="substr",Db="nodeType",Kf="apply",Ko="replace",ak="enableDebugExceptions",ck="logInternalMessage",kb="toLowerCase",yn="call",Yr="type",Uv="handler",$l="listeners",qv="isChildEvt",jl="getCtx",Xo="setCtx",Ob="complete",Hl="traceId",Xf="spanId",ou="traceFlags",$v="version"});var Ce,uk,jt,lk,jv,Qf,Xz,Kr,co,Jf,su,Zf,au,Nb,Hv,Bl,Fn=S(()=>{Ce="",uk="channels",jt="core",lk="createPerfMgr",jv="disabled",Qf="extensionConfig",Xz="extensions",Kr="processTelemetry",co="priority",Jf="eventsSent",su="eventsDiscarded",Zf="eventsSendRequest",au="perfEvent",Nb="errorToConsole",Hv="warnToConsole",Bl="getPerfMgr"});function hve(e){if(e){if(Fb)return Fb(e);var t=e[rve]||e[vn]||e[Lb];if(t)return t}return null}function em(e,t){return typeof e===t}function ot(e){return e===void 0||typeof e===gn}function Ae(e){return e===null||ot(e)}function gk(e){return!Ae(e)}function Na(e,t){return!!(e&&Si[yn](e,t))}function Vn(e){return!!(e&&typeof e===hn)}function Be(e){return!!(e&&typeof e===so)}function Vl(e){var t=e;return t&&Ht(t)&&(t=t[Ko](pve,function(n,r){return r.toUpperCase()}),t=t[Ko](fve,"_"),t=t[Ko](mve,function(n,r){return"_"+r})),t}function Ct(e,t){if(e)for(var n in e)Si[yn](e,n)&&t[yn](e,n,e[n])}function Wl(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=sve?e[o4](t):gve(e,t)),n}function gve(e,t){var n=!1,r=t?t[ge]:0,i=e?e[ge]:0;if(r&&i&&i>=r&&!(n=e===t)){for(var o=i-1,s=r-1;s>=0;s--){if(e[o]!=t[s])return!1;o--}n=!0}return n}function tm(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=ave?e[s4](t):vve(e,t)),n}function vve(e,t){var n=!1,r=t?t[ge]:0;if(e&&r&&e[ge]>=r&&!(n=e===t)){for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;n=!0}return n}function an(e,t){return e&&t?e[nu](t)!==-1:!1}function nm(e){return!!(e&&hk[yn](e)==="[object Date]")}function yve(e){return!!(e&&hk[yn](e)==="[object Array]")}function Gl(e){return!!(e&&hk[yn](e)==="[object Error]")}function Ht(e){return typeof e=="string"}function Xr(e){return typeof e=="number"}function La(e){return typeof e=="boolean"}function n4(e){var t=!1;if(e&&typeof e=="object"){var n=Fb?Fb(e):hve(e);n?(n[Lb]&&Si[yn](n,Lb)&&(n=n[Lb]),t=typeof n===so&&c4[yn](n)===dve):t=!0}return t}function uo(e){if(e)return uve?e[i4]():xve(e)}function xve(e){if(e&&e.getUTCFullYear){var t=function(n){var r=String(n);return r[ge]===1&&(r="0"+r),r};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function se(e,t,n){var r=e[ge];try{for(var i=0;i<r&&!(i in e&&t[yn](n||e,e[i],i,e)===-1);i++);}catch{}}function Tn(e,t,n){if(e){if(e[Qz])return e[Qz](t,n);var r=e[ge],i=n||0;try{for(var o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===t)return o}catch{}}return-1}function zl(e,t,n){var r;if(e){if(e[Jz])return e[Jz](t,n);var i=e[ge],o=n||e;r=new Array(i);try{for(var s=0;s<i;s++)s in e&&(r[s]=t[yn](o,e[s],e))}catch{}}return r}function Yl(e,t,n){var r;if(e){if(e[Zz])return e[Zz](t,n);var i=e[ge],o=0;if(arguments[ge]>=3)r=arguments[2];else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=t(r,e[o],o,e)),o++}return r}function St(e){return e&&(e=ove&&e[pk]?e[pk]():e[Ko]?e[Ko](/^\s+|(?=\s)\s+$/g,Ce):e),e}function Er(e){var t=typeof e;if(t!==so&&(t!==hn||e===null)&&Vf("objKeys called on non-object"),!r4&&t4)return t4(e);var n=[];for(var r in e)e&&Si[yn](e,r)&&n[Me](r);if(r4)for(var i=dk[ge],o=0;o<i;o++)e&&Si[yn](e,dk[o])&&n[Me](dk[o]);return n}function Ri(e,t,n,r){if(e4)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),e4(e,t,i),!0}catch{}return!1}function u4(e){return e}function vk(e){return fk&&Ct(e,function(t,n){(Te(n)||Vn(n))&&fk(n)}),Qr(e)}function In(){var e=Date;return e.now?e.now():new e().getTime()}function Kl(e){return Gl(e)?e[Bn]:Ce}function Jr(e,t,n,r,i){var o=n;return e&&(o=e[t],o!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,e[t]=o)),o}function cu(e,t,n){var r;return e?(r=e[t],!r&&Ae(r)&&(r=ot(n)?{}:n,e[t]=r)):r=ot(n)?{}:n,r}function lo(e,t){return Ae(e)?t:e}function xk(e){return!e}function rm(e){return!!e}function Pn(e){throw new Error(e)}function l4(e,t){var n=null,r=null;return Be(e)?n=e:r=e,function(){var i=arguments;if(n&&(r=n()),r)return r[t][Kf](r,i)}}function wk(e,t,n){if(e&&t&&Vn(e)&&Vn(t)){var r=function(o){if(Ht(o)){var s=t[o];Be(s)?(!n||n(o,!0,t,e))&&(e[o]=l4(t,o)):(!n||n(o,!1,t,e))&&(Na(e,o)&&delete e[o],Ri(e,o,function(){return t[o]},function(a){t[o]=a})||(e[o]=s))}};for(var i in t)r(i)}return e}function uu(e,t,n,r,i){e&&t&&n&&(i!==!1||ot(e[t]))&&(e[t]=l4(n,r))}function Xl(e,t,n,r){return e&&t&&Vn(e)&&Te(n)&&se(n,function(i){Ht(i)&&uu(e,i,t,i,r)}),e}function Fa(e){return e&&Hf&&(e=Ci(Hf({},e))),e}function im(e,t,n,r,i,o){var s=arguments,a=s[0]||{},u=s[ge],c=!1,l=1;for(u>0&&La(a)&&(c=a,a=s[l]||{},l++),Vn(a)||(a={});l<u;l++){var d=s[l],p=Te(d),f=Vn(d);for(var m in d){var h=p&&m in d||f&&Si[yn](d,m);if(!!h){var g=d[m],v=void 0;if(c&&g&&((v=Te(g))||n4(g))){var y=a[m];v?Te(y)||(y=[]):n4(y)||(y={}),g=im(c,y,g)}g!==void 0&&(a[m]=g)}}}return a}var i4,o4,s4,Qz,Jz,Zz,pk,a4,rve,Lb,e4,fk,ive,t4,mk,ove,sve,ave,cve,uve,lve,hk,c4,dve,pve,fve,mve,Fb,Te,r4,dk,Qr,yk,cn=S(()=>{Gr();sn();Fn();i4="toISOString",o4="endsWith",s4="startsWith",Qz="indexOf",Jz="map",Zz="reduce",pk="trim",a4="toString",rve="__proto__",Lb="constructor",e4=Bf,fk=Ci.freeze,ive=Ci.seal,t4=Ci.keys,mk=String[vn],ove=mk[pk],sve=mk[o4],ave=mk[s4],cve=Date[vn],uve=cve[i4],lve=Array.isArray,hk=jf[a4],c4=Si[a4],dve=c4[yn](Ci),pve=/-([a-z])/g,fve=/([^\w\d_$])/g,mve=/^(\d+[\w\d_$])/,Fb=Object.getPrototypeOf;Te=lve||yve;r4=!{toString:null}.propertyIsEnumerable("toString"),dk=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];Qr=fk||u4,yk=ive||u4});function _r(e){var t={};return Ct(e,function(n,r){t[n]=r,t[r]=n}),vk(t)}var Mb=S(()=>{cn()});var Qo,d4=S(()=>{Mb();Qo=_r({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})});function Eve(){var e;return typeof globalThis!==qb&&(e=globalThis),!e&&typeof self!==qb&&(e=self),!e&&typeof window!==qb&&(e=window),!e&&typeof global!==qb&&(e=global),e||{}}function Ua(e,t){return e&&zb[Ma].hasOwnProperty.call(e,t)}function y4(e){return e&&(e===zb[Ma]||e===Array[Ma])}function Ik(e){return y4(e)||e===Function[Ma]}function Ql(e){var t;if(e){if(Vv)return Vv(e);var n=e[v4]||e[Ma]||(e[Hb]?e[Hb][Ma]:null);t=e[$b]||n,Ua(e,$b)||(delete e[Ek],t=e[$b]=e[Ek]||e[$b],e[Ek]=n)}return t}function Wb(e,t){var n=[];if(m4)n=m4(e);else for(var r in e)typeof r=="string"&&Ua(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function Pk(e,t,n){return t!==Hb&&typeof e[t]===Bb&&(n||Ua(e,t))}function Gb(e){throw new TypeError("DynamicProto: "+e)}function _ve(e){var t={};return Wb(e,function(n){!t[n]&&Pk(e,n,!1)&&(t[n]=e[n])}),t}function Rk(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function bve(e,t,n,r){function i(u,c,l){var d=c[l];if(d[bk]&&r){var p=u[Vb]||{};p[Bv]!==!1&&(d=(p[c[om]]||{})[l]||d)}return function(){return d.apply(u,arguments)}}var o={};Wb(n,function(u){o[u]=i(t,n,u)});for(var s=Ql(e),a=[];s&&!Ik(s)&&!Rk(a,s);)Wb(s,function(u){!o[u]&&Pk(s,u,!Vv)&&(o[u]=i(t,s,u))}),a.push(s),s=Ql(s);return o}function Cve(e,t,n,r){var i=null;if(e&&Ua(n,om)){var o=e[Vb]||{};if(i=(o[n[om]]||{})[t],i||Gb("Missing ["+t+"] "+Bb),!i[Ck]&&o[Bv]!==!1){for(var s=!Ua(e,t),a=Ql(e),u=[];s&&a&&!Ik(a)&&!Rk(u,a);){var c=a[t];if(c){s=c===r;break}u.push(a),a=Ql(a)}try{s&&(e[t]=i),i[Ck]=1}catch{o[Bv]=!1}}}return i}function Sve(e,t,n){var r=t[e];return r===n&&(r=Ql(t)[e]),typeof r!==Bb&&Gb("["+e+"] is not a "+Bb),r}function Tve(e,t,n,r,i){function o(u,c){var l=function(){var d=Cve(this,c,u,l)||Sve(c,u,l);return d.apply(this,arguments)};return l[bk]=1,l}if(!y4(e)){var s=n[Vb]=n[Vb]||{},a=s[t]=s[t]||{};s[Bv]!==!1&&(s[Bv]=!!i),Wb(n,function(u){Pk(n,u,!1)&&n[u]!==r[u]&&(a[u]=n[u],delete n[u],(!Ua(e,u)||e[u]&&!e[u][bk])&&(e[u]=o(e,u)))})}}function Ive(e,t){if(Vv){for(var n=[],r=Ql(t);r&&!Ik(r)&&!Rk(n,r);){if(r===e)return!0;n.push(r),r=Ql(r)}return!1}return!0}function _k(e,t){return Ua(e,Ma)?e.name||t||p4:((e||{})[Hb]||{}).name||t||p4}function Xe(e,t,n,r){Ua(e,Ma)||Gb("theClass is an invalid class definition.");var i=e[Ma];Ive(i,t)||Gb("["+_k(e)+"] not in hierarchy of ["+_k(t)+"]");var o=null;Ua(i,om)?o=i[om]:(o=wve+_k(e,"_")+"$"+Tk.n,Tk.n++,i[om]=o);var s=Xe[g4],a=!!s[jb];a&&r&&r[jb]!==void 0&&(a=!!r[jb]);var u=_ve(t),c=bve(i,t,u,a);n(t,c);var l=!!Vv&&!!s[Sk];l&&r&&(l=!!r[Sk]),Tve(i,o,t,u,l!==!1)}var Ub,qb,Hb,Ma,Bb,Vb,bk,om,wve,Ck,Bv,g4,p4,v4,$b,f4,Ek,jb,Sk,zb,Vv,m4,h4,Tk,Wn=S(()=>{qb="undefined",Hb="constructor",Ma="prototype",Bb="function",Vb="_dynInstFuncs",bk="_isDynProxy",om="_dynClass",wve="_dynCls$",Ck="_dynInstChk",Bv=Ck,g4="_dfOpts",p4="_unknown_",v4="__proto__",$b="_dyn"+v4,f4="__dynProto$Gbl",Ek="_dynInstProto",jb="useBaseInst",Sk="setInstFuncs",zb=Object,Vv=zb.getPrototypeOf,m4=zb.getOwnPropertyNames;h4=Eve(),Tk=h4[f4]||(h4[f4]={o:(Ub={},Ub[Sk]=!0,Ub[jb]=!0,Ub),n:1e3});Xe[g4]=Tk.o});function b4(e,t){var n=!1;if(e){try{if(n=t in e,!n){var r=e[vn];r&&(n=t in r)}}catch{}if(!n)try{var i=new e;n=!ot(i[t])}catch{}}return n}function Lk(e){_4=e}function Bt(e){var t=Bo();return t&&t[e]?t[e]:e===x4&&Wv()?window:null}function Wv(){return Boolean(typeof window===hn&&window)}function Hs(){return Wv()?window:Bt(x4)}function Yb(){return Boolean(typeof document===hn&&document)}function Zr(){return Yb()?document:Bt(Pve)}function Gv(){return Boolean(typeof navigator===hn&&navigator)}function Ai(){return Gv()?navigator:Bt(Ave)}function Kb(){return Boolean(typeof history===hn&&history)}function Fk(){return Kb()?history:Bt(Dve)}function Jl(e){if(e&&_4){var t=Bt("__mockLocation");if(t)return t}return typeof location===hn&&location?location:Bt(kve)}function zv(){return typeof console!==gn?console:Bt(Ove)}function am(){return Bt(Nve)}function Zl(){return Boolean(typeof JSON===hn&&JSON||Bt(w4)!==null)}function cm(){return Zl()?JSON||Bt(w4):null}function Yv(){return Bt(Lve)}function Kv(){return Bt(Fve)}function qa(){var e=Ai();return e&&e.product?e.product===Mve:!1}function Jo(){var e=Ai();if(e&&(e[Yf]!==Dk||Ak===null)){Dk=e[Yf];var t=(Dk||Ce)[kb]();Ak=an(t,Ok)||an(t,Nk)}return Ak}function Mk(e){if(e===void 0&&(e=null),!e){var t=Ai()||{};e=t?(t[Yf]||Ce)[kb]():Ce}var n=(e||Ce)[kb]();if(an(n,Ok)){var r=Zr()||{};return Math.max(parseInt(n[ru](Ok)[1]),r[Rve]||0)}else if(an(n,Nk)){var i=parseInt(n[ru](Nk)[1]);if(i)return i+4}return null}function Ft(e){var t=Object[vn].toString[yn](e),n=Ce;return t==="[object Error]"?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e[Bn]+"'":Zl()&&(n=cm().stringify(e)),t+n}function lu(){return kk===null&&(kk=Gv()&&Boolean(Ai().sendBeacon)),kk}function um(e){var t=!1;try{t=!!Bt("fetch");var n=Bt("Request");t&&e&&n&&(t=b4(n,"keepalive"))}catch{}return t}function ed(){return sm===null&&(sm=typeof XDomainRequest!==gn,sm&&lm()&&(sm=sm&&!b4(Bt(E4),"withCredentials"))),sm}function lm(){var e=!1;try{var t=Bt(E4);e=!!t}catch{}return e}function C4(e,t){if(e)for(var n=0;n<e[ge];n++){var r=e[n];if(r[Bn]&&r[Bn]===t)return r}return{}}function Uk(e){var t=Zr();return t&&e?C4(t.querySelectorAll("meta"),e).content:null}function qk(e){var t,n=am();if(n){var r=n.getEntriesByType("navigation")||[];t=C4((r[ge]>0?r[0]:{}).serverTiming,e).description}return t}var x4,Pve,Rve,Ave,Dve,kve,Ove,Nve,w4,Lve,Fve,Mve,Ok,Nk,E4,Ak,Dk,_4,sm,kk,po=S(()=>{"use strict";Gr();sn();cn();Fn();x4="window",Pve="document",Rve="documentMode",Ave="navigator",Dve="history",kve="location",Ove="console",Nve="performance",w4="JSON",Lve="crypto",Fve="msCrypto",Mve="ReactNative",Ok="msie",Nk="trident/",E4="XMLHttpRequest",Ak=null,Dk=null,_4=!1,sm=null,kk=null});function Uve(e,t){return function(){var n=arguments,r=jk(t);if(r){var i=r.listener;i&&i[e]&&i[e][Kf](i,n)}}}function qve(){var e=Bt("Microsoft");return e&&(Qb=e.ApplicationInsights),Qb}function jk(e){var t=Qb;return!t&&e.disableDbgExt!==!0&&(t=Qb||qve()),t?t.ChromeDbgExt:null}function S4(e){if(!Xb){Xb={};for(var t=0;t<$k[ge];t++)Xb[$k[t]]=Uve($k[t],e)}return Xb}var $k,Qb,Xb,Hk=S(()=>{sn();po();$k=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],Qb=null});function T4(e){return e?'"'+e[Ko](/\"/g,Ce)+'"':Ce}function I4(e,t){var n=zv();if(n){var r="log";n[e]&&(r=e),Be(n[r])&&n[r](t)}}function Xv(e,t){return(e||{})[zr]||new Zo(t)}function Bk(e){return e||new Zo}function Rt(e,t,n,r,i,o){o===void 0&&(o=!1),Bk(e).throwInternal(t,n,r,i,o)}function es(e,t){Bk(e)[Hv](t)}function Vk(e,t,n){Bk(e)[ck](t,n)}var $ve,jve,Hve,td,Zo,du=S(()=>{"use strict";Wn();sn();Hk();po();cn();Fn();$ve="AI (Internal): ",jve="AI: ",Hve="AITR_";td=function(){function e(t,n,r,i){r===void 0&&(r=!1);var o=this;o[Gf]=t,o[eu]=(r?jve:$ve)+t;var s=Ce;Zl()&&(s=cm().stringify(i));var a=(n?" message:"+T4(n):Ce)+(i?" props:"+T4(s):Ce);o[eu]+=a}return e.dataType="MessageData",e}();Zo=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={},i,o,s,a;Xe(e,this,function(u){l(t||{}),u.consoleLoggingLevel=function(){return i},u.telemetryLoggingLevel=function(){return o},u.maxInternalMessageLimit=function(){return s},u[ak]=function(){return a},u.throwInternal=function(f,m,h,g,v){v===void 0&&(v=!1);var y=new td(m,h,v,g);if(a)throw Ft(y);var x=f===1?Nb:Hv;if(ot(y[eu]))p("throw"+(f===1?"Critical":"Warning"),y);else{if(v){var E=+y[Gf];!r[E]&&i>=f&&(u[x](y[eu]),r[E]=!0)}else i>=f&&u[x](y[eu]);c(f,y)}},u[Hv]=function(f){I4("warn",f),p("warning",f)},u[Nb]=function(f){I4("error",f),p("error",f)},u.resetInternalMessageCount=function(){n=0,r={}},u[ck]=c;function c(f,m){if(!d()){var h=!0,g=Hve+m[Gf];if(r[g]?h=!1:r[g]=!0,h&&(f<=o&&(u.queue[Me](m),n++,p(f===1?"error":"warn",m)),n===s)){var v="Internal events throttle limit per PageView reached for this app.",y=new td(23,v,!1);u.queue[Me](y),f===1?u[Nb](v):u[Hv](v)}}}function l(f){i=lo(f.loggingLevelConsole,0),o=lo(f.loggingLevelTelemetry,1),s=lo(f.maxMessageLimit,25),a=lo(f[ak],!1)}function d(){return n>=s}function p(f,m){var h=jk(t||{});h&&h[ao]&&h[ao](f,m)}})}return e.__ieDyn=1,e}()});function Jt(e,t,n,r,i){if(e){var o=e;if(o[Bl]&&(o=o[Bl]()),o){var s=void 0,a=o[jl](Wk);try{if(s=o.create(t(),r,i),s){if(a&&s[Xo]&&(s[Xo](nd[Gk],a),a[jl]&&a[Xo])){var u=a[jl](nd[Qv]);u||(u=[],a[Xo](nd[Qv],u)),u[Me](s)}return o[Xo](Wk,s),n(s)}}catch(c){s&&s[Xo]&&s[Xo]("exception",c)}finally{s&&o.fire(s),o[Xo](Wk,a)}}}return n()}function zk(){return Bve}var dm,Gk,Qv,Bve,nd,Jv,Wk,Zv=S(()=>{Wn();sn();cn();Fn();dm="ctx",Gk="ParentContextKey",Qv="ChildrenContextKey",Bve=null,nd=function(){function e(t,n,r){var i=this,o=!1;if(i.start=In(),i[Bn]=t,i[zo]=r,i[qv]=function(){return!1},Be(n)){var s;o=Ri(i,"payload",function(){return!s&&Be(n)&&(s=n(),n=null),s})}i[jl]=function(a){return a?a===e[Gk]||a===e[Qv]?i[a]:(i[dm]||{})[a]:null},i[Xo]=function(a,u){if(a)if(a===e[Gk])i[a]||(i[qv]=function(){return!0}),i[a]=u;else if(a===e[Qv])i[a]=u;else{var c=i[dm]=i[dm]||{};c[a]=u}},i[Ob]=function(){var a=0,u=i[jl](e[Qv]);if(Te(u))for(var c=0;c<u[ge];c++){var l=u[c];l&&(a+=l[Ll])}i[Ll]=In()-i.start,i.exTime=i[Ll]-a,i[Ob]=function(){},!o&&Be(n)&&(i.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Jv=function(){function e(t){this.ctx={},Xe(e,this,function(n){n.create=function(r,i,o){return new nd(r,i,o)},n.fire=function(r){r&&(r[Ob](),t&&Be(t[au])&&t[au](r))},n[Xo]=function(r,i){if(r){var o=n[dm]=n[dm]||{};o[r]=i}},n[jl]=function(r){return(n[dm]||{})[r]}})}return e.__ieDyn=1,e}(),Wk="CoreUtils.doPerf"});function A4(e){e<0&&(e>>>=0),ey=123456789+e&pu,ty=987654321-e&pu,R4=!0}function D4(){try{var e=In()&2147483647;A4((Math.random()*P4^e)+e)}catch{}}function pm(e){return e>0?Math.floor(ts()/pu*(e+1))>>>0:0}function ts(e){var t=0,n=Yv()||Kv();return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&pu),t===0&&Jo()&&(R4||D4(),t=ny()&pu),t===0&&(t=Math.floor(P4*Math.random()|0)),e||(t>>>=0),t}function Jb(e){e?A4(e):D4()}function ny(e){ty=36969*(ty&65535)+(ty>>16)&pu,ey=18e3*(ey&65535)+(ey>>16)&pu;var t=(ty<<16)+(ey&65535)>>>0&pu|0;return e||(t>>>=0),t}function fu(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=ts()>>>0,r=0,i=Ce;i[ge]<e;)r++,i+=t.charAt(n&63),n>>>=6,r===5&&(n=(ts()<<2&4294967295|n&3)>>>0,r=0);return i}var P4,pu,R4,ey,ty,Zb=S(()=>{sn();po();cn();Fn();P4=4294967296,pu=4294967295,R4=!1,ey=123456789,ty=987654321});function Gve(e,t,n){if(k4)try{return k4(e,t,{value:n,enumerable:!1,configurable:!0}),!0}catch{}return!1}function N4(e){return e[Db]===1||e[Db]===9||!+e[Db]}function zve(e,t){var n=t[e.id];if(!n){n={};try{N4(t)&&(Gve(t,e.id,n)||(t[e.id]=n))}catch{}}return n}function ns(e,t){return t===void 0&&(t=!1),Vl(e+Wve+++(t?"."+O4:Ce)+Vve)}function eC(e){var t={id:ns("_aiData-"+(e||Ce)+"."+O4),accept:function(n){return N4(n)},get:function(n,r,i,o){var s=n[t.id];return s?s[Vl(r)]:(o&&(s=zve(t,n),s[Vl(r)]=i),i)},kill:function(n,r){if(n&&n[r])try{delete n[r]}catch{}}};return t}var k4,O4,Vve,Wve,ry=S(()=>{Gr();sn();cn();Fn();Zb();k4=Bf,O4="2.8.10",Vve="."+fu(6),Wve=0});function Yve(e,t){var n=$a[mu]||rC[mu];return n||(n=$a[mu]=$a(e,t),rC[mu]=n),n}function nC(e){return e?e.isEnabled():!0}function Kve(e){var t=e[Ab]=e[Ab]||{};if(Jr(t,"domain",e.cookieDomain,gk,Ae),Jr(t,"path",e.cookiePath||"/",null,Ae),Ae(t[Xk])){var n=void 0;ot(e[M4])||(n=!e[M4]),ot(e[U4])||(n=!e[U4]),t[Xk]=n}return t}function V4(e,t){return t&&e&&Te(e.ignoreCookies)?e.ignoreCookies[nu](t)!==-1:!1}function Xve(e,t){return t&&e&&Te(e.blockedCookies)&&e.blockedCookies[nu](t)!==-1?!0:V4(e,t)}function hu(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t[Ab];r[mu]?n=r[mu]:n=$a(t)}return n||(n=Yve(t,(e||{})[zr])),n}function $a(e,t){var n,r=Kve(e||rC),i=r.path||"/",o=r.domain,s=r[Xk]!==!1,a=(n={isEnabled:function(){var u=s&&rs(t),c=rC[mu];return u&&c&&a!==c&&(u=nC(c)),u}},n[Mv]=function(u){s=u!==!1},n.set=function(u,c,l,d,p){var f=!1;if(nC(a)&&!Xve(r,u)){var m={},h=St(c||Ce),g=h[nu](";");if(g!==-1&&(h=St(c[Yo](0,g)),m=W4(c[Yo](g+1))),Jr(m,"domain",d||o,rm,ot),!Ae(l)){var v=Jo();if(ot(m[Yk])){var y=In(),x=y+l*1e3;if(x>0){var E=new Date;E.setTime(x),Jr(m,Yk,j4(E,v?L4:F4)||j4(E,v?L4:F4)||Ce,rm)}}v||Jr(m,"max-age",Ce+l,null,ot)}var _=Jl();_&&_.protocol==="https:"&&(Jr(m,"secure",null,null,ot),Kk===null&&(Kk=!fm((Ai()||{})[Yf])),Kk&&Jr(m,"SameSite","None",null,ot)),Jr(m,"path",p||i,null,ot);var C=r.setCookie||B4;C(u,H4(h,m)),f=!0}return f},n.get=function(u){var c=Ce;return nC(a)&&!V4(r,u)&&(c=(r.getCookie||Qve)(u)),c},n.del=function(u,c){var l=!1;return nC(a)&&(l=a.purge(u,c)),l},n.purge=function(u,c){var l,d=!1;if(rs(t)){var p=(l={},l.path=c||"/",l[Yk]="Thu, 01 Jan 1970 00:00:01 GMT",l);Jo()||(p["max-age"]="0");var f=r.delCookie||B4;f(u,H4(Ce,p)),d=!0}return d},n);return a[mu]=a,a}function rs(e){if(tC===null){tC=!1;try{var t=iy||{};tC=t[Qk]!==void 0}catch(n){Rt(e,2,68,"Cannot access document.cookie - "+Kl(n),{exception:Ft(n)})}}return tC}function W4(e){var t={};if(e&&e[ge]){var n=St(e)[ru](";");se(n,function(r){if(r=St(r||Ce),r){var i=r[nu]("=");i===-1?t[r]=null:t[St(r[Yo](0,i))]=St(r[Yo](i+1))}})}return t}function j4(e,t){return Be(e[t])?e[t]():null}function H4(e,t){var n=e||Ce;return Ct(t,function(r,i){n+="; "+r+(Ae(i)?Ce:"="+i)}),n}function Qve(e){var t=Ce;if(iy){var n=iy[Qk]||Ce;q4!==n&&($4=W4(n),q4=n),t=St($4[e]||Ce)}return t}function B4(e,t){iy&&(iy[Qk]=e+"="+t)}function fm(e){return Ht(e)?!!(an(e,"CPU iPhone OS 12")||an(e,"iPad; CPU OS 12")||an(e,"Macintosh; Intel Mac OS X 10_14")&&an(e,"Version/")&&an(e,"Safari")||an(e,"Macintosh; Intel Mac OS X 10_14")&&Wl(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||an(e,"Chrome/5")||an(e,"Chrome/6")||an(e,"UnrealEngine")&&!an(e,"Chrome")||an(e,"UCBrowser/12")||an(e,"UCBrowser/11")):!1}var L4,F4,Qk,Yk,Xk,M4,U4,mu,tC,Kk,q4,iy,$4,rC,Jk=S(()=>{sn();du();po();cn();Fn();L4="toGMTString",F4="toUTCString",Qk="cookie",Yk="expires",Xk="enabled",M4="isCookieUseDisabled",U4="disableCookiesUsage",mu="_ckMgr",tC=null,Kk=null,q4=null,iy=Zr(),$4={},rC={}});function X4(e){return e&&e[Ko]?e[Ko](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ce):e}function sC(e,t){var n;if(t){var r=Ce;Te(t)?(r=Ce,se(t,function(o){o=X4(o),o&&(o[0]!=="."&&(o="."+o),r+=o)})):r=X4(t),r&&(r[0]!=="."&&(r="."+r),e=(e||Ce)+r)}var i=tye.exec(e||Ce)||[];return n={},n[Yr]=i[1],n.ns=(i[2]||Ce).replace(Jve,".").replace(Zve,Ce)[ru](".").sort().join("."),n}function Zk(e,t,n){var r=[],i=sy.get(e,iC,{},!1),o=sC(t,n);return Ct(i,function(s,a){se(a,function(u){var c;(!o[Yr]||o[Yr]===u.evtName[Yr])&&(!o.ns||o.ns===o.ns)&&r[Me]((c={},c[Bn]=u.evtName[Yr]+(u.evtName.ns?"."+u.evtName.ns:Ce),c.handler=u[Uv],c))})}),r}function iY(e,t,n){n===void 0&&(n=!0);var r=sy.get(e,iC,{},n),i=r[t];return i||(i=r[t]=[]),i}function oY(e,t,n,r){e&&t&&t[Yr]&&(e[K4]?e[K4](t[Yr],n,r):e[Y4]&&e[Y4](J4+t[Yr],n))}function nye(e,t,n,r){var i=!1;return e&&t&&t[Yr]&&n&&(e[z4]?(e[z4](t[Yr],n,r),i=!0):e[G4]&&(e[G4](J4+t[Yr],n),i=!0)),i}function Q4(e,t,n,r){for(var i=t[ge];i--;){var o=t[i];o&&(!n.ns||n.ns===o.evtName.ns)&&(!r||r(o))&&(oY(e,o.evtName,o[Uv],o.capture),t[ka](i,1))}}function rye(e,t,n){if(t[Yr])Q4(e,iY(e,t[Yr]),t,n);else{var r=sy.get(e,iC,{});Ct(r,function(i,o){Q4(e,o,t,n)}),Er(r)[ge]===0&&sy.kill(e,iC)}}function ja(e,t){var n;return t?(Te(t)?n=[e].concat(t):n=[e,t],n=sC("xx",n).ns[ru](".")):n=e,n}function rd(e,t,n,r,i){var o;i===void 0&&(i=!1);var s=!1;if(e)try{var a=sC(t,r);if(s=nye(e,a,n,i),s&&sy.accept(e)){var u=(o={guid:eye++,evtName:a},o[Uv]=n,o.capture=i,o);iY(e,a.type)[Me](u)}}catch{}return s}function id(e,t,n,r,i){if(i===void 0&&(i=!1),e)try{var o=sC(t,r),s=!1;rye(e,o,function(a){return o.ns&&!n||a[Uv]===n?(s=!0,!0):!1}),s||oY(e,o,n,i)}catch{}}function hm(e,t,n,r){return r===void 0&&(r=!1),rd(e,t,n,null,r)}function gm(e,t,n,r){r===void 0&&(r=!1),id(e,t,n,null,r)}function vu(e,t,n){var r=!1,i=Hs();i&&(r=rd(i,e,t,n),r=rd(i.body,e,t,n)||r);var o=Zr();return o&&(r=rd(o,e,t,n)||r),r}function aC(e,t,n){var r=Hs();r&&(id(r,e,t,n),id(r.body,e,t,n));var i=Zr();i&&id(i,e,t,n)}function mm(e,t,n,r){var i=!1;return t&&e&&e[ge]>0&&se(e,function(o){o&&(!n||Tn(n,o)===-1)&&(i=vu(o,t,r)||i)}),i}function cC(e,t,n,r){var i=!1;return t&&e&&Te(e)&&(i=mm(e,t,n,r),!i&&n&&n[ge]>0&&(i=mm(e,t,null,r))),i}function gu(e,t,n){e&&Te(e)&&se(e,function(r){r&&aC(r,t,n)})}function od(e,t,n){return cC([tY,eY,oC],e,t,n)}function ay(e,t){gu([tY,eY,oC],e,t)}function vm(e,t,n){function r(s){var a=Zr();e&&a&&a.visibilityState==="hidden"&&e(s)}var i=ja(nY,n),o=mm([oC],e,t,i);return(!t||Tn(t,oy)===-1)&&(o=mm([oy],r,t,i)||o),!o&&t&&(o=vm(e,null,n)),o}function cy(e,t){var n=ja(nY,t);gu([oC],e,n),gu([oy],null,n)}function ym(e,t,n){function r(s){var a=Zr();e&&a&&a.visibilityState==="visible"&&e(s)}var i=ja(rY,n),o=mm([Z4],e,t,i);return o=mm([oy],r,t,i)||o,!o&&t&&(o=ym(e,null,n)),o}function uy(e,t){var n=ja(rY,t);gu([Z4],e,n),gu([oy],null,n)}var J4,G4,z4,Y4,K4,iC,oy,oC,Z4,eY,tY,nY,rY,Jve,Zve,eye,sy,tye,eO=S(()=>{sn();ry();po();cn();Fn();J4="on",G4="attachEvent",z4="addEventListener",Y4="detachEvent",K4="removeEventListener",iC="events",oy="visibilitychange",oC="pagehide",Z4="pageshow",eY="unload",tY="beforeunload",nY=ns("aiEvtPageHide"),rY=ns("aiEvtPageShow"),Jve=/\.[\.]+/g,Zve=/[\.]+$/,eye=1,sy=eC("events"),tye=/^([^.]*)(?:\.(.+)|)/});function xm(){var e=Ha();return e[Yo](0,8)+"-"+e[Yo](8,12)+"-"+e[Yo](12,16)+"-"+e[Yo](16,20)+"-"+e[Yo](20)}function wm(){var e=am();return e&&e.now?e.now():In()}function Ha(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=Ce,n,r=0;r<4;r++)n=ts(),t+=e[n&15]+e[n>>4&15]+e[n>>8&15]+e[n>>12&15]+e[n>>16&15]+e[n>>20&15]+e[n>>24&15]+e[n>>28&15];var i=e[8+(ts()&3)|0];return t[iu](0,8)+t[iu](9,4)+"4"+t[iu](13,3)+i+t[iu](16,3)+t[iu](19,12)}var tO,nO=S(()=>{"use strict";sn();po();eO();cn();Fn();Zb();tO={Attach:hm,AttachEvent:hm,Detach:gm,DetachEvent:gm}});function Ba(e,t,n){return e&&e[ge]===t&&e!==n?!!e.match(/^[\da-f]*$/):!1}function aY(e,t,n){return Ba(e,t)?e:n}function cY(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t[ge]<2;)t="0"+t;return t}function oO(e,t,n,r){var i;return i={},i[$v]=Ba(r,2,iO)?r:rO,i[Hl]=Em(e)?e:Ha(),i.spanId=_m(t)?t:Ha()[iu](0,16),i.traceFlags=n>=0&&n<=255?n:1,i}function ly(e){var t;if(!e||(Te(e)&&(e=e[0]||""),!e||!Ht(e)||e[ge]>8192))return null;var n=iye.exec(St(e));return!n||n[1]===iO||n[2]===uC||n[3]===lC?null:(t={},t[$v]=n[1],t[Hl]=n[2],t[Xf]=n[3],t[ou]=parseInt(n[4],16),t)}function Em(e){return Ba(e,32,uC)}function _m(e){return Ba(e,16,lC)}function dC(e){return!(!e||!Ba(e[$v],2,iO)||!Ba(e[Hl],32,uC)||!Ba(e[Xf],16,lC)||!Ba(cY(e[ou]),2))}function sO(e){return dC(e)?(e[ou]&sY)===sY:!1}function aO(e){if(e){var t=cY(e[ou]);Ba(t,2)||(t="01");var n=e[$v]||rO;return n!=="00"&&n!=="ff"&&(n=rO),"".concat(n,"-").concat(aY(e.traceId,32,uC),"-").concat(aY(e.spanId,16,lC),"-").concat(t)}return""}function cO(){var e="traceparent",t=ly(Uk(e));return t||(t=ly(qk(e))),t}var iye,rO,iO,uC,lC,sY,uO=S(()=>{sn();nO();po();cn();iye=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,rO="00",iO="ff",uC="00000000000000000000000000000000",lC="0000000000000000",sY=1});function Va(e){return oye.get(e,"state",{},!0)}function pC(e,t){for(var n=[],r=null,i=e[Pi](),o;i;){var s=i[Ul]();if(s){r&&Be(r[tu])&&Be(s[Kr])&&r[tu](s);var a=!1;Be(s[Ti])?a=s[Ti]():(o=Va(s),a=o[Ti]),a||n[Me](s),r=s,i=i[Pi]()}}se(n,function(u){var c=e[jt]();u[Wo](e.getCfg(),c,t,e[Pi]()),o=Va(u),!u[jt]&&!o[jt]&&(o[jt]=c),o[Ti]=!0,delete o[Ii]})}function fC(e){return e.sort(function(t,n){var r=0;if(n){var i=Be(n[Kr]);Be(t[Kr])?r=i?t[co]-n[co]:1:i&&(r=-1)}else r=t?1:-1;return r})}function uY(e){var t={};return{getName:function(){return t[Bn]},setName:function(n){e&&e.setName(n),t[Bn]=n},getTraceId:function(){return t[Hl]},setTraceId:function(n){e&&e.setTraceId(n),Em(n)&&(t[Hl]=n)},getSpanId:function(){return t[Xf]},setSpanId:function(n){e&&e.setSpanId(n),_m(n)&&(t[Xf]=n)},getTraceFlags:function(){return t[ou]},setTraceFlags:function(n){e&&e.setTraceFlags(n),t[ou]=n}}}var oye,mC=S(()=>{"use strict";sn();ry();cn();Fn();uO();oye=eC("plugin")});function aye(e,t,n){for(;e;){if(e[Ul]()===n)return e;e=e[Pi]()}return Bs([n],t[js]||{},t)}function lO(e,t,n,r){var i=null,o=[];r!==null&&(i=r?aye(e,n,r):e);var s={_next:u,ctx:{core:function(){return n},diagLog:function(){return Xv(n,t)},getCfg:function(){return t},getExtCfg:c,getConfig:l,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(p){i=p},iterate:d,onComplete:a}};function a(p,f){for(var m=[],h=2;h<arguments.length;h++)m[h-2]=arguments[h];p&&o[Me]({func:p,self:ot(f)?s.ctx:f,args:m})}function u(){var p=i;if(i=p?p[Pi]():null,!p){var f=o;f&&f[ge]>0&&(se(f,function(m){try{m.func[yn](m.self,m.args)}catch(h){Rt(n[zr],2,73,"Unexpected Exception during onComplete - "+Ft(h))}}),o=[])}return p}function c(p,f,m){f===void 0&&(f={}),m===void 0&&(m=0);var h;if(t){var g=t[Qf];g&&p&&(h=g[p])}if(!h)h=f;else if(Vn(f)&&m!==0){var v=im(!0,f,h);t&&m===2&&Ct(f,function(y){if(Ae(v[y])){var x=t[y];Ae(x)||(v[y]=x)}}),h=v}return h}function l(p,f,m){m===void 0&&(m=!1);var h,g=c(p,null);return g&&!Ae(g[f])?h=g[f]:t&&!Ae(t[f])&&(h=t[f]),Ae(h)?m:h}function d(p){for(var f;f=s._next();){var m=f[Ul]();m&&p(m)}}return s}function ei(e,t,n,r){var i=lO(e,t,n,r),o=i.ctx;function s(u){var c=i._next();return c&&c[Kr](u,o),!c}function a(u,c){return u===void 0&&(u=null),Te(u)&&(u=Bs(u,t,n,c)),ei(u||o[Pi](),t,n,c)}return o[bt]=s,o[Oa]=a,o}function bm(e,t,n){var r=t[js]||{},i=lO(e,r,t,n),o=i.ctx;function s(u){var c=i._next();return c&&c.unload(o,u),!c}function a(u,c){return u===void 0&&(u=null),Te(u)&&(u=Bs(u,r,t,c)),bm(u||o[Pi](),t,c)}return o[bt]=s,o[Oa]=a,o}function dy(e,t,n){var r=t[js]||{},i=lO(e,r,t,n),o=i.ctx;function s(u){return o.iterate(function(c){Be(c[ql])&&c[ql](o,u)})}function a(u,c){return u===void 0&&(u=null),Te(u)&&(u=Bs(u,r,t,c)),dy(u||o[Pi](),t,c)}return o[bt]=s,o[Oa]=a,o}function Bs(e,t,n,r){var i=null,o=!r;if(Te(e)&&e[ge]>0){var s=null;se(e,function(a){if(!o&&r===a&&(o=!0),o&&a&&Be(a[Kr])){var u=cye(a,t,n);i||(i=u),s&&s._setNext(u),s=u}})}return r&&!i?Bs([r],t,n):i}function cye(e,t,n){var r=null,i=Be(e[Kr]),o=Be(e[tu]),s;e?s=e[Go]+"-"+e[co]+"-"+pY++:s="Unknown-0-"+pY++;var a={getPlugin:function(){return e},getNext:function(){return r},processTelemetry:l,unload:d,update:p,_id:s,_setNext:function(f){r=f}};function u(){var f;return e&&Be(e[dY])&&(f=e[dY]()),f||(f=ei(a,t,n)),f}function c(f,m,h,g,v){var y=!1,x=e?e[Go]:sye,E=f[lY];return E||(E=f[lY]={}),f.setNext(r),e&&Jt(f[jt](),function(){return x+":"+h},function(){E[s]=!0;try{var _=r?r._id:Ce;_&&(E[_]=!1),y=m(f)}catch(P){var C=r?E[r._id]:!0;C&&(y=!0),(!r||!C)&&Rt(f[ao](),1,73,"Plugin ["+x+"] failed during "+h+" - "+Ft(P)+", run flags: "+Ft(E))}},g,v),y}function l(f,m){m=m||u();function h(g){if(!e||!i)return!1;var v=Va(e);return v[Ii]||v[jv]?!1:(o&&e[tu](r),e[Kr](f,g),!0)}c(m,h,"processTelemetry",function(){return{item:f}},!f.sync)||m[bt](f)}function d(f,m){function h(){var g=!1;if(e){var v=Va(e),y=e[jt]||v[jt];e&&(!y||y===f.core())&&!v[Ii]&&(v[jt]=null,v[Ii]=!0,v[Ti]=!1,e[Ii]&&e[Ii](f,m)===!0&&(g=!0))}return g}c(f,h,"unload",function(){},m[zo])||f[bt](m)}function p(f,m){function h(){var g=!1;if(e){var v=Va(e),y=e[jt]||v[jt];e&&(!y||y===f.core())&&!v[Ii]&&e[ql]&&e[ql](f,m)===!0&&(g=!0)}return g}c(f,h,"update",function(){},!1)||f[bt](m)}return Qr(a)}var sye,lY,dY,pY,dO,py=S(()=>{"use strict";sn();du();po();cn();Fn();Zv();mC();sye="TelemetryPluginChain",lY="_hasRun",dY="_getTelCtx",pY=0;dO=function(){function e(t,n,r,i){var o=this,s=ei(t,n,r,i);Xl(o,s,Er(s))}return e}()});function fY(e,t,n){t&&Te(t)&&t[ge]>0&&(t=t.sort(function(r,i){return r[co]-i[co]}),se(t,function(r){r[co]<fy&&Pn(uye+r[Go])}),e[Me]({queue:Qr(t),chain:Bs(t,n[js],n)}))}function mY(e,t){function n(){return ei(null,t[js],t,null)}function r(c,l,d,p){var f=c?c[ge]+1:1;function m(){f--,f===0&&(p&&p(),p=null)}f>0&&se(c,function(h){if(h&&h.queue[ge]>0){var g=h.chain,v=l[Oa](g);v[Lv](m),d(v)}else f--}),m()}function i(c,l){var d=l||{reason:0};return r(e,c,function(p){p[bt](d)},function(){c[bt](d)}),!0}function o(c,l){var d=l||{reason:0,isAsync:!1};return r(e,c,function(p){p[bt](d)},function(){c[bt](d),a=!1}),!0}function s(c){var l=null;return e&&e[ge]>0&&se(e,function(d){if(d&&d.queue[ge]>0&&(se(d.queue,function(p){if(p[Go]===c)return l=p,-1}),l))return-1}),l}var a=!1,u={identifier:"ChannelControllerPlugin",priority:fy,initialize:function(c,l,d,p){a=!0,se(e,function(f){f&&f.queue[ge]>0&&pC(ei(f.chain,c,l),d)})},isInitialized:function(){return a},processTelemetry:function(c,l){r(e,l||n(),function(d){d[bt](c)},function(){l[bt](c)})},update:i,pause:function(){r(e,n(),function(c){c.iterate(function(l){l.pause&&l.pause()})},null)},resume:function(){r(e,n(),function(c){c.iterate(function(l){l.resume&&l.resume()})},null)},teardown:o,getChannel:s,flush:function(c,l,d,p){var f=1,m=!1,h=null;p=p||5e3;function g(){f--,m&&f===0&&(h&&(clearTimeout(h),h=null),l&&l(m),l=null)}return r(e,n(),function(v){v.iterate(function(y){if(y[Wf]){f++;var x=!1;y[Wf](c,function(){x=!0,g()},d)||x||(c&&h==null?h=setTimeout(function(){h=null,g()},p):g())}})},function(){m=!0,g()}),!0},_setQueue:function(c){e=c}};return u}function hY(e,t,n){var r=[];if(e&&se(e,function(o){return fY(r,o,n)}),t){var i=[];se(t,function(o){o[co]>fy&&i[Me](o)}),fY(r,i,n)}return r}var fy,uye,gY=S(()=>{sn();cn();Fn();py();mC();fy=500,uye="Channel has invalid priority - "});function sd(){var e=[];function t(r){r&&e[Me](r)}function n(r,i){se(e,function(o){try{o(r,i)}catch(s){Rt(r[ao](),2,73,"Unexpected error calling unload handler - "+Ft(s))}}),e=[]}return{add:t,run:n}}var hC=S(()=>{sn();du();po();cn()});var yu,ad,pO=S(()=>{"use strict";Wn();sn();cn();Fn();py();hC();yu="getPlugin",ad=function(){function e(){var t=this,n,r,i,o,s;c(),Xe(e,t,function(l){l[Wo]=function(d,p,f,m){u(d,p,m),n=!0},l[Ii]=function(d,p){var f,m=l[jt];if(!m||d&&m!==d[jt]())return;var h,g=!1,v=d||bm(null,m,i&&i[yu]?i[yu]():i),y=p||(f={reason:0},f[zo]=!1,f);function x(){if(!g){g=!0,o.run(v,p);var E=s;s=[],se(E,function(_){_.rm()}),h===!0&&v[bt](y),c()}}return!l[zf]||l[zf](v,y,x)!==!0?x():h=!0,h},l[ql]=function(d,p){var f=l[jt];if(!f||d&&f!==d[jt]())return;var m,h=!1,g=d||dy(null,f,i&&i[yu]?i[yu]():i),v=p||{reason:0};function y(){h||(h=!0,u(g.getCfg(),g.core(),g[Pi]()))}return!l._doUpdate||l._doUpdate(g,v,y)!==!0?y():m=!0,m},l._addHook=function(d){d&&(Te(d)?s=s.concat(d):s[Me](d))},uu(l,"_addUnloadCb",function(){return o},"add")}),t[ao]=function(l){return a(l)[ao]()},t[Ti]=function(){return n},t.setInitialized=function(l){n=l},t[tu]=function(l){i=l},t[bt]=function(l,d){d?d[bt](l):i&&Be(i[Kr])&&i[Kr](l,null)},t._getTelCtx=a;function a(l){l===void 0&&(l=null);var d=l;if(!d){var p=r||ei(null,{},t[jt]);i&&i[yu]?d=p[Oa](null,i[yu]):d=p[Oa](null,i)}return d}function u(l,d,p){l&&Jr(l,Qf,[],null,Ae),!p&&d&&(p=d[Rb]()[Pi]());var f=i;i&&i[yu]&&(f=i[yu]()),t[jt]=d,r=ei(p,l,d,f)}function c(){n=!1,t[jt]=null,r=null,i=null,s=[],o=sd()}}return e.__ieDyn=1,e}()});var vY,yY=S(()=>{Gr();Wn();sn();pO();du();po();cn();Fn();vY=function(e){Vo(t,e);function t(){var n=e.call(this)||this;n.identifier="TelemetryInitializerPlugin",n.priority=199;var r,i;o(),Xe(t,n,function(s,a){s.addTelemetryInitializer=function(u){var c={id:r++,fn:u};i[Me](c);var l={remove:function(){se(i,function(d,p){if(d.id===c.id)return i[ka](p,1),-1})}};return l},s[Kr]=function(u,c){for(var l=!1,d=i[ge],p=0;p<d;++p){var f=i[p];if(f)try{if(f.fn[Kf](null,[u])===!1){l=!0;break}}catch(m){Rt(c[ao](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Kl(m),{exception:Ft(m)},!0)}}l||s[bt](u,c)},s[zf]=function(){o()}});function o(){r=0,i=[]}return n}return t.__ieDyn=1,t}(ad)});function pye(e,t){return new Jv(t)}function fye(e,t,n){var r,i=[],o={};return se(n,function(s){(Ae(s)||Ae(s[Wo]))&&Pn(_Y);var a=s[co],u=s[Go];s&&a&&(Ae(o[a])?o[a]=u:es(e,"Two extensions have same priority #"+a+" - "+o[a]+", "+u)),(!a||a<t)&&i[Me](s)}),r={all:n},r[jt]=i,r}function EY(e,t){var n=!1;return se(t,function(r){if(r===e)return n=!0,-1}),n}function mye(){var e;return $s((e={},e[Fl]=function(t){},e[Ml]=function(t){},e[Jf]=function(t){},e[su]=function(t,n){},e[Zf]=function(t,n){},e))}var _Y,xY,wY,lye,dye,cd,fO=S(()=>{"use strict";Gr();Wn();Gr();sn();gY();Jk();ry();Hk();du();cn();Fn();Zv();py();mC();yY();hC();_Y="Plugins must provide initialize method",xY="_notificationManager",wY="SDK is still unloading...",lye="SDK is not initialized",dye={loggingLevelConsole:1};cd=function(){function e(){var t,n,r,i,o,s,a,u,c,l,d,p,f,m,h,g,v,y,x,E,_=0;Xe(e,this,function(C){P(),C[Ti]=function(){return n},C[Wo]=function(O,Q,ee,B){m&&Pn(wY),C[Ti]()&&Pn("Core should not be initialized more than once"),t=O||{},C[js]=t,Ae(O[Pb])&&Pn("Please provide instrumentation key"),i=B,C[xY]=B,k(),N(),U(),ee&&(C[zr]=ee);var fe=cu(t,Xz,[]);c=[],c[Me].apply(c,Ib(Ib([],Q,!1),fe,!1)),p=cu(t,uk,[]),b(null),(!f||f[ge]===0)&&Pn("No "+uk+" available"),n=!0,C.releaseQueue()},C.getTransmissionControls=function(){var O=[];return f&&se(f,function(Q){O[Me](Q.queue)}),Qr(O)},C.track=function(O){O.iKey=O.iKey||t[Pb],O[Ll]=O[Ll]||uo(new Date),O.ver=O.ver||"4.0",!m&&C[Ti]()?T()[bt](O):r[Me](O)},C[Rb]=T,C[Nv]=function(){return i||(i=mye(),C[xY]=i),i},C[Fl]=function(O){i&&i[Fl](O)},C[Ml]=function(O){i&&i[Ml](O)},C.getCookieMgr=function(){return a||(a=$a(t,C[zr])),a},C.setCookieMgr=function(O){a=O},C[Bl]=function(){if(!o&&!s&&lo(t.enablePerfMgr)){var O=lo(t[lk]);Be(O)&&(s=O(C,C[Nv]()))}return o||s||zk()},C.setPerfMgr=function(O){o=O},C.eventCnt=function(){return r[ge]},C.releaseQueue=function(){if(n&&r[ge]>0){var O=r;r=[],se(O,function(Q){T()[bt](Q)})}},C.pollInternalLogs=function(O){g=O||null;var Q=lo(t.diagnosticLogInterval);return(!Q||!(Q>0))&&(Q=1e4),_&&clearInterval(_),_=setInterval(function(){L()},Q),_},C[sk]=function(){_&&(clearInterval(_),_=0,L())},Xl(C,function(){return h},["addTelemetryInitializer"]),C.unload=function(O,Q,ee){var B;O===void 0&&(O=!0),n||Pn(lye),m&&Pn(wY);var fe=(B={reason:50},B[zo]=O,B.flushComplete=!1,B),Fe=bm(D(),C);Fe[Lv](function(){P(),Q&&Q(fe)},C);function _e(He){fe.flushComplete=He,m=!0,y.run(Fe,fe),C[sk](),Fe[bt](fe)}q(O,_e,6,ee)||_e(!1)},C[Ul]=R,C.addPlugin=function(O,Q,ee,B){if(!O){B&&B(!1),oe(_Y);return}var fe=R(O[Go]);if(fe&&!Q){B&&B(!1),oe("Plugin ["+O[Go]+"] is already loaded!");return}var Fe={reason:16};function _e(Dn){c[Me](O),Fe.added=[O],b(Fe),B&&B(!0)}if(fe){var He=[fe.plugin],$t={reason:2,isAsync:!!ee};I(He,$t,function(Dn){Dn?(Fe.removed=He,Fe.reason|=32,_e(!0)):B&&B(!1)})}else _e(!1)},C.evtNamespace=function(){return v},C[Wf]=q,C.getTraceCtx=function(O){return E||(E=uY()),E},C.setTraceCtx=function(O){E=O||null},uu(C,"addUnloadCb",function(){return y},"add");function P(){n=!1,t=im(!0,{},dye),C[js]=t,C[zr]=new Zo(t),C[Fv]=[],h=new vY,r=[],i=null,o=null,s=null,a=null,u=null,l=null,c=[],d=null,p=null,f=null,m=!1,g=null,v=ns("AIBaseCore",!0),y=sd(),E=null}function T(){return ei(D(),t,C)}function b(O){var Q=fye(C[zr],fy,c);l=Q[jt],u=null;var ee=Q.all;if(f=Qr(hY(p,ee,C)),d){var B=Tn(ee,d);B!==-1&&ee[ka](B,1),B=Tn(l,d),B!==-1&&l[ka](B,1),d._setQueue(f)}else d=mY(f,C);ee[Me](d),l[Me](d),C[Fv]=fC(ee),d[Wo](t,C,ee),pC(T(),ee),C[Fv]=Qr(fC(l||[])).slice(),O&&H(O)}function R(O){var Q,ee=null,B=null;return se(C[Fv],function(fe){if(fe[Go]===O&&fe!==d&&fe!==h)return B=fe,-1}),!B&&d&&(B=d.getChannel(O)),B&&(ee=(Q={plugin:B},Q[Mv]=function(fe){Va(B)[jv]=!fe},Q.isEnabled=function(){var fe=Va(B);return!fe[Ii]&&!fe[jv]},Q.remove=function(fe,Fe){var _e;fe===void 0&&(fe=!0);var He=[B],$t=(_e={reason:1},_e[zo]=fe,_e);I(He,$t,function(Dn){Dn&&b({reason:32,removed:He}),Fe&&Fe(Dn)})},Q)),ee}function D(){if(!u){var O=(l||[]).slice();Tn(O,h)===-1&&O[Me](h),u=Bs(fC(O),t,C)}return u}function I(O,Q,ee){if(O&&O[ge]>0){var B=Bs(O,t,C),fe=bm(B,C);fe[Lv](function(){var Fe=!1,_e=[];se(c,function($t,Dn){EY($t,O)?Fe=!0:_e[Me]($t)}),c=_e;var He=[];p&&(se(p,function($t,Dn){var kt=[];se($t,function(Bi){EY(Bi,O)?Fe=!0:kt[Me](Bi)}),He[Me](kt)}),p=He),ee&&ee(Fe)}),fe[bt](Q)}else ee(!1)}function L(){var O=C[zr]?C[zr].queue:[];O&&(se(O,function(Q){var ee,B=(ee={},ee[Bn]=g||"InternalMessageId: "+Q[Gf],ee.iKey=lo(t[Pb]),ee.time=uo(new Date),ee.baseType=td.dataType,ee.baseData={message:Q[eu]},ee);C.track(B)}),O[ge]=0)}function q(O,Q,ee,B){return d?d[Wf](O,Q,ee||6,B):(Q&&Q(!1),!0)}function k(){var O=lo(t.disableDbgExt);O===!0&&x&&(i[Ml](x),x=null),i&&!x&&O!==!0&&(x=S4(t),i[Fl](x))}function N(){var O=lo(t.enablePerfMgr);!O&&s&&(s=null),O&&cu(t,lk,pye)}function U(){var O=cu(t,Qf,{});O.NotificationManager=i}function H(O){var Q=dy(D(),C);(!C._updateHook||C._updateHook(Q,O)!==!0)&&Q[bt](O)}function oe(O){var Q=C[zr];Q?Rt(Q,2,73,O):Pn(O)}})}return e.__ieDyn=1,e}()});function gC(e,t,n,r){se(e,function(i){if(i&&i[t])if(n)setTimeout(function(){return r(i)},0);else try{r(i)}catch{}})}var my,mO=S(()=>{Wn();sn();cn();Fn();my=function(){function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;Xe(e,this,function(r){r[Fl]=function(i){r.listeners[Me](i)},r[Ml]=function(i){for(var o=Tn(r[$l],i);o>-1;)r.listeners[ka](o,1),o=Tn(r[$l],i)},r[Jf]=function(i){gC(r[$l],Jf,!0,function(o){o[Jf](i)})},r[su]=function(i,o){gC(r[$l],su,!0,function(s){s[su](i,o)})},r[Zf]=function(i,o){gC(r[$l],Zf,o,function(s){s[Zf](i,o)})},r[au]=function(i){i&&(n||!i[qv]())&&gC(r[$l],au,!1,function(o){i[zo]?setTimeout(function(){return o[au](i)},0):o[au](i)})}})}return e.__ieDyn=1,e}()});var hy,bY=S(()=>{Gr();Wn();sn();fO();du();cn();Fn();mO();Zv();hy=function(e){Vo(t,e);function t(){var n=e.call(this)||this;return Xe(t,n,function(r,i){r[Wo]=function(a,u,c,l){i[Wo](a,u,c||new Zo(a),l||new my(a))},r.track=function(a){Jt(r[Bl](),function(){return"AppInsightsCore:track"},function(){a===null&&(s(a),Pn("Invalid telemetry item")),o(a),i.track(a)},function(){return{item:a}},!a.sync)};function o(a){Ae(a[Bn])&&(s(a),Pn("telemetry name required"))}function s(a){var u=r[Nv]();u&&u[su]([a],2)}}),n}return t.__ieDyn=1,t}(cd)});var te,ht,ud,is,CY,SY,vC,hO,gy,yC,Cm,os,xu,Wa,vy,TY,gO,yy,IY=S(()=>{Mb();ht="Failed",ud=ht+"MonitorAjax",is="Track",CY="Start",SY="Stop",vC="Event",hO="AuthContext",gy="Exception",yC="Local",Cm="Session",os="Storage",xu="Browser",Wa="Cannot",vy="Buffer",TY="InstrumentationKey",gO=_r({CRITICAL:1,WARNING:2}),yy=_r((te={},te[xu+"DoesNotSupport"+yC+os]=0,te[xu+Wa+"Read"+yC+os]=1,te[xu+Wa+"Read"+Cm+os]=2,te[xu+Wa+"Write"+yC+os]=3,te[xu+Wa+"Write"+Cm+os]=4,te[xu+ht+"RemovalFrom"+yC+os]=5,te[xu+ht+"RemovalFrom"+Cm+os]=6,te[Wa+"SendEmptyTelemetry"]=7,te.ClientPerformanceMathError=8,te["ErrorParsingAI"+Cm+"Cookie"]=9,te.ErrorPVCalc=10,te[gy+"WhileLoggingError"]=11,te[ht+"AddingTelemetryTo"+vy]=12,te[ud+"Abort"]=13,te[ud+"Dur"]=14,te[ud+"Open"]=15,te[ud+"RSC"]=16,te[ud+"Send"]=17,te[ud+"GetCorrelationHeader"]=18,te[ht+"ToAddHandlerForOnBeforeUnload"]=19,te[ht+"ToSendQueuedTelemetry"]=20,te[ht+"ToReportDataLoss"]=21,te["Flush"+ht]=22,te.MessageLimitPerPVExceeded=23,te.MissingRequiredFieldSpecification=24,te.NavigationTimingNotSupported=25,te.OnError=26,te[Cm+"RenewalDateIsZero"]=27,te.SenderNotInitialized=28,te[CY+is+vC+ht]=29,te[SY+is+vC+ht]=30,te[CY+is+ht]=31,te[SY+is+ht]=32,te.TelemetrySampledAndNotSent=33,te[is+vC+ht]=34,te[is+gy+ht]=35,te[is+"Metric"+ht]=36,te[is+"PV"+ht]=37,te[is+"PV"+ht+"Calc"]=38,te[is+"Trace"+ht]=39,te["Transmission"+ht]=40,te[ht+"ToSet"+os+vy]=41,te[ht+"ToRestore"+os+vy]=42,te.InvalidBackendResponse=43,te[ht+"ToFixDepricatedValues"]=44,te.InvalidDurationValue=45,te.TelemetryEnvelopeInvalid=46,te.CreateEnvelopeError=47,te[Wa+"SerializeObject"]=48,te[Wa+"SerializeObjectNonSerializable"]=49,te.CircularReferenceDetected=50,te["Clear"+hO+ht]=51,te[gy+"Truncated"]=52,te.IllegalCharsInName=53,te.ItemNotInArray=54,te.MaxAjaxPerPVExceeded=55,te.MessageTruncated=56,te.NameTooLong=57,te.SampleRateOutOfRange=58,te["Set"+hO+ht]=59,te["Set"+hO+ht+"AccountName"]=60,te.StringValueTooLong=61,te.StartCalledMoreThanOnce=62,te.StopCalledWithoutStart=63,te["TelemetryInitializer"+ht]=64,te.TrackArgumentsNotSpecified=65,te.UrlTooLong=66,te[Cm+os+vy+"Full"]=67,te[Wa+"AccessCookie"]=68,te.IdTooLong=69,te.InvalidEvent=70,te[ud+"SetRequestHeader"]=71,te["Send"+xu+"InfoOnUserInit"]=72,te["Plugin"+gy]=73,te["Notification"+gy]=74,te.SnippetScriptLoadFailure=99,te["Invalid"+TY]=100,te[Wa+"ParseAiBlobValue"]=101,te.InvalidContentBlob=102,te[is+"PageAction"+vC+ht]=103,te[ht+"AddingCustomDefinedRequestContext"]=104,te["InMemory"+os+vy+"Full"]=105,te[TY+"Deprecation"]=106,te))});var Ga=S(()=>{Kz();d4();bY();fO();pO();Zb();nO();cn();Mb();eO();po();Gr();mO();Zv();du();py();IY();Jk();ry();hC();uO()});var PY,RY,AY,DY,kY,OY,NY=S(()=>{Gr();Ga();PY=_r({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),RY=_r({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),AY=_r({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),DY=_r({Normal:1,Critical:2}),kY=_r({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),OY=Qr(Tb(Tb({},yy),_r({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})))});var ss,xC,hye,o4e,vO,wC,xy=S(()=>{ss="",xC="https://browser.events.data.microsoft.com/OneCollector/1.0/",hye="pluginVersionString",o4e=hye+"Arr",vO="version",wC="properties"});function xn(e){return!(e===ss||Ae(e))}function Ey(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return ss}function wO(){return yO===null&&(yO=!ot(Uint8Array)&&!wye()&&!qa()),yO}function _y(e){return!!(e&&Xr(e)&&e>=1&&e<=4)}function by(e,t,n){if(!t&&!xn(t)||typeof e!="string")return null;var r=typeof t;if(r==="string"||r==="number"||r==="boolean"||Te(t))t={value:t};else if(r==="object"&&!Si.call(t,"value"))t={value:n?JSON.stringify(t):t};else if(Ae(t.value)||t.value===ss||!Ht(t.value)&&!Xr(t.value)&&!La(t.value)&&!Te(t.value))return null;if(Te(t.value)&&!_C(t.value))return null;if(!Ae(t.kind)){if(Te(t.value)||!Sm(t.kind))return null;t.value=t.value.toString()}return t}function Cy(e,t,n){var r=-1;if(!ot(e))if(t>0&&(t===32?r=1<<13:t<=13&&(r=t<<5)),xye(n))r===-1&&(r=0),r|=n;else{var i=yye[as(e)]||-1;r!==-1&&i!==-1?r|=i:i===6&&(r=i)}return r}function EO(){hu(null).setEnabled(!1)}function _O(e,t,n){rs(null)&&hu(null).set(e,t,n*86400,null,"/")}function bO(e){rs(null)&&hu(null).del(e)}function CO(e){return rs(null)?SO(hu(null),e):ss}function SO(e,t,n){n===void 0&&(n=!0);var r;return e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||ss}function TO(e){e===void 0&&(e="D");var t=xm();return e==="B"?t="{"+t+"}":e==="P"?t="("+t+")":e==="N"&&(t=t.replace(/-/g,ss)),t}function wu(e,t,n,r,i){var o={},s=!1,a=0,u=arguments.length,c=Object[vn],l=arguments;for(c.toString.call(l[0])==="[object Boolean]"&&(s=l[0],a++);a<u;a++){var e=l[a];Ct(e,function(p,f){s&&f&&Vn(f)?Te(f)?(o[p]=o[p]||[],se(f,function(m,h){m&&Vn(m)?o[p][h]=wu(!0,o[p][h],m):o[p][h]=m})):o[p]=wu(!0,o[p],f):o[p]=f})}return o}function Sm(e){return e===0||e>0&&e<=13||e===32}function xye(e){return e>=0&&e<=9}function wye(){var e=Ai();if(!ot(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}function _C(e){return e.length>0}function ld(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=br()}function as(e){var t=0;if(e!=null){var n=typeof e;n==="string"?t=1:n==="number"?t=2:n==="boolean"?t=3:n===hn&&(t=4,Te(e)?(t=4096,e.length>0&&(t|=as(e[0]))):Si.call(e,"value")&&(t=8192|as(e.value)))}return t}function bC(){return!!Bt("chrome")}function CC(e,t,n,r,i,o){r===void 0&&(r=!1),i===void 0&&(i=!1);function s(u,c,l){try{u[c]=l}catch{}}var a=new XMLHttpRequest;return r&&s(a,gye,r),n&&s(a,LY,n),a.open(e,t,!i),n&&s(a,LY,n),!i&&o&&s(a,vye,o),a}var za,EC,Ya,gye,LY,vye,yye,yO,wy,xO,br,FY,MY,Sy=S(()=>{Ga();Gr();xy();EC="3.2.9",Ya="1DS-Web-JS-"+EC,gye="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",LY="withCredentials",vye="timeout",yye=(za={},za[0]=0,za[2]=6,za[1]=1,za[3]=7,za[4098]=6,za[4097]=1,za[4099]=7,za),yO=null,wy=Boolean(Zr()),xO=Boolean(Hs());br=wm;FY={Version:EC,FullVersionString:Ya,strUndefined:gn,strObject:hn,Undefined:gn,arrForEach:se,arrIndexOf:Tn,arrMap:zl,arrReduce:Yl,objKeys:Er,toISOString:uo,isReactNative:qa,isString:Ht,isNumber:Xr,isBoolean:La,isFunction:Be,isArray:Te,isObject:Vn,strTrim:St,isDocumentObjectAvailable:wy,isWindowObjectAvailable:xO,isValueAssigned:xn,getTenantId:Ey,isBeaconsSupported:lu,isUint8ArrayAvailable:wO,isLatency:_y,sanitizeProperty:by,getISOString:uo,useXDomainRequest:ed,getCommonSchemaMetaData:Cy,cookieAvailable:rs,disallowsSameSiteNone:fm,setCookie:_O,deleteCookie:bO,getCookie:CO,createGuid:TO,extend:wu,getTime:br,isValueKind:Sm,isArrayValid:_C,objDefineAccessors:Ri,addPageUnloadEventListener:od,setProcessTelemetryTimings:ld,addEventHandler:vu,getFieldValueType:as,strEndsWith:Wl,objForEachKey:Ct},MY={_canUseCookies:void 0,isTypeof:em,isUndefined:ot,isNullOrUndefined:Ae,hasOwnProperty:Na,isFunction:Be,isObject:Vn,isDate:nm,isArray:Te,isError:Gl,isString:Ht,isNumber:Xr,isBoolean:La,toISOString:uo,arrForEach:se,arrIndexOf:Tn,arrMap:zl,arrReduce:Yl,strTrim:St,objCreate:$s,objKeys:Er,objDefineAccessors:Ri,addEventHandler:vu,dateNow:In,isIE:Jo,disableCookies:EO,newGuid:xm,perfNow:wm,newId:fu,randomValue:pm,random32:ts,mwcRandomSeed:Jb,mwcRandom32:ny,generateW3CId:Ha}});var Eye,UY,qY=S(()=>{Gr();Wn();Ga();xy();Sy();Eye=function(e){Vo(t,e);function t(){var n=e.call(this)||this;return n.pluginVersionStringArr=[],Xe(t,n,function(r,i){(!r.logger||!r.logger.queue)&&(r.logger=new Zo({loggingLevelConsole:1})),r.initialize=function(o,s,a,u){Jt(r,function(){return"AppInsightsCore.initialize"},function(){var c=r.pluginVersionStringArr;if(o){o.endpointUrl||(o.endpointUrl=xC);var l=o.propertyStorageOverride;l&&(!l.getProperty||!l.setProperty)&&Pn("Invalid property storage override passed."),o.channels&&se(o.channels,function(f){f&&se(f,function(m){if(m.identifier&&m.version){var h=m.identifier+"="+m.version;c.push(h)}})})}r.getWParam=function(){return typeof document<"u"||!!o.enableWParam?0:-1},s&&se(s,function(f){if(f&&f.identifier&&f.version){var m=f.identifier+"="+f.version;c.push(m)}}),r.pluginVersionString=c.join(";"),r.pluginVersionStringArr=c;try{i.initialize(o,s,a,u),r.pollInternalLogs("InternalLog")}catch(f){var d=r.logger,p=Ft(f);p.indexOf("channels")!==-1&&(p+=`
 - Channels must be provided through config.channels only!`),Rt(d,1,514,"SDK Initialization Failed - no telemetry will be sent: "+p)}},function(){return{config:o,extensions:s,logger:a,notificationManager:u}})},r.track=function(o){Jt(r,function(){return"AppInsightsCore.track"},function(){var s=o;if(s){s.timings=s.timings||{},s.timings.trackStart=br(),_y(s.latency)||(s.latency=1);var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=Ya;var u=s.baseData=s.baseData||{};u[wC]=u[wC]||{};var c=u[wC];c[vO]=c[vO]||r.pluginVersionString||ss}i.track(s)},function(){return{item:o}},!o.sync)}}),n}return t.__ieDyn=1,t}(hy),UY=Eye});var _ye,$Y,jY=S(()=>{Gr();Wn();Ga();xy();Sy();_ye=function(e){Vo(t,e);function t(){var n=e.call(this)||this;return Xe(t,n,function(r,i){r.initialize=function(o,s,a,u){o&&!o.endpointUrl&&(o.endpointUrl=xC),r.getWParam=function(){return wy||!!o.enableWParam?0:-1};try{i.initialize(o,s,a,u)}catch(c){Rt(r.logger,1,514,"Initialization Failed: "+Ft(c)+`
 - Note: Channels must be provided through config.channels only`)}},r.track=function(o){var s=o;if(s){var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=Ya}i.track(s)}}),n}return t.__ieDyn=1,t}(cd),$Y=_ye});function bye(e,t,n){return function(r){e[t]=r,n()}}var dd,Cye,Eu,IO=S(()=>{Wn();Ga();dd=Be;Cye=function(){function e(t){var n=0,r=null,i=[];Xe(e,this,function(c){c.then=function(l,d){return new e(function(p,f){o(l,d,p,f)})},c.catch=function(l){return c.then(null,l)}});function o(c,l,d,p){i.push(function(){var f;try{n===1?f=dd(c)?c(r):r:f=dd(l)?l(r):r,f instanceof e?f.then(d,p):n===2&&!dd(l)?p(f):d(f)}catch(m){p(m);return}}),n!==0&&s()}function s(){if(i.length>0){var c=i.slice();i=[],setTimeout(function(){for(var l=0,d=c.length;l<d;++l)try{c[l]()}catch{}},0)}}function a(c){n===0&&(r=c,n=1,s())}function u(c){n===0&&(r=c,n=2,s())}(function(){if(!dd(t))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{t(a,u)}catch(l){u(l)}})()}return e.resolve=function(t){return t instanceof e?t:t&&dd(t.then)?new e(function(n,r){try{t.then(n,r)}catch(i){r(i)}}):new e(function(n){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.all=function(t){if(!(!t||!t.length))return new e(function(n,r){try{for(var i=[],o=0,s=0;s<t.length;s++){var a=t[s];a&&dd(a.then)?(o++,a.then(bye(i,s,function(){--o===0&&n(i)}),r)):i[s]=a}o===0&&setTimeout(function(){n(i)},0)}catch(u){r(u)}})},e.race=function(t){return new e(function(n,r){if(!(!t||!t.length))try{for(var i=function(s){var a=t[s];a&&dd(a.then)?a.then(n,r):setTimeout(function(){n(a)},0)},o=0;o<t.length;o++)i(o)}catch(s){r(s)}})},e}(),Eu=Cye});function Tm(){return new Date().getTime()}var Sye,HY,Ty,pd,PO,Tye,BY,VY=S(()=>{Wn();IO();Ga();Sye=6e5,HY=0,Ty=[],pd=[],PO=[];Tye=function(){function e(t,n){var r=0,i=(t||"<unnamed>")+"."+HY;HY++,Xe(e,this,function(a){var u=null,c=0;a.scheduleEvent=function(d,p,f){var m=i+"."+c;c++,p&&(m+="-("+p+")");var h=m+"{"+r+"}";r++;var g={evt:null,tm:Tm(),id:h,isRunning:!1,isAborted:!1};return u?g.evt=P(g,u):g.evt=C(g),u=g,u.evt._schId=h,g.evt;function v(T){for(var b=Tm(),R=b-Sye,D=T.length,I=0;I<D;){var L=T[I];if(L&&L.tm<R){var q=null;L.abort?(q="Aborting ["+L.id+"] due to Excessive runtime ("+(b-L.tm)+" ms)",L.abort(q)):q="Removing ["+L.id+"] due to Excessive runtime ("+(b-L.tm)+" ms)",s(q),T.splice(I,1),D--}else I++}}function y(T,b){var R=!1,D=l(Ty,T);if(D||(D=l(PO,T),R=!0),D){D.to&&(clearTimeout(D.to),D.to=null);var I=Tm()-D.tm;b?R?s("Timed out event ["+T+"] finally complete -- "+I+" ms"):o("Promise ["+T+"] Complete -- "+I+" ms"):(PO.push(D),s("Event ["+T+"] Timed out and removed -- "+I+" ms"))}else o("Failed to remove ["+T+"] from running queue");u&&u.id===T&&(u=null),v(Ty),v(pd),v(PO)}function x(T,b){return function(R){return y(T,!0),b&&b(R),R}}function E(T,b,R,D){b.then(function(I){return I instanceof Eu?(o("Event ["+T+"] returned a promise -- waiting"),E(T,I,R,D),I):x(T,R)(I)},x(T,D))}function _(T,b){var R=T.id;return new Eu(function(D,I){o("Event ["+R+"] Starting -- waited for "+(T.wTm||"--")+" ms"),T.isRunning=!0,T.abort=function(q){T.abort=null,T.isAborted=!0,y(R,!1),I(new Error(q))};var L=b(R);L instanceof Eu?(f&&(T.to=setTimeout(function(){y(R,!1),I(new Error("Timed out after ["+f+"] ms"))},f)),E(R,L,function(q){o("Event ["+R+"] Resolving after "+(Tm()-T.tm)+" ms"),D(q)},I)):(o("Promise ["+R+"] Auto completed as the start action did not return a promise"),D())})}function C(T){var b=Tm();return T.wTm=b-T.tm,T.tm=b,T.isAborted?Eu.reject(new Error("["+m+"] was aborted")):(Ty.push(T),_(T,d))}function P(T,b){var R=new Eu(function(D,I){var L=Tm()-b.tm,q=b.id;o("["+m+"] is waiting for ["+q+":"+L+" ms] to complete before starting -- ["+pd.length+"] waiting and ["+Ty.length+"] running"),T.abort=function(k){T.abort=null,l(pd,m),T.isAborted=!0,I(new Error(k))},b.evt.then(function(k){l(pd,m),C(T).then(D,I)},function(k){l(pd,m),C(T).then(D,I)})});return pd.push(T),R}};function l(d,p){for(var f=0;f<d.length;f++)if(d[f].id===p)return d.splice(f,1)[0];return null}});function o(a){var u=Bo();u&&u.QUnit&&console&&console.log("ESPromiseScheduler["+i+"] "+a)}function s(a){es(n,"ESPromiseScheduler["+i+"] "+a)}}return e.incomplete=function(){return Ty},e.waitingToStart=function(){return pd},e}(),BY=Tye});var WY,GY=S(()=>{Ga();xy();Sy();WY=function(){function e(t){var n=this,r={},i=[],o=[];t&&o.push(t);function s(l,d){var p,f=r[l];if(f&&(p=f[d]),!p&&p!==null){if(Ht(l)&&Ht(d))if(o.length>0){for(var m=0;m<o.length;m++)if(o[m].handleField(l,d)){p={canHandle:!0,fieldHandler:o[m]};break}}else i.length===0&&(p={canHandle:!0});if(!p&&p!==null){p=null;for(var m=0;m<i.length;m++)if(i[m].handleField(l,d)){p={canHandle:!0,handler:i[m],fieldHandler:null};break}}f||(f=r[l]={}),f[d]=p}return p}n.addSanitizer=function(l){l&&(i.push(l),r={})},n.addFieldSanitizer=function(l){l&&(o.push(l),r={})},n.handleField=function(l,d){var p=s(l,d);return p?p.canHandle:!1},n.value=function(l,d,p,f){var m=s(l,d);if(m&&m.canHandle){if(!m||!m.canHandle)return null;if(m.handler)return m.handler.value(l,d,p,f);if(!Ht(d)||Ae(p)||p===ss)return null;var h=null,g=as(p);if((g&8192)===8192){var v=g&-8193;if(h=p,!xn(h.value)||v!==1&&v!==2&&v!==3&&(v&4096)!==4096)return null}else g===1||g===2||g===3||(g&4096)===4096?h=u(l,d,p):g===4&&(h=u(l,d,f?JSON.stringify(p):p));if(h)return a(m,l,d,g,h,f)}return null},n.property=function(l,d,p,f){var m=s(l,d);if(!m||!m.canHandle||!Ht(d)||Ae(p)||!xn(p.value))return null;var h=as(p.value);return h===0?null:a(m,l,d,h,p,f)};function a(l,d,p,f,m,h){if(l.handler)return l.handler.property(d,p,m,h);if(!Ae(m.kind)){if((f&4096)===4096||!Sm(m.kind))return null;m.value=m.value.toString()}return c(l.fieldHandler,d,p,f,m)}function u(l,d,p){return xn(p)?{value:p}:null}function c(l,d,p,f,m){if(m&&l){var h=l.getSanitizer(d,p,f,m.kind,m.propertyType);if(h)if(f===4){var g={},v=m.value;Ct(v,function(x,E){var _=d+"."+p;if(xn(E)){var C=u(_,x,E);C=c(l,_,x,as(E),C),C&&(g[x]=C.value)}}),m.value=g}else{var y={path:d,name:p,type:f,prop:m,sanitizer:n};m=h.call(n,y)}}return m}}return e.getFieldType=as,e}()});var zY={};bs(zY,{AppInsightsCore:()=>UY,BaseCore:()=>$Y,BaseTelemetryPlugin:()=>ad,CoreUtils:()=>MY,DiagnosticLogger:()=>Zo,ESPromise:()=>Eu,ESPromiseScheduler:()=>BY,EventHelper:()=>tO,EventLatency:()=>RY,EventPersistence:()=>DY,EventPropertyType:()=>AY,EventsDiscardedReason:()=>Qo,FullVersionString:()=>Ya,InternalAppInsightsCore:()=>hy,InternalBaseCore:()=>cd,LoggingSeverity:()=>gO,MinChannelPriorty:()=>ok,NotificationManager:()=>my,PerfEvent:()=>nd,PerfManager:()=>Jv,ProcessTelemetryContext:()=>dO,TraceLevel:()=>kY,Undefined:()=>gn,Utils:()=>FY,ValueKind:()=>PY,ValueSanitizer:()=>WY,Version:()=>EC,_ExtendedInternalMessageId:()=>OY,_InternalLogMessage:()=>td,_InternalMessageId:()=>yy,__getRegisteredEvents:()=>Zk,_logInternalMessage:()=>Vk,_throwInternal:()=>Rt,_warnToConsole:()=>es,addEventHandler:()=>vu,addEventListeners:()=>cC,addPageHideEventListener:()=>vm,addPageShowEventListener:()=>ym,addPageUnloadEventListener:()=>od,areCookiesSupported:()=>rs,arrForEach:()=>se,arrIndexOf:()=>Tn,arrMap:()=>zl,arrReduce:()=>Yl,attachEvent:()=>hm,cookieAvailable:()=>rs,createCookieMgr:()=>$a,createEnumStyle:()=>_r,createGuid:()=>TO,createProcessTelemetryContext:()=>ei,createTraceParent:()=>oO,createUniqueNamespace:()=>ns,createUnloadHandlerContainer:()=>sd,dateNow:()=>In,deleteCookie:()=>bO,detachEvent:()=>gm,disableCookies:()=>EO,disallowsSameSiteNone:()=>fm,doPerf:()=>Jt,dumpObj:()=>Ft,eventOff:()=>id,eventOn:()=>rd,extend:()=>wu,findW3cTraceParent:()=>cO,formatTraceParent:()=>aO,generateW3CId:()=>Ha,getCommonSchemaMetaData:()=>Cy,getConsole:()=>zv,getCookie:()=>CO,getCookieValue:()=>SO,getCrypto:()=>Yv,getDocument:()=>Zr,getExceptionName:()=>Kl,getFieldValueType:()=>as,getGlobal:()=>Bo,getGlobalInst:()=>Bt,getHistory:()=>Fk,getIEVersion:()=>Mk,getISOString:()=>uo,getJSON:()=>cm,getLocation:()=>Jl,getMsCrypto:()=>Kv,getNavigator:()=>Ai,getPerformance:()=>am,getSetValue:()=>cu,getTenantId:()=>Ey,getTime:()=>br,getWindow:()=>Hs,hasDocument:()=>Yb,hasHistory:()=>Kb,hasJSON:()=>Zl,hasNavigator:()=>Gv,hasOwnProperty:()=>Na,hasWindow:()=>Wv,isArray:()=>Te,isArrayValid:()=>_C,isBeaconsSupported:()=>lu,isBoolean:()=>La,isChromium:()=>bC,isDate:()=>nm,isDocumentObjectAvailable:()=>wy,isError:()=>Gl,isFetchSupported:()=>um,isFunction:()=>Be,isIE:()=>Jo,isLatency:()=>_y,isNotTruthy:()=>xk,isNullOrUndefined:()=>Ae,isNumber:()=>Xr,isObject:()=>Vn,isReactNative:()=>qa,isSampledFlag:()=>sO,isString:()=>Ht,isTruthy:()=>rm,isTypeof:()=>em,isUint8ArrayAvailable:()=>wO,isUndefined:()=>ot,isValidSpanId:()=>_m,isValidTraceId:()=>Em,isValidTraceParent:()=>dC,isValueAssigned:()=>xn,isValueKind:()=>Sm,isWindowObjectAvailable:()=>xO,isXhrSupported:()=>lm,mergeEvtNamespace:()=>ja,newGuid:()=>xm,newId:()=>fu,normalizeJsName:()=>Vl,objCreate:()=>$s,objDefineAccessors:()=>Ri,objForEachKey:()=>Ct,objFreeze:()=>Qr,objKeys:()=>Er,objSeal:()=>yk,openXhr:()=>CC,optimizeObject:()=>Fa,parseTraceParent:()=>ly,perfNow:()=>wm,proxyAssign:()=>wk,proxyFunctionAs:()=>uu,proxyFunctions:()=>Xl,random32:()=>ts,randomValue:()=>pm,removeEventHandler:()=>aC,removeEventListeners:()=>gu,removePageHideEventListener:()=>cy,removePageShowEventListener:()=>uy,removePageUnloadEventListener:()=>ay,safeGetCookieMgr:()=>hu,safeGetLogger:()=>Xv,sanitizeProperty:()=>by,setCookie:()=>_O,setEnableEnvMocks:()=>Lk,setProcessTelemetryTimings:()=>ld,setValue:()=>Jr,strContains:()=>an,strEndsWith:()=>Wl,strFunction:()=>so,strObject:()=>hn,strPrototype:()=>vn,strStartsWith:()=>tm,strTrim:()=>St,strUndefined:()=>gn,throwError:()=>Pn,toISOString:()=>uo,useXDomainRequest:()=>ed});var fd=S(()=>{NY();qY();jY();IO();VY();GY();Ga();Sy()});var md,SC,TC,RO=S(()=>{md="REAL_TIME",SC="NEAR_REAL_TIME",TC="BEST_EFFORT"});var cs,IC,YY,PC,KY,AO,XY,QY,JY,DO,kO,RC,ZY,OO,e6,NO,AC,LO,DC,kC,OC,Iy,FO,t6,Im,MO,NC,Py=S(()=>{cs="",IC="POST",YY="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",PC="drop",KY="send",AO="requeue",XY="rspFail",QY="oth",JY="no-cache, no-store",DO="application/x-json-stream",kO="cache-control",RC="content-type",ZY="kill-tokens",OO="kill-duration",e6="kill-duration-seconds",NO="time-delta-millis",AC="client-version",LO="client-id",DC="time-delta-to-apply-millis",kC="upload-time",OC="apikey",Iy="AuthMsaDeviceTicket",FO="AuthXToken",t6="NoResponseBody",Im="msfpc",MO="trace",NC="user"});function r6(e){var t=(e.ext||{}).intweb;return t&&xn(t[Im])?t[Im]:null}function n6(e){for(var t=null,n=0;t===null&&n<e.length;n++)t=r6(e[n]);return t}var Pm,UO=S(()=>{fd();Py();Pm=function(){function e(t,n){var r=n?[].concat(n):[],i=this,o=n6(r);i.iKey=function(){return t},i.Msfpc=function(){return o||cs},i.count=function(){return r.length},i.events=function(){return r},i.addEvent=function(s){return s?(r.push(s),o||(o=r6(s)),!0):!1},i.split=function(s,a){var u;if(s<r.length){var c=r.length-s;Ae(a)||(c=a<c?a:c),u=r.splice(s,c),o=n6(r)}return new e(t,u)}}return e.create=function(t,n){return new e(t,n)},e}()});var Iye,i6,o6=S(()=>{Wn();Iye=function(){function e(){var t=!0,n=!0,r=!0,i="use-collector-delta",o=!1;Xe(e,this,function(s){s.allowRequestSending=function(){return t},s.firstRequestSent=function(){r&&(r=!1,o||(t=!1))},s.shouldAddClockSkewHeaders=function(){return n},s.getClockSkewHeaderValue=function(){return i},s.setClockSkew=function(a){o||(a?(i=a,n=!0,o=!0):n=!1,t=!0)}})}return e.__ieDyn=1,e}(),i6=Iye});var Pye,Rye,s6,a6=S(()=>{Wn();fd();Pye=1e3,Rye=function(){function e(){var t={};function n(r){var i=[];return r&&se(r,function(o){i.push(St(o))}),i}Xe(e,this,function(r){r.setKillSwitchTenants=function(i,o){if(i&&o)try{var s=n(i.split(","));if(o==="this-request-only")return s;for(var a=parseInt(o,10)*Pye,u=0;u<s.length;++u)t[s[u]]=In()+a}catch{return[]}return[]},r.isTenantKilled=function(i){var o=t,s=St(i);return o[s]!==void 0&&o[s]>In()?!0:(delete o[s],!1)}})}return e.__ieDyn=1,e}(),s6=Rye});function u6(e){return!(e>=300&&e<500&&e!=408&&e!=429||e==501||e==505)}function LC(e){var t=0,n=c6*Aye,r=c6*Dye,i=Math.floor(Math.random()*(r-n))+n;return t=Math.pow(2,e)*i,Math.min(t,kye)}var Aye,Dye,c6,kye,qO=S(()=>{Aye=.8,Dye=1.2,c6=3e3,kye=6e5});function d6(e,t,n,r){if(r&&e){var i=Cy(r.value,r.kind,r.propertyType);if(i>-1){var o=e[l6];o||(o=e[l6]={f:{}});var s=o[FC];if(s||(s=o[FC]={}),t)for(var a=0;a<t.length;a++){var u=t[a];s[u]||(s[u]={f:{}});var c=s[u][FC];c||(c=s[u][FC]={}),s=c}s=s[n]={},Te(r.value)?s.a={t:i}:s.t=i}}}var Oye,Nye,p6,f6,Lye,l6,FC,Fye,m6,h6=S(()=>{Wn();fd();UO();Py();Oye=20,Nye=3984588,p6=65e3,f6=2e6,Lye=Math.min(f6,p6),l6="metadata",FC="f",Fye=/\./,m6=function(){function e(t,n,r,i){var o="data",s="baseData",a="ext",u=!!i,c=!0,l=n,d={};Xe(e,this,function(p){p.createPayload=function(h,g,v,y,x,E){return{apiKeys:[],payloadBlob:cs,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:h,isTeardown:g,isSync:v,isBeacon:y,sendType:E,sendReason:x}},p.appendPayload=function(h,g,v){var y=h&&g&&!h.overflow;return y&&Jt(t,function(){return"Serializer:appendPayload"},function(){for(var x=g.events(),E=h.payloadBlob,_=h.numEvents,C=!1,P=[],T=[],b=h.isBeacon,R=b?p6:Nye,D=b?Lye:f6,I=0,L=0;I<x.length;){var q=x[I];if(q){if(_>=v){h.overflow=g.split(I);break}var k=p.getEventBlob(q);if(k&&k.length<=D){var N=k.length,U=E.length;if(U+N>R){h.overflow=g.split(I);break}E&&(E+=`
`),E+=k,L++,L>Oye&&(E.substr(0,1),L=0),C=!0,_++}else k?P.push(q):T.push(q),x.splice(I,1),I--}I++}if(P&&P.length>0&&h.sizeExceed.push(Pm.create(g.iKey(),P)),T&&T.length>0&&h.failedEvts.push(Pm.create(g.iKey(),T)),C){h.batches.push(g),h.payloadBlob=E,h.numEvents=_;var H=g.iKey();Tn(h.apiKeys,H)===-1&&h.apiKeys.push(H)}},function(){return{payload:h,theBatch:{iKey:g.iKey(),evts:g.events()},max:v}}),y},p.getEventBlob=function(h){try{return Jt(t,function(){return"Serializer.getEventBlob"},function(){var g={};g.name=h.name,g.time=h.time,g.ver=h.ver,g.iKey="o:"+Ey(h.iKey);var v={},y=h[a];y&&(g[a]=v,Ct(y,function(_,C){var P=v[_]={};m(C,P,"ext."+_,!0,null,null,!0)}));var x=g[o]={};x.baseType=h.baseType;var E=x[s]={};return m(h.baseData,E,s,!1,[s],function(_,C,P){d6(v,_,C,P)},c),m(h.data,x,o,!1,[],function(_,C,P){d6(v,_,C,P)},c),JSON.stringify(g)},function(){return{item:h}})}catch{return null}};function f(h,g){var v=d[h];return v===void 0&&(h.length>=7&&(v=tm(h,"ext.metadata")||tm(h,"ext.web")),d[h]=v),v}function m(h,g,v,y,x,E,_){Ct(h,function(C,P){var T=null;if(P||xn(P)){var b=v,R=C,D=x,I=g;if(u&&!y&&Fye.test(C)){var L=C.split("."),q=L.length;if(q>1){D&&(D=D.slice());for(var k=0;k<q-1;k++){var N=L[k];I=I[N]=I[N]||{},b+="."+N,D&&D.push(N)}R=L[q-1]}}var U=y&&f(b,R);if(!U&&l&&l.handleField(b,R)?T=l.value(b,R,P,r):T=by(R,P,r),T){var H=T.value;if(I[R]=H,E&&E(D,R,T),_&&typeof H=="object"&&!Te(H)){var oe=D;oe&&(oe=oe.slice(),oe.push(R)),m(P,H,b+"."+R,y,oe,E,_)}}}})}})}return e.__ieDyn=1,e}()});function gd(e,t,n){jO[e]=t,n!==!1&&(HO[t]=e)}function v6(e){try{return e.responseText}catch{}return cs}function y6(e,t){var n=!1;if(e&&t){var r=Er(e);if(r&&r.length>0)for(var i=t.toLowerCase(),o=0;o<r.length;o++){var s=r[o];if(s&&Na(t,s)&&s.toLowerCase()===i){n=!0;break}}}return n}function Rm(e,t,n,r){t&&n&&n.length>0&&(r&&jO[t]?(e.hdrs[jO[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}function x6(e,t){return t&&(Xr(t)?e=[t].concat(e):Te(t)&&(e=t.concat(e))),e}var hd,$O,g6,Mye,jO,HO,w6,E6=S(()=>{Wn();o6();a6();fd();Py();qO();h6();$O="sendAttempt",g6="&"+t6+"=true",Mye=(hd={},hd[1]=AO,hd[100]=AO,hd[200]="sent",hd[8004]=PC,hd[8003]=PC,hd),jO={},HO={};gd(Iy,Iy,!1);gd(AC,AC);gd(LO,"Client-Id");gd(OC,OC);gd(DC,DC);gd(kC,kC);gd(FO,FO);w6=function(){function e(t,n,r,i,o){this._responseHandlers=[];var s="?cors=true&"+RC.toLowerCase()+"="+DO,a=new s6,u=!1,c=new i6,l=!1,d=0,p,f,m,h,g=!0,v=[],y={},x=[],E=null,_=!1,C,P=!1,T=!1,b,R,D,I,L;Xe(e,this,function(q){var k=!0;q.initialize=function(F,G,X,ne,ae){var De;ae||(ae={}),s=F+s,T=ot(ae.avoidOptions)?!0:!ae.avoidOptions,h=G,C=G.getCookieMgr(),_=!h.config.disableEventTimings;var be=!!h.config.enableCompoundKey;p=X,f=p.diagLog();var M=ae.valueSanitizer,j=ae.stringifyObjects;ot(ae.enableCompoundKey)||(be=!!ae.enableCompoundKey),b=ae.xhrTimeout,R=!!ae.disableXhrSync,D=!!ae.disableFetchKeepAlive,L=ae.addNoResponse!==!1,l=!qa(),E=new m6(h,M,j,be),Ae(ae.useSendBeacon)||(l=!!ae.useSendBeacon);var $=ne,re=ae.alwaysUseXhrOverride?ne:null,ue=ae.alwaysUseXhrOverride?ne:null,xe=[3,2];if(!ne){g=!1;var Qe=Jl();Qe&&Qe.protocol&&Qe.protocol.toLowerCase()==="file:"&&(k=!1);var ut=[];qa()?(ut=[2,1],xe=[2,1,3]):ut=[1,2,3],ut=x6(ut,ae.transports),ne=N(ut,!1),ne||es(f,"No available transport to send events"),$=N(ut,!0)}re||(xe=x6(xe,ae.unloadTransports),re=N(xe,!0)),I=!g&&(l&&lu()||!D&&um(!0)),m=(De={},De[0]=ne,De[1]=$||N([1,2,3],!0),De[2]=re||$||N([1],!0),De[3]=ue||N([2,3],!0)||$||N([1],!0),De)};function N(F,G){for(var X=0,ne=null,ae=0;ne==null&&ae<F.length;)X=F[ae],X===1?ed()?ne=U:lm()&&(ne=oe):X===2&&um(G)&&(!G||G&&!D)?ne=H:l&&X===3&&lu()&&(ne=Q),ae++;return ne?{_transport:X,_isSync:G,sendPOST:ne}:null}q._getDbgPlgTargets=function(){return[m[0],a,E,m]};function U(F,G,X){var ne=new XDomainRequest;ne.open(IC,F.urlString),F.timeout&&(ne.timeout=F.timeout),ne.onload=function(){var ae=v6(ne);O(G,200,{},ae),hg(ae)},ne.onerror=function(){O(G,400,{})},ne.ontimeout=function(){O(G,500,{})},ne.onprogress=function(){},X?ne.send(F.data):o.set(function(){ne.send(F.data)},0)}function H(F,G,X){var ne,ae=F.urlString,De=!1,be=!1,M=(ne={body:F.data,method:IC},ne[YY]=!0,ne);X&&(M.keepalive=!0,F._sendReason===2&&(De=!0,L&&(ae+=g6))),k&&(M.credentials="include"),F.headers&&Er(F.headers).length>0&&(M.headers=F.headers),fetch(ae,M).then(function(j){var $={},re=cs,ue=j.headers;ue&&ue.forEach(function(xe,Qe){$[Qe]=xe}),j.body&&j.text().then(function(xe){re=xe}),be||(be=!0,O(G,j.status,$,re),hg(re))}).catch(function(j){be||(be=!0,O(G,0,{}))}),De&&!be&&(be=!0,O(G,200,{})),!be&&F.timeout>0&&o.set(function(){be||(be=!0,O(G,500,{}))},F.timeout)}function oe(F,G,X){var ne=F.urlString;function ae(j,$,re){if(!j[re]&&$&&$.getResponseHeader){var ue=$.getResponseHeader(re);ue&&(j[re]=St(ue))}return j}function De(j){var $={};return j.getAllResponseHeaders?$=o0(j.getAllResponseHeaders()):($=ae($,j,NO),$=ae($,j,OO),$=ae($,j,e6)),$}function be(j,$){O(G,j.status,De(j),$)}X&&F.disableXhrSync&&(X=!1);var M=CC(IC,ne,k,!0,X,F.timeout);Ct(F.headers,function(j,$){M.setRequestHeader(j,$)}),M.onload=function(){var j=v6(M);be(M,j),hg(j)},M.onerror=function(){be(M)},M.ontimeout=function(){be(M)},M.send(F.data)}function O(F,G,X,ne){try{F(G,X,ne)}catch(ae){Rt(f,2,518,Ft(ae))}}function Q(F,G,X){var ne=F,ae=200,De=ne._thePayload,be=F.urlString+(L?g6:cs);try{var M=Ai();if(!M.sendBeacon(be,F.data))if(De){var j=[];se(De.batches,function($){if(j&&$&&$.count()>0){for(var re=$.events(),ue=0;ue<re.length;ue++)if(!M.sendBeacon(be,E.getEventBlob(re[ue]))){j.push($.split(ue));break}}else j.push($.split(0))}),Vi(j,8003,De.sendType,!0)}else ae=0}catch($){es(f,"Failed to send telemetry using sendBeacon API. Ex:"+Ft($)),ae=0}finally{O(G,ae,{},cs)}}function ee(F){return F===2||F===3}function B(F){return P&&ee(F)&&(F=2),F}q.addQueryStringParameter=function(F,G){for(var X=0;X<v.length;X++)if(v[X].name===F){v[X].value=G;return}v.push({name:F,value:G})},q.addHeader=function(F,G){y[F]=G},q.canSendRequest=function(){return fe()&&c.allowRequestSending()},q.sendQueuedRequests=function(F,G){ot(F)&&(F=0),P&&(F=B(F),G=2),_e(x,F,0)&&$t(Fe(),0,!1,F,G||0)},q.isCompletelyIdle=function(){return!u&&d===0&&x.length===0},q.setUnloading=function(F){P=F},q.addBatch=function(F){if(F&&F.count()>0){if(a.isTenantKilled(F.iKey()))return!1;x.push(F)}return!0},q.teardown=function(){x.length>0&&$t(Fe(),0,!0,2,2)},q.pause=function(){u=!0},q.resume=function(){u=!1,q.sendQueuedRequests(0,4)},q.sendSynchronousBatch=function(F,G,X){F&&F.count()>0&&(Ae(G)&&(G=1),P&&(G=B(G),X=2),$t([F],0,!1,G,X||0))};function fe(){return!u&&d<n}function Fe(){var F=x;return x=[],F}function _e(F,G,X){var ne=!1;return F&&F.length>0&&!u&&m[G]&&E&&(ne=G!==0||fe()&&(X>0||c.allowRequestSending())),ne}function He(F){var G={};return F&&se(F,function(X,ne){G[ne]={iKey:X.iKey(),evts:X.events()}}),G}function $t(F,G,X,ne,ae){if(!(!F||F.length===0)){if(u){Vi(F,1,ne);return}ne=B(ne);try{var De=F,be=ne!==0;Jt(h,function(){return"HttpManager:_sendBatches"},function(M){M&&(F=F.slice(0));for(var j=[],$=null,re=br(),ue=m[ne]||(be?m[1]:m[0]),xe=ue&&ue._transport,Qe=I&&(P||ee(ne)||xe===3||ue._isSync&&xe===2);_e(F,ne,G);){var ut=F.shift();ut&&ut.count()>0&&(a.isTenantKilled(ut.iKey())?j.push(ut):($=$||E.createPayload(G,X,be,Qe,ae,ne),E.appendPayload($,ut,t)?$.overflow!==null&&(F=[$.overflow].concat(F),$.overflow=null,Bi($,re,br(),ae),re=br(),$=null):(Bi($,re,br(),ae),re=br(),F=[ut].concat(F),$=null)))}$&&Bi($,re,br(),ae),F.length>0&&(x=F.concat(x)),Vi(j,8004,ne)},function(){return{batches:He(De),retryCount:G,isTeardown:X,isSynchronous:be,sendReason:ae,useSendBeacon:ee(ne),sendType:ne}},!be)}catch(M){Rt(f,2,48,"Unexpected Exception sending batch: "+Ft(M))}}}function Dn(F,G){var X={url:s,hdrs:{},useHdrs:!1};G?(X.hdrs=wu(X.hdrs,y),X.useHdrs=Er(X.hdrs).length>0):Ct(y,function(M,j){HO[M]?Rm(X,HO[M],j,!1):(X.hdrs[M]=j,X.useHdrs=!0)}),Rm(X,LO,"NO_AUTH",G),Rm(X,AC,Ya,G);var ne=cs;se(F.apiKeys,function(M){ne.length>0&&(ne+=","),ne+=M}),Rm(X,OC,ne,G),Rm(X,kC,In().toString(),G);var ae=Fw(F);if(xn(ae)&&(X.url+="&ext.intweb.msfpc="+ae),c.shouldAddClockSkewHeaders()&&Rm(X,DC,c.getClockSkewHeaderValue(),G),h.getWParam){var De=h.getWParam();De>=0&&(X.url+="&w="+De)}for(var be=0;be<v.length;be++)X.url+="&"+v[be].name+"="+v[be].value;return X}function kt(F,G,X){F[G]=F[G]||{},F[G][p.identifier]=X}function Bi(F,G,X,ne){if(F&&F.payloadBlob&&F.payloadBlob.length>0){var ae=!!q.sendHook,De=m[F.sendType];!ee(F.sendType)&&F.isBeacon&&F.sendReason===2&&(De=m[2]||m[3]||De);var be=T;(F.isBeacon||De._transport===3)&&(be=!1);var M=Dn(F,be);be=be||M.useHdrs;var j=br();Jt(h,function(){return"HttpManager:_doPayloadSend"},function(){for(var $=0;$<F.batches.length;$++)for(var re=F.batches[$],ue=re.events(),xe=0;xe<ue.length;xe++){var Qe=ue[xe];if(_){var ut=Qe.timings=Qe.timings||{};kt(ut,"sendEventStart",j),kt(ut,"serializationStart",G),kt(ut,"serializationCompleted",X)}Qe[$O]>0?Qe[$O]++:Qe[$O]=1}Vi(F.batches,1e3+(ne||0),F.sendType,!0);var Ot={data:F.payloadBlob,urlString:M.url,headers:M.hdrs,_thePayload:F,_sendReason:ne,timeout:b,disableXhrSync:R,disableFetchKeepAlive:D};be&&(y6(Ot.headers,kO)||(Ot.headers[kO]=JY),y6(Ot.headers,RC)||(Ot.headers[RC]=DO));var vg=null;De&&(vg=function(Mw){c.firstRequestSent();var yg=function(s0,Nae){Nw(s0,Nae,F,ne)},_s=F.isTeardown||F.isSync;try{De.sendPOST(Mw,yg,_s),q.sendListener&&q.sendListener(Ot,Mw,_s,F.isBeacon)}catch(s0){es(f,"Unexpected exception sending payload. Ex:"+Ft(s0)),O(yg,0,{})}}),Jt(h,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(vg)if(F.sendType===0&&d++,ae&&!F.isBeacon&&De._transport!==3){var Mw={data:Ot.data,urlString:Ot.urlString,headers:wu({},Ot.headers),timeout:Ot.timeout,disableXhrSync:Ot.disableXhrSync,disableFetchKeepAlive:Ot.disableFetchKeepAlive},yg=!1;Jt(h,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{q.sendHook(Mw,function(_s){yg=!0,!g&&!_s._thePayload&&(_s._thePayload=_s._thePayload||Ot._thePayload,_s._sendReason=_s._sendReason||Ot._sendReason),vg(_s)},F.isSync||F.isTeardown)}catch{yg||vg(Ot)}})}else vg(Ot)})},function(){return{thePayload:F,serializationStart:G,serializationCompleted:X,sendReason:ne}},F.isSync)}F.sizeExceed&&F.sizeExceed.length>0&&Vi(F.sizeExceed,8003,F.sendType),F.failedEvts&&F.failedEvts.length>0&&Vi(F.failedEvts,8002,F.sendType)}function i0(F,G){_&&se(F,function(X){var ne=X.timings=X.timings||{};kt(ne,"sendEventCompleted",G)})}function Nw(F,G,X,ne){var ae=9e3,De=null,be=!1,M=!1;try{var j=!0;if(typeof F!==gn){if(G){c.setClockSkew(G[NO]);var $=G[OO]||G["kill-duration-seconds"];se(a.setKillSwitchTenants(G[ZY],$),function(ue){se(X.batches,function(xe){if(xe.iKey()===ue){De=De||[];var Qe=xe.split(0);X.numEvents-=Qe.count(),De.push(Qe)}})})}if(F==200||F==204){ae=200;return}(!u6(F)||X.numEvents<=0)&&(j=!1),ae=9e3+F%1e3}if(j){ae=100;var re=X.retryCnt;X.sendType===0&&(re<r?(be=!0,mg(function(){X.sendType===0&&d--,$t(X.batches,re+1,X.isTeardown,P?2:X.sendType,5)},P,LC(re))):(M=!0,P&&(ae=8001)))}}finally{be||(c.setClockSkew(),fg(X,ae,ne,M)),Vi(De,8004,X.sendType)}}function fg(F,G,X,ne){try{ne&&p._backOffTransmission(),G===200&&(!ne&&!F.isSync&&p._clearBackOff(),Lw(F.batches)),Vi(F.batches,G,F.sendType,!0)}finally{F.sendType===0&&(d--,X!==5&&q.sendQueuedRequests(F.sendType,X))}}function Lw(F){if(_){var G=br();se(F,function(X){X&&X.count()>0&&i0(X.events(),G)})}}function mg(F,G,X){G?F():o.set(F,X)}function o0(F){var G={};if(Ht(F)){var X=St(F).split(/[\r\n]+/);se(X,function(ne){if(ne){var ae=ne.indexOf(": ");if(ae!==-1){var De=St(ne.substring(0,ae)).toLowerCase(),be=St(ne.substring(ae+1));G[De]=be}else G[St(ne)]=1}})}return G}function Fw(F){for(var G=0;G<F.batches.length;G++){var X=F.batches[G].Msfpc();if(X)return encodeURIComponent(X)}return cs}function hg(F){var G=q._responseHandlers;try{for(var X=0;X<G.length;X++)try{G[X](F)}catch(ae){Rt(f,1,519,"Response handler failed: "+ae)}if(F){var ne=JSON.parse(F);xn(ne.webResult)&&xn(ne.webResult[Im])&&C.set("MSFPC",ne.webResult[Im],365*86400)}}catch{}}function Vi(F,G,X,ne){if(F&&F.length>0&&i){var ae=i[gg(G)];if(ae){var De=X!==0;Jt(h,function(){return"HttpManager:_sendBatchesNotification"},function(){mg(function(){try{ae.call(i,F,G,De,X)}catch(be){Rt(f,1,74,"send request notification failed: "+be)}},ne||De,0)},function(){return{batches:He(F),reason:G,isSync:De,sendSync:ne,sendType:X}},!De)}}}function gg(F){var G=Mye[F];return xn(G)||(G=QY,F>=9e3&&F<=9999?G=XY:F>=8e3&&F<=8999?G=PC:F>=1e3&&F<=1999&&(G=KY)),G}})}return e.__ieDyn=1,e}()});function Uye(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout(e,t,n)}function qye(e){clearTimeout(e)}function Ry(e,t){return{set:e||Uye,clear:t||qye}}var _6=S(()=>{});var $ye,b6,jye,C6,S6,Hye,T6,Bye,vd,MC,I6,P6,Vye,Wye,R6,A6=S(()=>{Gr();Wn();fd();RO();UO();E6();Py();qO();_6();$ye=.25,b6=500,jye=20,C6=6,S6=2,Hye=4,T6=2,Bye=1,vd="eventsDiscarded",MC="overrideInstrumentationKey",I6="maxEventRetryAttempts",P6="maxUnloadEventRetryAttempts",Vye="addUnloadCb",Wye=function(e){Vo(t,e);function t(){var n=e.call(this)||this;n.identifier="PostChannel",n.priority=1011,n.version="3.2.9";var r,i=!1,o=[],s=null,a=!1,u=0,c=500,l=0,d=1e4,p={},f=md,m=null,h=null,g=0,v=0,y,x,E={},_,C,P=-1,T,b=!0,R=!1,D=C6,I=S6,L,q;return Xe(t,n,function(k,N){fe(),k._getDbgPlgTargets=function(){return[x]},k.initialize=function(M,j,$){Jt(j,function(){return"PostChannel:initialize"},function(){var re=j;N.initialize(M,j,$);try{var ue=!!j[Vye];L=ja(ns(k.identifier),j.evtNamespace&&j.evtNamespace());var xe=k._getTelCtx();M.extensionConfig[k.identifier]=M.extensionConfig[k.identifier]||{},r=xe.getExtCfg(k.identifier),q=Ry(r.setTimeoutOverride,r.clearTimeoutOverride),b=!r.disableOptimizeObj&&bC(),U(re),r.eventsLimitInMem>0&&(d=r.eventsLimitInMem),r.immediateEventLimit>0&&(c=r.immediateEventLimit),r.autoFlushEventsLimit>0&&(_=r.autoFlushEventsLimit),Xr(r[I6])&&(D=r[I6]),Xr(r[P6])&&(I=r[P6]),be(),r.httpXHROverride&&r.httpXHROverride.sendPOST&&(y=r.httpXHROverride),xn(M.anonCookieName)&&x.addQueryStringParameter("anoncknm",M.anonCookieName),x.sendHook=r.payloadPreprocessor,x.sendListener=r.payloadListener;var Qe=r.overrideEndpointUrl?r.overrideEndpointUrl:M.endpointUrl;k._notificationManager=j.getNotifyMgr(),x.initialize(Qe,k.core,k,y,r);var ut=M.disablePageUnloadEvents||[];od(H,ut,L),vm(H,ut,L),ym(oe,M.disablePageShowEvents,L)}catch(Ot){throw k.setInitialized(!1),Ot}},function(){return{coreConfig:M,core:j,extensions:$}})},k.processTelemetry=function(M,j){ld(M,k.identifier),j=k._getTelCtx(j);var $=j.getExtCfg(k.identifier),re=!!r.disableTelemetry;$&&(re=re||!!$.disableTelemetry);var ue=M;!re&&!i&&(r[MC]&&(ue.iKey=r[MC]),$&&$[MC]&&(ue.iKey=$[MC]),O(ue,!0),R?He(2,2):B()),k.processNext(ue,j)},k._doTeardown=function(M,j){He(2,2),i=!0,x.teardown(),ay(null,L),cy(null,L),uy(null,L),fe()};function U(M){var j=M.getWParam;M.getWParam=function(){var $=0;return r.ignoreMc1Ms0CookieProcessing&&($=$|2),$|j()}}function H(M){var j=M||Hs().event;j.type!=="beforeunload"&&(R=!0,x.setUnloading(R)),He(2,2)}function oe(M){R=!1,x.setUnloading(R)}function O(M,j){if(M.sendAttempt||(M.sendAttempt=0),M.latency||(M.latency=1),M.ext&&M.ext[MO]&&delete M.ext[MO],M.ext&&M.ext[NC]&&M.ext[NC].id&&delete M.ext[NC].id,b&&(ld,M.ext=Fa(M.ext),M.baseData&&(M.baseData=Fa(M.baseData)),M.data&&(M.data=Fa(M.data))),M.sync){if(g||a)M.latency=3,M.sync=!1;else if(x){b&&(M=Fa(M)),x.sendSynchronousBatch(Pm.create(M.iKey,[M]),M.sync===!0?1:M.sync,3);return}}var $=M.latency,re=l,ue=d;$===4&&(re=u,ue=c);var xe=!1;if(re<ue)xe=!Bi(M,j);else{var Qe=1,ut=jye;$===4&&(Qe=4,ut=1),xe=!0,i0(M.iKey,M.latency,Qe,ut)&&(xe=!Bi(M,j))}xe&&gg(vd,[M],Qo.QueueFull)}k.setEventQueueLimits=function(M,j){d=M>0?M:1e4,_=j>0?j:0,be();var $=l>M;if(!$&&C>0)for(var re=1;!$&&re<=3;re++){var ue=E[re];ue&&ue.batches&&se(ue.batches,function(xe){xe&&xe.count()>=C&&($=!0)})}kt(!0,$)},k.pause=function(){_e(),a=!0,x.pause()},k.resume=function(){a=!1,x.resume(),B()},k.addResponseHandler=function(M){x._responseHandlers.push(M)},k._loadTransmitProfiles=function(M){o0(),Ct(M,function(j,$){var re=$.length;if(re>=2){var ue=re>2?$[2]:0;if($.splice(0,re-2),$[1]<0&&($[0]=-1),$[1]>0&&$[0]>0){var xe=$[0]/$[1];$[0]=Math.ceil(xe)*$[1]}ue>=0&&$[1]>=0&&ue>$[1]&&(ue=$[1]),$.push(ue),p[j]=$}})},k.flush=function(M,j,$){if(M===void 0&&(M=!0),!a)if($=$||1,M)s==null?(_e(),fg(1,0,$),s=Fe(function(){s=null,Lw(j,$)},0)):o.push(j);else{var re=_e();Q(1,1,$),j!=null&&j(),re&&B()}},k.setMsaAuthTicket=function(M){x.addHeader(Iy,M)},k.hasEvents=ee,k._setTransmitProfile=function(M){f!==M&&p[M]!==void 0&&(_e(),f=M,B())};function Q(M,j,$){var re=fg(M,j,$);return x.sendQueuedRequests(j,$),re}function ee(){return l>0}function B(){if(P>=0&&fg(P,0,T)&&x.sendQueuedRequests(0,T),u>0&&!h&&!a){var M=p[f][2];M>=0&&(h=Fe(function(){h=null,Q(4,0,1),B()},M))}var j=p[f][1];!m&&!s&&j>=0&&!a&&(ee()?m=Fe(function(){m=null,Q(v===0?3:1,0,1),v++,v%=2,B()},j):v=0)}k._backOffTransmission=function(){g<Hye&&(g++,_e(),B())},k._clearBackOff=function(){g&&(g=0,_e(),B())};function fe(){r=null,i=!1,o=[],s=null,a=!1,u=0,c=500,l=0,d=1e4,p={},f=md,m=null,h=null,g=0,v=0,y=null,E={},_=void 0,C=0,P=-1,T=null,b=!0,R=!1,D=C6,I=S6,L=null,q=Ry(),x=new w6(b6,T6,Bye,{requeue:hg,send:G,sent:X,drop:ne,rspFail:ae,oth:De},q),Fw(),$t(),be()}function Fe(M,j){j===0&&g&&(j=1);var $=1e3;return g&&($=LC(g-1)),q.set(M,j*$)}function _e(){return m!==null?(q.clear(m),m=null,v=0,!0):!1}function He(M,j){_e(),s&&(q.clear(s),s=null),a||Q(1,M,j)}function $t(){E[4]={batches:[],iKeyMap:{}},E[3]={batches:[],iKeyMap:{}},E[2]={batches:[],iKeyMap:{}},E[1]={batches:[],iKeyMap:{}}}function Dn(M,j,$){var re=E[j];re||(j=1,re=E[j]);var ue=re.iKeyMap[M];return!ue&&$&&(ue=Pm.create(M),re.batches.push(ue),re.iKeyMap[M]=ue),ue}function kt(M,j){x.canSendRequest()&&!g&&(_>0&&l>_&&(j=!0),j&&s==null&&k.flush(M,null,20))}function Bi(M,j){b&&(M=Fa(M));var $=M.latency,re=Dn(M.iKey,$,!0);return re.addEvent(M)?($!==4?(l++,j&&M.sendAttempt===0&&kt(!M.sync,C>0&&re.count()>=C)):u++,!0):!1}function i0(M,j,$,re){for(;$<=j;){var ue=Dn(M,j,!0);if(ue&&ue.count()>0){var xe=ue.split(0,re),Qe=xe.count();if(Qe>0)return $===4?u-=Qe:l-=Qe,F(vd,[xe],Qo.QueueFull),!0}$++}return Nw(),!1}function Nw(){for(var M=0,j=0,$=function(ue){var xe=E[ue];xe&&xe.batches&&se(xe.batches,function(Qe){ue===4?M+=Qe.count():j+=Qe.count()})},re=1;re<=4;re++)$(re);l=j,u=M}function fg(M,j,$){var re=!1,ue=j===0;return!ue||x.canSendRequest()?Jt(k.core,function(){return"PostChannel._queueBatches"},function(){for(var xe=[],Qe=4;Qe>=M;){var ut=E[Qe];ut&&ut.batches&&ut.batches.length>0&&(se(ut.batches,function(Ot){x.addBatch(Ot)?re=re||Ot&&Ot.count()>0:xe=xe.concat(Ot.events()),Qe===4?u-=Ot.count():l-=Ot.count()}),ut.batches=[],ut.iKeyMap={}),Qe--}xe.length>0&&gg(vd,xe,Qo.KillSwitch),re&&P>=M&&(P=-1,T=0)},function(){return{latency:M,sendType:j,sendReason:$}},!ue):(P=P>=0?Math.min(P,M):M,T=Math.max(T,$)),re}function Lw(M,j){Q(1,0,j),Nw(),mg(function(){M&&M(),o.length>0?s=Fe(function(){s=null,Lw(o.shift(),j)},0):(s=null,B())})}function mg(M){x.isCompletelyIdle()?M():s=Fe(function(){s=null,mg(M)},$ye)}function o0(){_e(),Fw(),f=md,B()}function Fw(){p={},p[md]=[2,1,0],p[SC]=[6,3,0],p[TC]=[18,9,0]}function hg(M,j){var $=[],re=D;R&&(re=I),se(M,function(ue){ue&&ue.count()>0&&se(ue.events(),function(xe){xe&&(xe.sync&&(xe.latency=4,xe.sync=!1),xe.sendAttempt<re?(ld(xe,k.identifier),O(xe,!1)):$.push(xe))})}),$.length>0&&gg(vd,$,Qo.NonRetryableStatus),R&&He(2,2)}function Vi(M,j){var $=k._notificationManager||{},re=$[M];if(re)try{re.apply($,j)}catch(ue){Rt(k.diagLog(),1,74,M+" notification failed: "+ue)}}function gg(M,j){for(var $=[],re=2;re<arguments.length;re++)$[re-2]=arguments[re];j&&j.length>0&&Vi(M,[j].concat($))}function F(M,j){for(var $=[],re=2;re<arguments.length;re++)$[re-2]=arguments[re];j&&j.length>0&&se(j,function(ue){ue&&ue.count()>0&&Vi(M,[ue.events()].concat($))})}function G(M,j,$){M&&M.length>0&&Vi("eventsSendRequest",[j>=1e3&&j<=1999?j-1e3:0,$!==!0])}function X(M,j){F("eventsSent",M,j),B()}function ne(M,j){F(vd,M,j>=8e3&&j<=8999?j-8e3:Qo.Unknown)}function ae(M){F(vd,M,Qo.NonRetryableStatus),B()}function De(M,j){F(vd,M,Qo.Unknown),B()}function be(){!r||!r.disableAutoBatchFlushLimit?C=Math.max(b6*(T6+1),d/6):C=0}Ri(k,"_setTimeoutOverride",function(){return q.set},function(M){q=Ry(M,q.clear)}),Ri(k,"_clearTimeoutOverride",function(){return q.clear},function(M){q=Ry(q.set,M)})}),n}return t.__ieDyn=1,t}(ad),R6=Wye});var D6={};bs(D6,{BE_PROFILE:()=>TC,NRT_PROFILE:()=>SC,PostChannel:()=>R6,RT_PROFILE:()=>md});var k6=S(()=>{A6();RO()});var N6=w(Vs=>{"use strict";var Gye=Vs&&Vs.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),zye=Vs&&Vs.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),O6=Vs&&Vs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Gye(t,e,n);return zye(t,e),t};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.oneDataSystemClientFactory=void 0;var Yye=async(e,t,n)=>{let r=await Promise.resolve().then(()=>O6((fd(),ui(zY)))),i=await Promise.resolve().then(()=>O6((k6(),ui(D6)))),o=new r.AppInsightsCore,s=new i.PostChannel,a={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(n){a.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:n};a.extensionConfig[s.identifier]=l}let c=t.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer(l=>{!c||(l.ext=l.ext??{},l.ext.utc=l.ext.utc??{},l.ext.utc.flags=8462029)}),o},Kye=async(e,t,n)=>{let r=await Yye(e,t,n);return{logEvent:(o,s)=>{try{r==null||r.track({name:o,baseData:{name:o,properties:s==null?void 0:s.properties,measurements:s==null?void 0:s.measurements}})}catch(a){throw new Error(`Failed to log event to app insights!
`+a.message)}},flush:async()=>{try{r==null||r.unload()}catch(o){throw new Error(`Failed to flush app insights!
`+o.message)}}}};Vs.oneDataSystemClientFactory=Kye});var WO=w(je=>{"use strict";var BO=je&&je.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},VO=je&&je.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(je,"__esModule",{value:!0});je.getShallowFileSize=je.getShallowDirectorySizeSync=je.getShallowDirectorySize=je.confirmDirExists=je.unlinkAsync=je.readdirAsync=je.readFileAsync=je.writeFileAsync=je.appendFileAsync=je.accessAsync=je.mkdirAsync=je.lstatAsync=je.statAsync=void 0;var us=require("fs"),L6=require("path"),Ka=require("util");je.statAsync=Ka.promisify(us.stat);je.lstatAsync=Ka.promisify(us.lstat);je.mkdirAsync=Ka.promisify(us.mkdir);je.accessAsync=Ka.promisify(us.access);je.appendFileAsync=Ka.promisify(us.appendFile);je.writeFileAsync=Ka.promisify(us.writeFile);je.readFileAsync=Ka.promisify(us.readFile);je.readdirAsync=Ka.promisify(us.readdir);je.unlinkAsync=Ka.promisify(us.unlink);var Xye=function(e){return BO(void 0,void 0,void 0,function(){var t,n,r;return VO(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,je.lstatAsync(e)];case 1:if(t=i.sent(),!t.isDirectory())throw new Error("Path existed but was not a directory");return[3,7];case 2:if(n=i.sent(),!(n&&n.code==="ENOENT"))return[3,6];i.label=3;case 3:return i.trys.push([3,5,,6]),[4,je.mkdirAsync(e)];case 4:return i.sent(),[3,6];case 5:if(r=i.sent(),r&&r.code!=="EEXIST")throw r;return[3,6];case 6:return[3,7];case 7:return[2]}})})};je.confirmDirExists=Xye;var Qye=function(e){return BO(void 0,void 0,void 0,function(){var t,n,r,i,o,s;return VO(this,function(a){switch(a.label){case 0:return[4,je.readdirAsync(e)];case 1:t=a.sent(),n=0,r=0,i=t,a.label=2;case 2:return r<i.length?(o=i[r],[4,je.statAsync(L6.join(e,o))]):[3,5];case 3:s=a.sent(),s.isFile()&&(n+=s.size),a.label=4;case 4:return r++,[3,2];case 5:return[2,n]}})})};je.getShallowDirectorySize=Qye;var Jye=function(e){for(var t=us.readdirSync(e),n=0,r=0;r<t.length;r++)n+=us.statSync(L6.join(e,t[r])).size;return n};je.getShallowDirectorySizeSync=Jye;var Zye=function(e){return BO(void 0,void 0,void 0,function(){var t;return VO(this,function(n){switch(n.label){case 0:return[4,je.statAsync(e)];case 1:return t=n.sent(),t.isFile()?[2,t.size]:[2]}})})};je.getShallowFileSize=Zye});var U6=w((xd,M6)=>{"use strict";var GO=xd&&xd.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},zO=xd&&xd.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},F6=xd&&xd.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},exe=require("fs"),txe=require("os"),yd=require("path"),Ws=WO(),nxe=function(){function e(){var t=this;this.TAG="Logger",this._cleanupTimeOut=60*30*1e3,this._logToFile=!1,this._logToConsole=!0;var n=process.env.APPLICATIONINSIGHTS_LOG_DESTINATION;n=="file+console"&&(this._logToFile=!0),n=="file"&&(this._logToFile=!0,this._logToConsole=!1),this.maxSizeBytes=5e4,this.maxHistory=1,this._logFileName="applicationinsights.log";var r=process.env.APPLICATIONINSIGHTS_LOGDIR;r?yd.isAbsolute(r)?this._tempDir=r:this._tempDir=yd.join(process.cwd(),r):this._tempDir=yd.join(txe.tmpdir(),"appInsights-node"),this._fileFullPath=yd.join(this._tempDir,this._logFileName),this._backUpNameFormat="."+this._logFileName,this._logToFile&&(e._fileCleanupTimer||(e._fileCleanupTimer=setInterval(function(){t._fileCleanupTask()},this._cleanupTimeOut),e._fileCleanupTimer.unref()))}return e.prototype.info=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t?F6([t],n):n;this._logToFile&&this._storeToDisk(i),this._logToConsole&&console.info.apply(console,i)},e.prototype.warning=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t?F6([t],n):n;this._logToFile&&this._storeToDisk(i),this._logToConsole&&console.warn.apply(console,i)},e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype._storeToDisk=function(t){return GO(this,void 0,void 0,function(){var n,r,i,o,s,a;return zO(this,function(u){switch(u.label){case 0:n=t+`\r
`,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Ws.confirmDirExists(this._tempDir)];case 2:return u.sent(),[3,4];case 3:return r=u.sent(),console.log(this.TAG,"Failed to create directory for log file: "+(r&&r.message)),[2];case 4:return u.trys.push([4,6,,11]),[4,Ws.accessAsync(this._fileFullPath,exe.constants.F_OK)];case 5:return u.sent(),[3,11];case 6:i=u.sent(),u.label=7;case 7:return u.trys.push([7,9,,10]),[4,Ws.appendFileAsync(this._fileFullPath,n)];case 8:return u.sent(),[2];case 9:return o=u.sent(),console.log(this.TAG,"Failed to put log into file: "+(i&&i.message)),[2];case 10:return[3,11];case 11:return u.trys.push([11,17,,18]),[4,Ws.getShallowFileSize(this._fileFullPath)];case 12:return s=u.sent(),s>this.maxSizeBytes?[4,this._createBackupFile(n)]:[3,14];case 13:return u.sent(),[3,16];case 14:return[4,Ws.appendFileAsync(this._fileFullPath,n)];case 15:u.sent(),u.label=16;case 16:return[3,18];case 17:return a=u.sent(),console.log(this.TAG,"Failed to create backup file: "+(a&&a.message)),[3,18];case 18:return[2]}})})},e.prototype._createBackupFile=function(t){return GO(this,void 0,void 0,function(){var n,r,i;return zO(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,4,5]),[4,Ws.readFileAsync(this._fileFullPath)];case 1:return n=o.sent(),r=yd.join(this._tempDir,new Date().getTime()+"."+this._logFileName),[4,Ws.writeFileAsync(r,n)];case 2:return o.sent(),[3,5];case 3:return i=o.sent(),console.log("Failed to generate backup log file",i),[3,5];case 4:return Ws.writeFileAsync(this._fileFullPath,t),[7];case 5:return[2]}})})},e.prototype._fileCleanupTask=function(){return GO(this,void 0,void 0,function(){var t,n,r,i,o,s=this;return zO(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),[4,Ws.readdirAsync(this._tempDir)];case 1:t=a.sent(),t=t.filter(function(u){return yd.basename(u).indexOf(s._backUpNameFormat)>-1}),t.sort(function(u,c){var l=new Date(parseInt(u.split(s._backUpNameFormat)[0])),d=new Date(parseInt(c.split(s._backUpNameFormat)[0]));if(l<d)return-1;if(l>=d)return 1}),n=t.length,r=0,a.label=2;case 2:return r<n-this.maxHistory?(i=yd.join(this._tempDir,t[r]),[4,Ws.unlinkAsync(i)]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:return o=a.sent(),console.log(this.TAG,"Failed to cleanup log files: "+(o&&o.message)),[3,7];case 7:return[2]}})})},e._fileCleanupTimer=null,e}();M6.exports=nxe});var Mt=w((IYe,$6)=>{"use strict";var q6=U6(),rxe=function(){function e(){}return e.info=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.enableDebug&&q6.getInstance().info(this.TAG+t,n)},e.warn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.disableWarnings||q6.getInstance().warning(this.TAG+t,n)},e.enableDebug=!1,e.disableWarnings=!1,e.TAG="ApplicationInsights:",e}();$6.exports=rxe});var $C=w(qC=>{"use strict";Object.defineProperty(qC,"__esModule",{value:!0});qC.JsonConfig=void 0;var ixe=require("fs"),UC=require("path"),j6=Mt(),oxe="APPLICATIONINSIGHTS_CONFIGURATION_FILE",sxe="APPLICATIONINSIGHTS_CONNECTION_STRING",H6="APPSETTING_",B6="APPINSIGHTS_INSTRUMENTATIONKEY",V6="APPINSIGHTS_INSTRUMENTATION_KEY",axe="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",cxe="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",uxe="http_proxy",lxe="https_proxy",dxe="APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL",pxe="APPLICATION_INSIGHTS_NO_STATSBEAT",fxe="APPLICATION_INSIGHTS_NO_HTTP_AGENT_KEEP_ALIVE",mxe="APPLICATION_INSIGHTS_NO_PATCH_MODULES",hxe="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_ENABLED",gxe="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_CONNECTION_STRING",vxe="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_SOURCE",yxe="APPLICATIONINSIGHTS_WEB_SNIPPET_ENABLED",xxe="APPLICATIONINSIGHTS_WEB_SNIPPET_CONNECTION_STRING",wxe=function(){function e(){this.connectionString=process.env[sxe],this.instrumentationKey=process.env[B6]||process.env[H6+B6]||process.env[V6]||process.env[H6+V6],!this.connectionString&&this.instrumentationKey&&j6.warn("APPINSIGHTS_INSTRUMENTATIONKEY is in path of deprecation, please use APPLICATIONINSIGHTS_CONNECTION_STRING env variable to setup the SDK."),this.disableAllExtendedMetrics=!!process.env[cxe],this.extendedMetricDisablers=process.env[axe],this.proxyHttpUrl=process.env[uxe],this.proxyHttpsUrl=process.env[lxe],this.noDiagnosticChannel=!!process.env[dxe],this.disableStatsbeat=!!process.env[pxe],this.noHttpAgentKeepAlive=!!process.env[fxe],this.noPatchModules=process.env[mxe]||"",this.enableWebInstrumentation=!!process.env[hxe]||!!process.env[yxe],this.webInstrumentationSrc=process.env[vxe]||"",this.webInstrumentationConnectionString=process.env[gxe]||process.env[xxe]||"",this.enableAutoWebSnippetInjection=this.enableWebInstrumentation,this.webSnippetConnectionString=this.webInstrumentationConnectionString,this._loadJsonFile()}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype._loadJsonFile=function(){var t="applicationinsights.json",n=UC.join(__dirname,"../../"),r=UC.join(n,t),i=process.env[oxe];i&&(UC.isAbsolute(i)?r=i:r=UC.join(n,i));try{var o=JSON.parse(ixe.readFileSync(r,"utf8"));o.disableStatsbeat!=null&&(this.disableStatsbeat=o.disableStatsbeat),o.disableAllExtendedMetrics!=null&&(this.disableAllExtendedMetrics=o.disableStatsbeat),o.noDiagnosticChannel!=null&&(this.noDiagnosticChannel=o.noDiagnosticChannel),o.noHttpAgentKeepAlive!=null&&(this.noHttpAgentKeepAlive=o.noHttpAgentKeepAlive),o.connectionString!=null&&(this.connectionString=o.connectionString),o.extendedMetricDisablers!=null&&(this.extendedMetricDisablers=o.extendedMetricDisablers),o.noDiagnosticChannel!=null&&(this.noDiagnosticChannel=o.noDiagnosticChannel),o.proxyHttpUrl!=null&&(this.proxyHttpUrl=o.proxyHttpUrl),o.proxyHttpsUrl!=null&&(this.proxyHttpsUrl=o.proxyHttpsUrl),o.proxyHttpsUrl!=null&&(this.proxyHttpsUrl=o.proxyHttpsUrl),o.noPatchModules!=null&&(this.noPatchModules=o.noPatchModules),o.enableAutoWebSnippetInjection!=null&&(this.enableWebInstrumentation=o.enableAutoWebSnippetInjection,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation),o.enableWebInstrumentation!=null&&(this.enableWebInstrumentation=o.enableWebInstrumentation,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation),o.webSnippetConnectionString!=null&&(this.webInstrumentationConnectionString=o.webSnippetConnectionString,this.webSnippetConnectionString=this.webInstrumentationConnectionString),o.webInstrumentationConnectionString!=null&&(this.webInstrumentationConnectionString=o.webInstrumentationConnectionString,this.webSnippetConnectionString=this.webInstrumentationConnectionString),o.webInstrumentationConfig!=null&&(this.webInstrumentationConfig=o.webInstrumentationConfig),o.webInstrumentationSrc!=null&&(this.webInstrumentationSrc=o.webInstrumentationSrc),this.endpointUrl=o.endpointUrl,this.maxBatchSize=o.maxBatchSize,this.maxBatchIntervalMs=o.maxBatchIntervalMs,this.disableAppInsights=o.disableAppInsights,this.samplingPercentage=o.samplingPercentage,this.correlationIdRetryIntervalMs=o.correlationIdRetryIntervalMs,this.correlationHeaderExcludedDomains=o.correlationHeaderExcludedDomains,this.ignoreLegacyHeaders=o.ignoreLegacyHeaders,this.distributedTracingMode=o.distributedTracingMode,this.enableAutoCollectExternalLoggers=o.enableAutoCollectExternalLoggers,this.enableAutoCollectConsole=o.enableAutoCollectConsole,this.enableAutoCollectExceptions=o.enableAutoCollectExceptions,this.enableAutoCollectPerformance=o.enableAutoCollectPerformance,this.enableAutoCollectExtendedMetrics=o.enableAutoCollectExtendedMetrics,this.enableAutoCollectPreAggregatedMetrics=o.enableAutoCollectPreAggregatedMetrics,this.enableAutoCollectHeartbeat=o.enableAutoCollectHeartbeat,this.enableAutoCollectRequests=o.enableAutoCollectRequests,this.enableAutoCollectDependencies=o.enableAutoCollectDependencies,this.enableAutoDependencyCorrelation=o.enableAutoDependencyCorrelation,this.enableAutoCollectIncomingRequestAzureFunctions=o.enableAutoCollectIncomingRequestAzureFunctions,this.enableUseAsyncHooks=o.enableUseAsyncHooks,this.enableUseDiskRetryCaching=o.enableUseDiskRetryCaching,this.enableResendInterval=o.enableResendInterval,this.enableMaxBytesOnDisk=o.enableMaxBytesOnDisk,this.enableInternalDebugLogging=o.enableInternalDebugLogging,this.enableInternalWarningLogging=o.enableInternalWarningLogging,this.enableSendLiveMetrics=o.enableSendLiveMetrics,this.quickPulseHost=o.quickPulseHost}catch(s){j6.info("Missing or invalid JSON config file: ",s)}},e}();qC.JsonConfig=wxe});var aK=w((Ie,sK)=>{Ie=sK.exports=ze;var dt;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?dt=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:dt=function(){};Ie.SEMVER_SPEC_VERSION="2.0.0";var KO=256,jC=Number.MAX_SAFE_INTEGER||9007199254740991,YO=16,vt=Ie.re=[],z=Ie.src=[],Ve=0,Am=Ve++;z[Am]="0|[1-9]\\d*";var Dm=Ve++;z[Dm]="[0-9]+";var ZO=Ve++;z[ZO]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var G6=Ve++;z[G6]="("+z[Am]+")\\.("+z[Am]+")\\.("+z[Am]+")";var z6=Ve++;z[z6]="("+z[Dm]+")\\.("+z[Dm]+")\\.("+z[Dm]+")";var XO=Ve++;z[XO]="(?:"+z[Am]+"|"+z[ZO]+")";var QO=Ve++;z[QO]="(?:"+z[Dm]+"|"+z[ZO]+")";var eN=Ve++;z[eN]="(?:-("+z[XO]+"(?:\\."+z[XO]+")*))";var tN=Ve++;z[tN]="(?:-?("+z[QO]+"(?:\\."+z[QO]+")*))";var JO=Ve++;z[JO]="[0-9A-Za-z-]+";var ky=Ve++;z[ky]="(?:\\+("+z[JO]+"(?:\\."+z[JO]+")*))";var nN=Ve++,Y6="v?"+z[G6]+z[eN]+"?"+z[ky]+"?";z[nN]="^"+Y6+"$";var rN="[v=\\s]*"+z[z6]+z[tN]+"?"+z[ky]+"?",iN=Ve++;z[iN]="^"+rN+"$";var Nm=Ve++;z[Nm]="((?:<|>)?=?)";var HC=Ve++;z[HC]=z[Dm]+"|x|X|\\*";var BC=Ve++;z[BC]=z[Am]+"|x|X|\\*";var wd=Ve++;z[wd]="[v=\\s]*("+z[BC]+")(?:\\.("+z[BC]+")(?:\\.("+z[BC]+")(?:"+z[eN]+")?"+z[ky]+"?)?)?";var Om=Ve++;z[Om]="[v=\\s]*("+z[HC]+")(?:\\.("+z[HC]+")(?:\\.("+z[HC]+")(?:"+z[tN]+")?"+z[ky]+"?)?)?";var K6=Ve++;z[K6]="^"+z[Nm]+"\\s*"+z[wd]+"$";var X6=Ve++;z[X6]="^"+z[Nm]+"\\s*"+z[Om]+"$";var Q6=Ve++;z[Q6]="(?:^|[^\\d])(\\d{1,"+YO+"})(?:\\.(\\d{1,"+YO+"}))?(?:\\.(\\d{1,"+YO+"}))?(?:$|[^\\d])";var KC=Ve++;z[KC]="(?:~>?)";var VC=Ve++;z[VC]="(\\s*)"+z[KC]+"\\s+";vt[VC]=new RegExp(z[VC],"g");var Exe="$1~",J6=Ve++;z[J6]="^"+z[KC]+z[wd]+"$";var Z6=Ve++;z[Z6]="^"+z[KC]+z[Om]+"$";var XC=Ve++;z[XC]="(?:\\^)";var WC=Ve++;z[WC]="(\\s*)"+z[XC]+"\\s+";vt[WC]=new RegExp(z[WC],"g");var _xe="$1^",eK=Ve++;z[eK]="^"+z[XC]+z[wd]+"$";var tK=Ve++;z[tK]="^"+z[XC]+z[Om]+"$";var oN=Ve++;z[oN]="^"+z[Nm]+"\\s*("+rN+")$|^$";var sN=Ve++;z[sN]="^"+z[Nm]+"\\s*("+Y6+")$|^$";var Ay=Ve++;z[Ay]="(\\s*)"+z[Nm]+"\\s*("+rN+"|"+z[wd]+")";vt[Ay]=new RegExp(z[Ay],"g");var bxe="$1$2$3",nK=Ve++;z[nK]="^\\s*("+z[wd]+")\\s+-\\s+("+z[wd]+")\\s*$";var rK=Ve++;z[rK]="^\\s*("+z[Om]+")\\s+-\\s+("+z[Om]+")\\s*$";var iK=Ve++;z[iK]="(<|>)?=?\\s*\\*";for(_u=0;_u<Ve;_u++)dt(_u,z[_u]),vt[_u]||(vt[_u]=new RegExp(z[_u]));var _u;Ie.parse=Ed;function Ed(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof ze)return e;if(typeof e!="string"||e.length>KO)return null;var n=t.loose?vt[iN]:vt[nN];if(!n.test(e))return null;try{return new ze(e,t)}catch{return null}}Ie.valid=Cxe;function Cxe(e,t){var n=Ed(e,t);return n?n.version:null}Ie.clean=Sxe;function Sxe(e,t){var n=Ed(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}Ie.SemVer=ze;function ze(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof ze){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>KO)throw new TypeError("version is longer than "+KO+" characters");if(!(this instanceof ze))return new ze(e,t);dt("SemVer",e,t),this.options=t,this.loose=!!t.loose;var n=e.trim().match(t.loose?vt[iN]:vt[nN]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>jC||this.major<0)throw new TypeError("Invalid major version");if(this.minor>jC||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>jC||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<jC)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}ze.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};ze.prototype.toString=function(){return this.version};ze.prototype.compare=function(e){return dt("SemVer.compare",this.version,this.options,e),e instanceof ze||(e=new ze(e,this.options)),this.compareMain(e)||this.comparePre(e)};ze.prototype.compareMain=function(e){return e instanceof ze||(e=new ze(e,this.options)),km(this.major,e.major)||km(this.minor,e.minor)||km(this.patch,e.patch)};ze.prototype.comparePre=function(e){if(e instanceof ze||(e=new ze(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],r=e.prerelease[t];if(dt("prerelease compare",t,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return km(n,r)}while(++t)};ze.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};Ie.inc=Txe;function Txe(e,t,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new ze(e,n).inc(t,r).version}catch{return null}}Ie.diff=Ixe;function Ixe(e,t){if(aN(e,t))return null;var n=Ed(e),r=Ed(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if((s==="major"||s==="minor"||s==="patch")&&n[s]!==r[s])return i+s;return o}Ie.compareIdentifiers=km;var W6=/^[0-9]+$/;function km(e,t){var n=W6.test(e),r=W6.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}Ie.rcompareIdentifiers=Pxe;function Pxe(e,t){return km(t,e)}Ie.major=Rxe;function Rxe(e,t){return new ze(e,t).major}Ie.minor=Axe;function Axe(e,t){return new ze(e,t).minor}Ie.patch=Dxe;function Dxe(e,t){return new ze(e,t).patch}Ie.compare=Xa;function Xa(e,t,n){return new ze(e,n).compare(new ze(t,n))}Ie.compareLoose=kxe;function kxe(e,t){return Xa(e,t,!0)}Ie.rcompare=Oxe;function Oxe(e,t,n){return Xa(t,e,n)}Ie.sort=Nxe;function Nxe(e,t){return e.sort(function(n,r){return Ie.compare(n,r,t)})}Ie.rsort=Lxe;function Lxe(e,t){return e.sort(function(n,r){return Ie.rcompare(n,r,t)})}Ie.gt=Dy;function Dy(e,t,n){return Xa(e,t,n)>0}Ie.lt=GC;function GC(e,t,n){return Xa(e,t,n)<0}Ie.eq=aN;function aN(e,t,n){return Xa(e,t,n)===0}Ie.neq=oK;function oK(e,t,n){return Xa(e,t,n)!==0}Ie.gte=cN;function cN(e,t,n){return Xa(e,t,n)>=0}Ie.lte=uN;function uN(e,t,n){return Xa(e,t,n)<=0}Ie.cmp=zC;function zC(e,t,n,r){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return aN(e,n,r);case"!=":return oK(e,n,r);case">":return Dy(e,n,r);case">=":return cN(e,n,r);case"<":return GC(e,n,r);case"<=":return uN(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}Ie.Comparator=fo;function fo(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof fo){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof fo))return new fo(e,t);dt("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Oy?this.value="":this.value=this.operator+this.semver.version,dt("comp",this)}var Oy={};fo.prototype.parse=function(e){var t=this.options.loose?vt[oN]:vt[sN],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],this.operator==="="&&(this.operator=""),n[2]?this.semver=new ze(n[2],this.options.loose):this.semver=Oy};fo.prototype.toString=function(){return this.value};fo.prototype.test=function(e){return dt("Comparator.test",e,this.options.loose),this.semver===Oy?!0:(typeof e=="string"&&(e=new ze(e,this.options)),zC(e,this.operator,this.semver,this.options))};fo.prototype.intersects=function(e,t){if(!(e instanceof fo))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var n;if(this.operator==="")return n=new Vt(e.value,t),YC(this.value,n,t);if(e.operator==="")return n=new Vt(this.value,t),YC(e.semver,n,t);var r=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,s=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=zC(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=zC(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||i||o&&s||a||u};Ie.Range=Vt;function Vt(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Vt)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Vt(e.raw,t);if(e instanceof fo)return new Vt(e.value,t);if(!(this instanceof Vt))return new Vt(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim())},this).filter(function(n){return n.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}Vt.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};Vt.prototype.toString=function(){return this.range};Vt.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?vt[rK]:vt[nK];e=e.replace(n,Wxe),dt("hyphen replace",e),e=e.replace(vt[Ay],bxe),dt("comparator trim",e,vt[Ay]),e=e.replace(vt[VC],Exe),e=e.replace(vt[WC],_xe),e=e.split(/\s+/).join(" ");var r=t?vt[oN]:vt[sN],i=e.split(" ").map(function(o){return Mxe(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(r)})),i=i.map(function(o){return new fo(o,this.options)},this),i};Vt.prototype.intersects=function(e,t){if(!(e instanceof Vt))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(r){return e.set.some(function(i){return i.every(function(o){return r.intersects(o,t)})})})})};Ie.toComparators=Fxe;function Fxe(e,t){return new Vt(e,t).set.map(function(n){return n.map(function(r){return r.value}).join(" ").trim().split(" ")})}function Mxe(e,t){return dt("comp",e,t),e=$xe(e,t),dt("caret",e),e=Uxe(e,t),dt("tildes",e),e=Hxe(e,t),dt("xrange",e),e=Vxe(e,t),dt("stars",e),e}function Cr(e){return!e||e.toLowerCase()==="x"||e==="*"}function Uxe(e,t){return e.trim().split(/\s+/).map(function(n){return qxe(n,t)}).join(" ")}function qxe(e,t){var n=t.loose?vt[Z6]:vt[J6];return e.replace(n,function(r,i,o,s,a){dt("tilde",e,r,i,o,s,a);var u;return Cr(i)?u="":Cr(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Cr(s)?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(dt("replaceTilde pr",a),u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",dt("tilde return",u),u})}function $xe(e,t){return e.trim().split(/\s+/).map(function(n){return jxe(n,t)}).join(" ")}function jxe(e,t){dt("caret",e,t);var n=t.loose?vt[tK]:vt[eK];return e.replace(n,function(r,i,o,s,a){dt("caret",e,r,i,o,s,a);var u;return Cr(i)?u="":Cr(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Cr(s)?i==="0"?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(dt("replaceCaret pr",a),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(dt("no pr"),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),dt("caret return",u),u})}function Hxe(e,t){return dt("replaceXRanges",e,t),e.split(/\s+/).map(function(n){return Bxe(n,t)}).join(" ")}function Bxe(e,t){e=e.trim();var n=t.loose?vt[X6]:vt[K6];return e.replace(n,function(r,i,o,s,a,u){dt("xRange",e,r,i,o,s,a,u);var c=Cr(o),l=c||Cr(s),d=l||Cr(a),p=d;return i==="="&&p&&(i=""),c?i===">"||i==="<"?r="<0.0.0":r="*":i&&p?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),r=i+o+"."+s+"."+a):l?r=">="+o+".0.0 <"+(+o+1)+".0.0":d&&(r=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),dt("xRange return",r),r})}function Vxe(e,t){return dt("replaceStars",e,t),e.trim().replace(vt[iK],"")}function Wxe(e,t,n,r,i,o,s,a,u,c,l,d,p){return Cr(n)?t="":Cr(r)?t=">="+n+".0.0":Cr(i)?t=">="+n+"."+r+".0":t=">="+t,Cr(u)?a="":Cr(c)?a="<"+(+u+1)+".0.0":Cr(l)?a="<"+u+"."+(+c+1)+".0":d?a="<="+u+"."+c+"."+l+"-"+d:a="<="+a,(t+" "+a).trim()}Vt.prototype.test=function(e){if(!e)return!1;typeof e=="string"&&(e=new ze(e,this.options));for(var t=0;t<this.set.length;t++)if(Gxe(this.set[t],e,this.options))return!0;return!1};function Gxe(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(r=0;r<e.length;r++)if(dt(e[r].semver),e[r].semver!==Oy&&e[r].semver.prerelease.length>0){var i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}Ie.satisfies=YC;function YC(e,t,n){try{t=new Vt(t,n)}catch{return!1}return t.test(e)}Ie.maxSatisfying=zxe;function zxe(e,t,n){var r=null,i=null;try{var o=new Vt(t,n)}catch{return null}return e.forEach(function(s){o.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new ze(r,n))}),r}Ie.minSatisfying=Yxe;function Yxe(e,t,n){var r=null,i=null;try{var o=new Vt(t,n)}catch{return null}return e.forEach(function(s){o.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new ze(r,n))}),r}Ie.minVersion=Kxe;function Kxe(e,t){e=new Vt(e,t);var n=new ze("0.0.0");if(e.test(n)||(n=new ze("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r){var i=e.set[r];i.forEach(function(o){var s=new ze(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!n||Dy(n,s))&&(n=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return n&&e.test(n)?n:null}Ie.validRange=Xxe;function Xxe(e,t){try{return new Vt(e,t).range||"*"}catch{return null}}Ie.ltr=Qxe;function Qxe(e,t,n){return lN(e,t,"<",n)}Ie.gtr=Jxe;function Jxe(e,t,n){return lN(e,t,">",n)}Ie.outside=lN;function lN(e,t,n,r){e=new ze(e,r),t=new Vt(t,r);var i,o,s,a,u;switch(n){case">":i=Dy,o=uN,s=GC,a=">",u=">=";break;case"<":i=GC,o=cN,s=Dy,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(YC(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],d=null,p=null;if(l.forEach(function(f){f.semver===Oy&&(f=new fo(">=0.0.0")),d=d||f,p=p||f,i(f.semver,d.semver,r)?d=f:s(f.semver,p.semver,r)&&(p=f)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===u&&s(e,p.semver))return!1}return!0}Ie.prerelease=Zxe;function Zxe(e,t){var n=Ed(e,t);return n&&n.prerelease.length?n.prerelease:null}Ie.intersects=ewe;function ewe(e,t,n){return e=new Vt(e,n),t=new Vt(t,n),e.intersects(t)}Ie.coerce=twe;function twe(e){if(e instanceof ze)return e;if(typeof e!="string")return null;var t=e.match(vt[Q6]);return t==null?null:Ed(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}});var dN=w(QC=>{"use strict";Object.defineProperty(QC,"__esModule",{value:!0});QC.makePatchingRequire=void 0;var nwe=require("path"),rwe=aK(),cK=Zt(),lK=require("module"),iwe=Object.keys(process.binding("natives")),uK=lK.prototype.require;function owe(e){var t={};return function(r){var i=uK.apply(this,arguments);if(e[r]){var o=lK._resolveFilename(r,this);if(t.hasOwnProperty(o))return t[o];var s=void 0;if(iwe.indexOf(r)<0)try{s=uK.call(this,nwe.join(r,"package.json")).version}catch{return i}else s=process.version.substring(1);var a=s.indexOf("-");a>=0&&(s=s.substring(0,a));for(var u=i,c=0,l=e[r];c<l.length;c++){var d=l[c];if(rwe.satisfies(s,d.versionSpecifier)&&(u=d.patch(u,o),cK.channel)){var p=d.publisherName||r;cK.channel.addPatchedModule(p,s)}}return t[o]=u}return i}}QC.makePatchingRequire=owe});var dK=w((AYe,swe)=>{swe.exports={name:"diagnostic-channel",version:"1.1.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js",debug:"mocha --inspect-brk ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",sinon:"1.17.6",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}});var Zt=w(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.channel=mo.ContextPreservingEventEmitter=mo.trueFilter=mo.makePatchingRequire=void 0;var awe=dN(),cwe=dN();Object.defineProperty(mo,"makePatchingRequire",{enumerable:!0,get:function(){return cwe.makePatchingRequire}});var uwe=function(e){return!0};mo.trueFilter=uwe;var fK=function(){function e(){this.version=dK().version,this.subscribers={},this.contextPreservationFunction=function(t){return t},this.knownPatches={},this.modulesPatched=[],this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(t){var n=this.subscribers[t];return n?n.some(function(r){var i=r.filter;return!i||i(!1)}):!1},e.prototype.publish=function(t,n){if(!this.currentlyPublishing){var r=this.subscribers[t];if(r){var i={timestamp:Date.now(),data:n};this.currentlyPublishing=!0,r.forEach(function(o){var s=o.listener,a=o.filter;try{a&&a(!0)&&s(i)}catch{}}),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(t,n,r,i){r===void 0&&(r=mo.trueFilter),this.subscribers[t]||(this.subscribers[t]=[]),this.subscribers[t].push({listener:n,filter:r,patchCallback:i});var o=this.checkIfModuleIsAlreadyPatched(t);o&&i&&i(o.name,o.version)},e.prototype.unsubscribe=function(t,n,r){r===void 0&&(r=mo.trueFilter);var i=this.subscribers[t];if(i){for(var o=0;o<i.length;++o)if(i[o].listener===n&&i[o].filter===r)return i.splice(o,1),!0}return!1},e.prototype.reset=function(){var t=this;this.subscribers={},this.contextPreservationFunction=function(n){return n},Object.getOwnPropertyNames(this.knownPatches).forEach(function(n){return delete t.knownPatches[n]})},e.prototype.bindToContext=function(t){return this.contextPreservationFunction(t)},e.prototype.addContextPreservation=function(t){var n=this.contextPreservationFunction;this.contextPreservationFunction=function(r){return t(n(r))}},e.prototype.registerMonkeyPatch=function(t,n){this.knownPatches[t]||(this.knownPatches[t]=[]),this.knownPatches[t].push(n)},e.prototype.getPatchesObject=function(){return this.knownPatches},e.prototype.addPatchedModule=function(t,n){for(var r=0,i=this.modulesPatched;r<i.length;r++){var o=i[r];if(o.name===t)return}this.modulesPatched.push({name:t,version:n});var s=this.subscribers[t];s&&s.forEach(function(a){a.patchCallback&&a.patchCallback(t,n)})},e.prototype.checkIfModuleIsAlreadyPatched=function(t){for(var n=0,r=this.modulesPatched;n<r.length;n++){var i=r[n];if(i.name===t)return i}return null},e}();mo.ContextPreservingEventEmitter=fK;global.diagnosticsSource||(global.diagnosticsSource=new fK,pK=require("module"),pK.prototype.require=awe.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));var pK;mo.channel=global.diagnosticsSource});var mK,hK=S(()=>{mK=typeof globalThis=="object"?globalThis:global});var gK=S(()=>{hK()});var vK=S(()=>{gK()});var bu,pN=S(()=>{bu="1.3.0"});function lwe(e){var t=new Set([e]),n=new Set,r=e.match(yK);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(i.prerelease!=null)return function(u){return u===e};function o(a){return n.add(a),!1}function s(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(n.has(u))return!1;var c=u.match(yK);if(!c)return o(u);var l={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return l.prerelease!=null||i.major!==l.major?o(u):i.major===0?i.minor===l.minor&&i.patch<=l.patch?s(u):o(u):i.minor<=l.minor?s(u):o(u)}}var yK,xK,wK=S(()=>{pN();yK=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;xK=lwe(bu)});function Gs(e,t,n,r){var i;r===void 0&&(r=!1);var o=Ly[Ny]=(i=Ly[Ny])!==null&&i!==void 0?i:{version:bu};if(!r&&o[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(s.stack||s.message),!1}if(o.version!==bu){var s=new Error("@opentelemetry/api: All API registration versions must match");return n.error(s.stack||s.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+bu+"."),!0}function Di(e){var t,n,r=(t=Ly[Ny])===null||t===void 0?void 0:t.version;if(!(!r||!xK(r)))return(n=Ly[Ny])===null||n===void 0?void 0:n[e]}function zs(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+bu+".");var n=Ly[Ny];n&&delete n[e]}var dwe,Ny,Ly,_d=S(()=>{vK();pN();wK();dwe=bu.split(".")[0],Ny=Symbol.for("opentelemetry.js.api."+dwe),Ly=mK});function Fy(e,t,n){var r=Di("diag");if(!!r)return n.unshift(t),r[e].apply(r,fwe([],pwe(n),!1))}var pwe,fwe,EK,_K=S(()=>{_d();pwe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},fwe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},EK=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Fy("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Fy("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Fy("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Fy("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Fy("verbose",this._namespace,t)},e}()});var Tt,JC=S(()=>{(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Tt||(Tt={}))});function bK(e,t){e<Tt.NONE?e=Tt.NONE:e>Tt.ALL&&(e=Tt.ALL),t=t||{};function n(r,i){var o=t[r];return typeof o=="function"&&e>=i?o.bind(t):function(){}}return{error:n("error",Tt.ERROR),warn:n("warn",Tt.WARN),info:n("info",Tt.INFO),debug:n("debug",Tt.DEBUG),verbose:n("verbose",Tt.VERBOSE)}}var CK=S(()=>{JC()});var mwe,hwe,gwe,cr,bd=S(()=>{_K();CK();JC();_d();mwe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},hwe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},gwe="diag",cr=function(){function e(){function t(i){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=Di("diag");if(!!a)return a[i].apply(a,hwe([],mwe(o),!1))}}var n=this,r=function(i,o){var s,a,u;if(o===void 0&&(o={logLevel:Tt.INFO}),i===n){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((s=c.stack)!==null&&s!==void 0?s:c.message),!1}typeof o=="number"&&(o={logLevel:o});var l=Di("diag"),d=bK((a=o.logLevel)!==null&&a!==void 0?a:Tt.INFO,i);if(l&&!o.suppressOverrideMessage){var p=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+p),d.warn("Current logger will overwrite one already registered from "+p)}return Gs("diag",d,n,!0)};n.setLogger=r,n.disable=function(){zs(gwe,n)},n.createComponentLogger=function(i){return new EK(i)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()});var vwe,ywe,SK,TK=S(()=>{vwe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},ywe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},SK=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var n=this._entries.get(t);if(!!n)return Object.assign({},n)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var n=vwe(t,2),r=n[0],i=n[1];return[r,i]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=new e(this._entries);try{for(var s=ywe(r),a=s.next();!a.done;a=s.next()){var u=a.value;o._entries.delete(u)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},e.prototype.clear=function(){return new e},e}()});var IK,PK=S(()=>{IK=Symbol("BaggageEntryMetadata")});function RK(e){return e===void 0&&(e={}),new SK(new Map(Object.entries(e)))}function ZC(e){return typeof e!="string"&&(xwe.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:IK,toString:function(){return e}}}var xwe,fN=S(()=>{bd();TK();PK();xwe=cr.instance()});function Ys(e){return Symbol.for(e)}var wwe,eS,My=S(()=>{wwe=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,i){var o=new e(n._currentContext);return o._currentContext.set(r,i),o},n.deleteValue=function(r){var i=new e(n._currentContext);return i._currentContext.delete(r),i}}return e}(),eS=new wwe});var mN,AK,DK=S(()=>{mN=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],AK=function(){function e(){function t(r){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(console){var s=console[r];if(typeof s!="function"&&(s=console.log),typeof s=="function")return s.apply(console,i)}}}for(var n=0;n<mN.length;n++)this[mN[n].n]=t(mN[n].c)}return e}()});function kK(){return vN}var Lm,Ewe,hN,_we,bwe,Cwe,gN,Swe,Twe,Iwe,vN,Pwe,Rwe,Awe,Dwe,kwe,Owe,yN=S(()=>{Lm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ewe=function(){function e(){}return e.prototype.createHistogram=function(t,n){return Rwe},e.prototype.createCounter=function(t,n){return Pwe},e.prototype.createUpDownCounter=function(t,n){return Awe},e.prototype.createObservableGauge=function(t,n){return kwe},e.prototype.createObservableCounter=function(t,n){return Dwe},e.prototype.createObservableUpDownCounter=function(t,n){return Owe},e.prototype.addBatchObservableCallback=function(t,n){},e.prototype.removeBatchObservableCallback=function(t){},e}(),hN=function(){function e(){}return e}(),_we=function(e){Lm(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(hN),bwe=function(e){Lm(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(hN),Cwe=function(e){Lm(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(n,r){},t}(hN),gN=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),Swe=function(e){Lm(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(gN),Twe=function(e){Lm(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(gN),Iwe=function(e){Lm(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(gN),vN=new Ewe,Pwe=new _we,Rwe=new Cwe,Awe=new bwe,Dwe=new Swe,kwe=new Twe,Owe=new Iwe});var tS,OK=S(()=>{(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(tS||(tS={}))});var nS,rS,xN=S(()=>{nS={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},rS={set:function(e,t,n){e!=null&&(e[t]=n)}}});var Nwe,Lwe,NK,LK=S(()=>{My();Nwe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Lwe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},NK=function(){function e(){}return e.prototype.active=function(){return eS},e.prototype.with=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return n.call.apply(n,Lwe([r],Nwe(i),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}()});var Fwe,Mwe,wN,Uwe,Fm,iS=S(()=>{LK();_d();bd();Fwe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Mwe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},wN="context",Uwe=new NK,Fm=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Gs(wN,t,cr.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,Mwe([t,n,r],Fwe(o),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return Di(wN)||Uwe},e.prototype.disable=function(){this._getContextManager().disable(),zs(wN,cr.instance())},e}()});var un,EN=S(()=>{(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(un||(un={}))});var Uy,qy,Mm,oS=S(()=>{EN();Uy="0000000000000000",qy="00000000000000000000000000000000",Mm={traceId:qy,spanId:Uy,traceFlags:un.NONE}});var Cu,sS=S(()=>{oS();Cu=function(){function e(t){t===void 0&&(t=Mm),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}()});function aS(e){return e.getValue(_N)||void 0}function FK(){return aS(Fm.getInstance().active())}function $y(e,t){return e.setValue(_N,t)}function MK(e){return e.deleteValue(_N)}function UK(e,t){return $y(e,new Cu(t))}function cS(e){var t;return(t=aS(e))===null||t===void 0?void 0:t.spanContext()}var _N,bN=S(()=>{My();sS();iS();_N=Ys("OpenTelemetry Context Key SPAN")});function Cd(e){return qwe.test(e)&&e!==qy}function CN(e){return $we.test(e)&&e!==Uy}function ho(e){return Cd(e.traceId)&&CN(e.spanId)}function qK(e){return new Cu(e)}var qwe,$we,uS=S(()=>{oS();sS();qwe=/^([0-9a-f]{32})$/i,$we=/^[0-9a-f]{16}$/i});function jwe(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var $K,lS,SN=S(()=>{iS();bN();sS();uS();$K=Fm.getInstance(),lS=function(){function e(){}return e.prototype.startSpan=function(t,n,r){var i=Boolean(n==null?void 0:n.root);if(i)return new Cu;var o=r&&cS(r);return jwe(o)&&ho(o)?new Cu(o):new Cu},e.prototype.startActiveSpan=function(t,n,r,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=n:arguments.length===3?(o=n,a=r):(o=n,s=r,a=i);var u=s??$K.active(),c=this.startSpan(t,o,u),l=$y(u,c);return $K.with(l,a,void 0,c)}},e}()});var Hwe,dS,TN=S(()=>{SN();Hwe=new lS,dS=function(){function e(t,n,r,i){this._provider=t,this.name=n,this.version=r,this.options=i}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,i){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):Hwe},e}()});var jK,HK=S(()=>{SN();jK=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new lS},e}()});var Bwe,jy,IN=S(()=>{TN();HK();Bwe=new jK,jy=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var i;return(i=this.getDelegateTracer(t,n,r))!==null&&i!==void 0?i:new dS(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:Bwe},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,n,r)},e}()});var ti,BK=S(()=>{(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(ti||(ti={}))});var Um,VK=S(()=>{(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(Um||(Um={}))});var qm,WK=S(()=>{(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(qm||(qm={}))});function GK(e){return Gwe.test(e)}function zK(e){return zwe.test(e)&&!Ywe.test(e)}var PN,Vwe,Wwe,Gwe,zwe,Ywe,YK=S(()=>{PN="[_0-9a-z-*/]",Vwe="[a-z]"+PN+"{0,255}",Wwe="[a-z0-9]"+PN+"{0,240}@[a-z]"+PN+"{0,13}",Gwe=new RegExp("^(?:"+Vwe+"|"+Wwe+")$"),zwe=/^[ -~]{0,255}[!-~]$/,Ywe=/,|=/});var KK,Kwe,XK,QK,JK,ZK=S(()=>{YK();KK=32,Kwe=512,XK=",",QK="=",JK=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,n){var r=this._clone();return r._internalState.has(t)&&r._internalState.delete(t),r._internalState.set(t,n),r},e.prototype.unset=function(t){var n=this._clone();return n._internalState.delete(t),n},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(n,r){return n.push(r+QK+t.get(r)),n},[]).join(XK)},e.prototype._parse=function(t){t.length>Kwe||(this._internalState=t.split(XK).reverse().reduce(function(n,r){var i=r.trim(),o=i.indexOf(QK);if(o!==-1){var s=i.slice(0,o),a=i.slice(o+1,r.length);GK(s)&&zK(a)&&n.set(s,a)}return n},new Map),this._internalState.size>KK&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,KK))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()});function e5(e){return new JK(e)}var t5=S(()=>{ZK()});var Sr,n5=S(()=>{iS();Sr=Fm.getInstance()});var ke,r5=S(()=>{bd();ke=cr.instance()});var Xwe,i5,o5=S(()=>{yN();Xwe=function(){function e(){}return e.prototype.getMeter=function(t,n,r){return vN},e}(),i5=new Xwe});var RN,s5,a5=S(()=>{o5();_d();bd();RN="metrics",s5=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return Gs(RN,t,cr.instance())},e.prototype.getMeterProvider=function(){return Di(RN)||i5},e.prototype.getMeter=function(t,n,r){return this.getMeterProvider().getMeter(t,n,r)},e.prototype.disable=function(){zs(RN,cr.instance())},e}()});var AN,c5=S(()=>{a5();AN=s5.getInstance()});var u5,l5=S(()=>{u5=function(){function e(){}return e.prototype.inject=function(t,n){},e.prototype.extract=function(t,n){return t},e.prototype.fields=function(){return[]},e}()});function d5(e){return e.getValue(DN)||void 0}function p5(e,t){return e.setValue(DN,t)}function f5(e){return e.deleteValue(DN)}var DN,m5=S(()=>{My();DN=Ys("OpenTelemetry Baggage Key")});var kN,Qwe,h5,g5=S(()=>{_d();l5();xN();m5();fN();bd();kN="propagation",Qwe=new u5,h5=function(){function e(){this.createBaggage=RK,this.getBaggage=d5,this.setBaggage=p5,this.deleteBaggage=f5}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Gs(kN,t,cr.instance())},e.prototype.inject=function(t,n,r){return r===void 0&&(r=rS),this._getGlobalPropagator().inject(t,n,r)},e.prototype.extract=function(t,n,r){return r===void 0&&(r=nS),this._getGlobalPropagator().extract(t,n,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){zs(kN,cr.instance())},e.prototype._getGlobalPropagator=function(){return Di(kN)||Qwe},e}()});var Qa,v5=S(()=>{g5();Qa=h5.getInstance()});var ON,y5,x5=S(()=>{_d();IN();uS();bN();bd();ON="trace",y5=function(){function e(){this._proxyTracerProvider=new jy,this.wrapSpanContext=qK,this.isSpanContextValid=ho,this.deleteSpan=MK,this.getSpan=aS,this.getActiveSpan=FK,this.getSpanContext=cS,this.setSpan=$y,this.setSpanContext=UK}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=Gs(ON,this._proxyTracerProvider,cr.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return Di(ON)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){zs(ON,cr.instance()),this._proxyTracerProvider=new jy},e}()});var Rn,w5=S(()=>{x5();Rn=y5.getInstance()});var Sd={};bs(Sd,{DiagConsoleLogger:()=>AK,DiagLogLevel:()=>Tt,INVALID_SPANID:()=>Uy,INVALID_SPAN_CONTEXT:()=>Mm,INVALID_TRACEID:()=>qy,ProxyTracer:()=>dS,ProxyTracerProvider:()=>jy,ROOT_CONTEXT:()=>eS,SamplingDecision:()=>ti,SpanKind:()=>Um,SpanStatusCode:()=>qm,TraceFlags:()=>un,ValueType:()=>tS,baggageEntryMetadataFromString:()=>ZC,context:()=>Sr,createContextKey:()=>Ys,createNoopMeter:()=>kK,createTraceState:()=>e5,default:()=>Jwe,defaultTextMapGetter:()=>nS,defaultTextMapSetter:()=>rS,diag:()=>ke,isSpanContextValid:()=>ho,isValidSpanId:()=>CN,isValidTraceId:()=>Cd,metrics:()=>AN,propagation:()=>Qa,trace:()=>Rn});var Jwe,lt=S(()=>{fN();My();DK();JC();yN();OK();xN();TN();IN();BK();VK();WK();EN();t5();uS();oS();n5();r5();c5();v5();w5();Jwe={context:Sr,diag:ke,metrics:AN,propagation:Qa,trace:Rn}});function Hy(e){return e.setValue(NN,!0)}function Zwe(e){return e.deleteValue(NN)}function Td(e){return e.getValue(NN)===!0}var NN,By=S(()=>{lt();NN=Ys("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var E5,pS,$m,fS,_5,b5,C5,LN=S(()=>{E5="=",pS=";",$m=",",fS="baggage",_5=180,b5=4096,C5=8192});var UN={};bs(UN,{getKeyPairs:()=>MN,parseKeyPairsIntoRecord:()=>tEe,parsePairKeyValue:()=>mS,serializeKeyPairs:()=>FN});function FN(e){return e.reduce(function(t,n){var r=""+t+(t!==""?$m:"")+n;return r.length>C5?t:r},"")}function MN(e){return e.getAllEntries().map(function(t){var n=eEe(t,2),r=n[0],i=n[1],o=encodeURIComponent(r)+"="+encodeURIComponent(i.value);return i.metadata!==void 0&&(o+=pS+i.metadata.toString()),o})}function mS(e){var t=e.split(pS);if(!(t.length<=0)){var n=t.shift();if(!!n){var r=n.split(E5);if(r.length===2){var i=decodeURIComponent(r[0].trim()),o=decodeURIComponent(r[1].trim()),s;return t.length>0&&(s=ZC(t.join(pS))),{key:i,value:o,metadata:s}}}}}function tEe(e){return typeof e!="string"||e.length===0?{}:e.split($m).map(function(t){return mS(t)}).filter(function(t){return t!==void 0&&t.value.length>0}).reduce(function(t,n){return t[n.key]=n.value,t},{})}var eEe,qN=S(()=>{lt();LN();eEe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}});var $N,S5=S(()=>{lt();By();LN();qN();$N=function(){function e(){}return e.prototype.inject=function(t,n,r){var i=Qa.getBaggage(t);if(!(!i||Td(t))){var o=MN(i).filter(function(a){return a.length<=b5}).slice(0,_5),s=FN(o);s.length>0&&r.set(n,fS,s)}},e.prototype.extract=function(t,n,r){var i=r.get(n,fS),o=Array.isArray(i)?i.join($m):i;if(!o)return t;var s={};if(o.length===0)return t;var a=o.split($m);return a.forEach(function(u){var c=mS(u);if(c){var l={value:c.value};c.metadata&&(l.metadata=c.metadata),s[c.key]=l}}),Object.entries(s).length===0?t:Qa.setBaggage(t,Qa.createBaggage(s))},e.prototype.fields=function(){return[fS]},e}()});var nEe,T5=S(()=>{nEe=function(){function e(t,n){this._monotonicClock=n,this._epochMillis=t.now(),this._performanceMillis=n.now()}return e.prototype.now=function(){var t=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+t},e}()});function Id(e){var t,n,r={};if(typeof e!="object"||e==null)return r;try{for(var i=I5(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=rEe(o.value,2),a=s[0],u=s[1];if(!P5(a)){ke.warn("Invalid attribute key: "+a);continue}if(!hS(u)){ke.warn("Invalid attribute value set for key: "+a);continue}Array.isArray(u)?r[a]=u.slice():r[a]=u}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function P5(e){return typeof e=="string"&&e.length>0}function hS(e){return e==null?!0:Array.isArray(e)?iEe(e):R5(e)}function iEe(e){var t,n,r;try{for(var i=I5(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(s!=null){if(!r){if(R5(s)){r=typeof s;continue}return!1}if(typeof s!==r)return!1}}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0}function R5(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}var I5,rEe,A5=S(()=>{lt();I5=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},rEe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}});function jN(){return function(e){ke.error(oEe(e))}}function oEe(e){return typeof e=="string"?e:JSON.stringify(sEe(e))}function sEe(e){for(var t={},n=e;n!==null;)Object.getOwnPropertyNames(n).forEach(function(r){if(!t[r]){var i=n[r];i&&(t[r]=String(i))}}),n=Object.getPrototypeOf(n);return t}var HN=S(()=>{lt()});function aEe(e){D5=e}function go(e){try{D5(e)}catch{}}var D5,BN=S(()=>{HN();D5=jN()});var ki,VN=S(()=>{(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(ki||(ki={}))});var k5,O5=S(()=>{k5=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});function lEe(e){return uEe.indexOf(e)>-1}function pEe(e){return dEe.indexOf(e)>-1}function fEe(e,t,n,r,i){if(r===void 0&&(r=-1/0),i===void 0&&(i=1/0),typeof n[e]<"u"){var o=Number(n[e]);isNaN(o)||(o<r?t[e]=r:o>i?t[e]=i:t[e]=o)}}function mEe(e,t,n,r){r===void 0&&(r=cEe);var i=n[e];typeof i=="string"&&(t[e]=i.split(r).map(function(o){return o.trim()}))}function gEe(e,t,n){var r=n[e];if(typeof r=="string"){var i=hEe[r.toUpperCase()];i!=null&&(t[e]=i)}}function Gy(e){var t={};for(var n in gS){var r=n;switch(r){case"OTEL_LOG_LEVEL":gEe(r,t,e);break;default:if(lEe(r))fEe(r,t,e);else if(pEe(r))mEe(r,t,e);else{var i=e[r];typeof i<"u"&&i!==null&&(t[r]=String(i))}}}return t}function WN(){return Gy(typeof process<"u"?process.env:k5)}var cEe,uEe,dEe,Vy,Wy,gS,hEe,GN=S(()=>{lt();VN();O5();cEe=",",uEe=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];dEe=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];Vy=1/0,Wy=128,gS={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Tt.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Vy,OTEL_ATTRIBUTE_COUNT_LIMIT:Wy,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Vy,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Wy,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"otlp",OTEL_TRACES_SAMPLER:ki.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};hEe={ALL:Tt.ALL,VERBOSE:Tt.VERBOSE,DEBUG:Tt.DEBUG,INFO:Tt.INFO,WARN:Tt.WARN,ERROR:Tt.ERROR,NONE:Tt.NONE}});function Gn(){var e=Gy(process.env);return Object.assign({HOSTNAME:N5.hostname()},gS,e)}var N5,L5=S(()=>{N5=V(require("os"));GN()});var vEe,F5=S(()=>{vEe=typeof globalThis=="object"?globalThis:global});function M5(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function wEe(e){var t;e.length===16?t=yEe:e.length===32?t=xEe:t=Buffer.alloc(e.length/2);for(var n=0,r=0;r<e.length;r+=2){var i=M5(e.charCodeAt(r)),o=M5(e.charCodeAt(r+1));t.writeUInt8(i<<4|o,n++)}return t.toString("base64")}var yEe,xEe,U5=S(()=>{yEe=Buffer.alloc(8),xEe=Buffer.alloc(16)});function q5(e){return function(){for(var n=0;n<e/4;n++)vS.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,n*4);for(var n=0;n<e&&!(vS[n]>0);n++)n===e-1&&(vS[e-1]=1);return vS.toString("hex",0,e)}}var EEe,$5,_Ee,vS,j5=S(()=>{EEe=8,$5=16,_Ee=function(){function e(){this.generateTraceId=q5($5),this.generateSpanId=q5(EEe)}return e}(),vS=Buffer.allocUnsafe($5)});var H5,Pd,B5=S(()=>{H5=require("perf_hooks"),Pd=H5.performance});var zN,yS=S(()=>{zN="1.8.0"});var Ja,bEe,CEe,SEe,TEe,IEe,PEe,REe,AEe,DEe,kEe,OEe,NEe,LEe,V5=S(()=>{Ja={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},bEe={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"},CEe={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"},SEe={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"},TEe={INSERT:"insert",EDIT:"edit",DELETE:"delete"},IEe={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},PEe={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"},REe={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"},AEe={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"},DEe={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"},kEe={QUEUE:"queue",TOPIC:"topic"},OEe={RECEIVE:"receive",PROCESS:"process"},NEe={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},LEe={SENT:"SENT",RECEIVED:"RECEIVED"}});var W5=S(()=>{V5()});var Oe,FEe,MEe,UEe,qEe,$Ee,YN,G5=S(()=>{Oe={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},FEe={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},MEe={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},UEe={EC2:"ec2",FARGATE:"fargate"},qEe={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},$Ee={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},YN={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var z5=S(()=>{G5()});var KN={};bs(KN,{AwsEcsLaunchtypeValues:()=>UEe,CloudPlatformValues:()=>MEe,CloudProviderValues:()=>FEe,DbCassandraConsistencyLevelValues:()=>CEe,DbSystemValues:()=>bEe,FaasDocumentOperationValues:()=>TEe,FaasInvokedProviderValues:()=>IEe,FaasTriggerValues:()=>SEe,HostArchValues:()=>qEe,HttpFlavorValues:()=>DEe,MessageTypeValues:()=>LEe,MessagingDestinationKindValues:()=>kEe,MessagingOperationValues:()=>OEe,NetHostConnectionSubtypeValues:()=>AEe,NetHostConnectionTypeValues:()=>REe,NetTransportValues:()=>PEe,OsTypeValues:()=>$Ee,RpcGrpcStatusCodeValues:()=>NEe,SemanticAttributes:()=>Ja,SemanticResourceAttributes:()=>Oe,TelemetrySdkLanguageValues:()=>YN});var ls=S(()=>{W5();z5()});var jm,zy,Y5=S(()=>{yS();ls();zy=(jm={},jm[Oe.TELEMETRY_SDK_NAME]="opentelemetry",jm[Oe.PROCESS_RUNTIME_NAME]="node",jm[Oe.TELEMETRY_SDK_LANGUAGE]=YN.NODEJS,jm[Oe.TELEMETRY_SDK_VERSION]=zN,jm)});function XN(e){e.unref()}var K5=S(()=>{});var X5=S(()=>{L5();F5();U5();j5();B5();Y5();K5()});var QN=S(()=>{X5()});function xS(e){var t=e/1e3,n=Math.trunc(t),r=Number((t-n).toFixed(JN))*Yy;return[n,r]}function Q5(){var e=Pd.timeOrigin;if(typeof e!="number"){var t=Pd;e=t.timing&&t.timing.fetchStart}return e}function J5(e){var t=xS(Q5()),n=xS(typeof e=="number"?e:Pd.now()),r=t[0]+n[0],i=t[1]+n[1];return i>Yy&&(i-=Yy,r+=1),[r,i]}function Ky(e){if(eL(e))return e;if(typeof e=="number")return e<Q5()?J5(e):xS(e);if(e instanceof Date)return xS(e.getTime());throw TypeError("Invalid input type")}function ZN(e,t){var n=t[0]-e[0],r=t[1]-e[1];return r<0&&(n-=1,r+=Yy),[n,r]}function jEe(e){var t=JN,n=""+"0".repeat(t)+e[1]+"Z",r=n.substr(n.length-t-1),i=new Date(e[0]*1e3).toISOString();return i.replace("000Z",r)}function HEe(e){return e[0]*Yy+e[1]}function BEe(e){return Math.round(e[0]*1e3+e[1]/1e6)}function wS(e){return Math.round(e[0]*1e6+e[1]/1e3)}function eL(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}function tL(e){return eL(e)||typeof e=="number"||e instanceof Date}var JN,Yy,Z5=S(()=>{QN();JN=9,Yy=Math.pow(10,JN)});var e8=S(()=>{});var vo,t8=S(()=>{(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(vo||(vo={}))});var VEe,nL,n8=S(()=>{lt();VEe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nL=function(){function e(t){t===void 0&&(t={});var n;this._propagators=(n=t.propagators)!==null&&n!==void 0?n:[],this._fields=Array.from(new Set(this._propagators.map(function(r){return typeof r.fields=="function"?r.fields():[]}).reduce(function(r,i){return r.concat(i)},[])))}return e.prototype.inject=function(t,n,r){var i,o;try{for(var s=VEe(this._propagators),a=s.next();!a.done;a=s.next()){var u=a.value;try{u.inject(t,n,r)}catch(c){ke.warn("Failed to inject with "+u.constructor.name+". Err: "+c.message)}}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}},e.prototype.extract=function(t,n,r){return this._propagators.reduce(function(i,o){try{return o.extract(i,n,r)}catch(s){ke.warn("Failed to inject with "+o.constructor.name+". Err: "+s.message)}return i},t)},e.prototype.fields=function(){return this._fields.slice()},e}()});function r8(e){return zEe.test(e)}function i8(e){return YEe.test(e)&&!KEe.test(e)}var rL,WEe,GEe,zEe,YEe,KEe,o8=S(()=>{rL="[_0-9a-z-*/]",WEe="[a-z]"+rL+"{0,255}",GEe="[a-z0-9]"+rL+"{0,240}@[a-z]"+rL+"{0,13}",zEe=new RegExp("^(?:"+WEe+"|"+GEe+")$"),YEe=/^[ -~]{0,255}[!-~]$/,KEe=/,|=/});var s8,XEe,a8,c8,iL,oL=S(()=>{o8();s8=32,XEe=512,a8=",",c8="=",iL=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,n){var r=this._clone();return r._internalState.has(t)&&r._internalState.delete(t),r._internalState.set(t,n),r},e.prototype.unset=function(t){var n=this._clone();return n._internalState.delete(t),n},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(n,r){return n.push(r+c8+t.get(r)),n},[]).join(a8)},e.prototype._parse=function(t){t.length>XEe||(this._internalState=t.split(a8).reverse().reduce(function(n,r){var i=r.trim(),o=i.indexOf(c8);if(o!==-1){var s=i.slice(0,o),a=i.slice(o+1,r.length);r8(s)&&i8(a)&&n.set(s,a)}return n},new Map),this._internalState.size>s8&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,s8))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()});function u8(e){var t=n_e.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}var ES,_S,QEe,JEe,ZEe,e_e,t_e,n_e,sL,l8=S(()=>{lt();By();oL();ES="traceparent",_S="tracestate",QEe="00",JEe="(?!ff)[\\da-f]{2}",ZEe="(?![0]{32})[\\da-f]{32}",e_e="(?![0]{16})[\\da-f]{16}",t_e="[\\da-f]{2}",n_e=new RegExp("^\\s?("+JEe+")-("+ZEe+")-("+e_e+")-("+t_e+")(-.*)?\\s?$");sL=function(){function e(){}return e.prototype.inject=function(t,n,r){var i=Rn.getSpanContext(t);if(!(!i||Td(t)||!ho(i))){var o=QEe+"-"+i.traceId+"-"+i.spanId+"-0"+Number(i.traceFlags||un.NONE).toString(16);r.set(n,ES,o),i.traceState&&r.set(n,_S,i.traceState.serialize())}},e.prototype.extract=function(t,n,r){var i=r.get(n,ES);if(!i)return t;var o=Array.isArray(i)?i[0]:i;if(typeof o!="string")return t;var s=u8(o);if(!s)return t;s.isRemote=!0;var a=r.get(n,_S);if(a){var u=Array.isArray(a)?a.join(","):a;s.traceState=new iL(typeof u=="string"?u:void 0)}return Rn.setSpanContext(t,s)},e.prototype.fields=function(){return[ES,_S]},e}()});var d8=S(()=>{});function r_e(e,t){return e.setValue(cL,t)}function i_e(e){return e.deleteValue(cL)}function o_e(e){return e.getValue(cL)}var cL,aL,p8=S(()=>{lt();cL=Ys("OpenTelemetry SDK Context Key RPC_METADATA");(function(e){e.HTTP="http"})(aL||(aL={}))});var bS,uL=S(()=>{lt();bS=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:ti.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}()});var Xy,lL=S(()=>{lt();Xy=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:ti.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}()});var s_e,f8=S(()=>{lt();BN();uL();lL();s_e=function(){function e(t){var n,r,i,o;this._root=t.root,this._root||(go(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Xy),this._remoteParentSampled=(n=t.remoteParentSampled)!==null&&n!==void 0?n:new Xy,this._remoteParentNotSampled=(r=t.remoteParentNotSampled)!==null&&r!==void 0?r:new bS,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new Xy,this._localParentNotSampled=(o=t.localParentNotSampled)!==null&&o!==void 0?o:new bS}return e.prototype.shouldSample=function(t,n,r,i,o,s){var a=Rn.getSpanContext(t);return!a||!ho(a)?this._root.shouldSample(t,n,r,i,o,s):a.isRemote?a.traceFlags&un.SAMPLED?this._remoteParentSampled.shouldSample(t,n,r,i,o,s):this._remoteParentNotSampled.shouldSample(t,n,r,i,o,s):a.traceFlags&un.SAMPLED?this._localParentSampled.shouldSample(t,n,r,i,o,s):this._localParentNotSampled.shouldSample(t,n,r,i,o,s)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}()});var a_e,m8=S(()=>{lt();a_e=function(){function e(t){t===void 0&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}return e.prototype.shouldSample=function(t,n){return{decision:Cd(n)&&this._accumulate(n)<this._upperBound?ti.RECORD_AND_SAMPLED:ti.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t},e.prototype._accumulate=function(t){for(var n=0,r=0;r<t.length/8;r++){var i=r*8,o=parseInt(t.slice(i,i+8),16);n=(n^o)>>>0}return n},e}()});function m_e(e,t){return function(n){return e(t(n))}}function dL(e){if(!h_e(e)||g_e(e)!==c_e)return!1;var t=f_e(e);if(t===null)return!0;var n=v8.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&h8.call(n)===p_e}function h_e(e){return e!=null&&typeof e=="object"}function g_e(e){return e==null?e===void 0?l_e:u_e:Rd&&Rd in Object(e)?v_e(e):y_e(e)}function v_e(e){var t=v8.call(e,Rd),n=e[Rd],r=!1;try{e[Rd]=void 0,r=!0}catch{}var i=y8.call(e);return r&&(t?e[Rd]=n:delete e[Rd]),i}function y_e(e){return y8.call(e)}var c_e,u_e,l_e,d_e,h8,p_e,f_e,g8,v8,Rd,y8,x8=S(()=>{c_e="[object Object]",u_e="[object Null]",l_e="[object Undefined]",d_e=Function.prototype,h8=d_e.toString,p_e=h8.call(Object),f_e=m_e(Object.getPrototypeOf,Object),g8=Object.prototype,v8=g8.hasOwnProperty,Rd=Symbol?Symbol.toStringTag:void 0,y8=g8.toString});function fL(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.shift(),r=new WeakMap;e.length>0;)n=E8(n,e.shift(),0,r);return n}function pL(e){return SS(e)?e.slice():e}function E8(e,t,n,r){n===void 0&&(n=0);var i;if(!(n>x_e)){if(n++,CS(e)||CS(t)||_8(t))i=pL(t);else if(SS(e)){if(i=e.slice(),SS(t))for(var o=0,s=t.length;o<s;o++)i.push(pL(t[o]));else if(Qy(t))for(var a=Object.keys(t),o=0,s=a.length;o<s;o++){var u=a[o];i[u]=pL(t[u])}}else if(Qy(e))if(Qy(t)){if(!w_e(e,t))return t;i=Object.assign({},e);for(var a=Object.keys(t),o=0,s=a.length;o<s;o++){var u=a[o],c=t[u];if(CS(c))typeof c>"u"?delete i[u]:i[u]=c;else{var l=i[u],d=c;if(w8(e,u,r)||w8(t,u,r))delete i[u];else{if(Qy(l)&&Qy(d)){var p=r.get(l)||[],f=r.get(d)||[];p.push({obj:e,key:u}),f.push({obj:t,key:u}),r.set(l,p),r.set(d,f)}i[u]=E8(i[u],c,n,r)}}}}else i=t;return i}}function w8(e,t,n){for(var r=n.get(e[t])||[],i=0,o=r.length;i<o;i++){var s=r[i];if(s.key===t&&s.obj===e)return!0}return!1}function SS(e){return Array.isArray(e)}function _8(e){return typeof e=="function"}function Qy(e){return!CS(e)&&!SS(e)&&!_8(e)&&typeof e=="object"}function CS(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function w_e(e,t){return!(!dL(e)||!dL(t))}var x_e,b8=S(()=>{x8();x_e=20});function C8(e,t){return typeof t=="string"?e===t:!!e.match(t)}function __e(e,t){var n,r;if(!t)return!1;try{for(var i=E_e(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(C8(e,s))return!0}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}var E_e,S8=S(()=>{E_e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}});function b_e(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}var T8=S(()=>{});var I8,P8=S(()=>{I8=function(){function e(){var t=this;this._promise=new Promise(function(n,r){t._resolve=n,t._reject=r})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(t){this._resolve(t)},e.prototype.reject=function(t){this._reject(t)},e}()});var C_e,S_e,Jy,R8=S(()=>{P8();C_e=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},S_e=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Jy=function(){function e(t,n){this._callback=t,this._that=n,this._isCalled=!1,this._deferred=new I8}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var t,n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,S_e([this._that],C_e(r),!1))).then(function(o){return n._deferred.resolve(o)},function(o){return n._deferred.reject(o)})}catch(o){this._deferred.reject(o)}}return this._deferred.promise},e}()});function A8(e,t){return new Promise(function(n){Sr.with(Hy(Sr.active()),function(){e.export(t,function(r){n(r)})})})}var D8=S(()=>{lt();By()});var k8={};bs(k8,{AlwaysOffSampler:()=>bS,AlwaysOnSampler:()=>Xy,AnchoredClock:()=>nEe,BindOnceFuture:()=>Jy,CompositePropagator:()=>nL,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>Wy,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>Vy,DEFAULT_ENVIRONMENT:()=>gS,ExportResultCode:()=>vo,ParentBasedSampler:()=>s_e,RPCType:()=>aL,RandomIdGenerator:()=>_Ee,SDK_INFO:()=>zy,TRACE_PARENT_HEADER:()=>ES,TRACE_STATE_HEADER:()=>_S,TraceIdRatioBasedSampler:()=>a_e,TraceState:()=>iL,TracesSamplerValues:()=>ki,VERSION:()=>zN,W3CBaggagePropagator:()=>$N,W3CTraceContextPropagator:()=>sL,_globalThis:()=>vEe,baggageUtils:()=>UN,deleteRPCMetadata:()=>i_e,getEnv:()=>Gn,getEnvWithoutDefaults:()=>WN,getRPCMetadata:()=>o_e,globalErrorHandler:()=>go,hexToBase64:()=>wEe,hrTime:()=>J5,hrTimeDuration:()=>ZN,hrTimeToMicroseconds:()=>wS,hrTimeToMilliseconds:()=>BEe,hrTimeToNanoseconds:()=>HEe,hrTimeToTimeStamp:()=>jEe,internal:()=>mL,isAttributeKey:()=>P5,isAttributeValue:()=>hS,isTimeInput:()=>tL,isTimeInputHrTime:()=>eL,isTracingSuppressed:()=>Td,isUrlIgnored:()=>__e,isWrapped:()=>b_e,loggingErrorHandler:()=>jN,merge:()=>fL,otperformance:()=>Pd,parseEnvironment:()=>Gy,parseTraceParent:()=>u8,sanitizeAttributes:()=>Id,setGlobalErrorHandler:()=>aEe,setRPCMetadata:()=>r_e,suppressTracing:()=>Hy,timeInputToHrTime:()=>Ky,unrefTimer:()=>XN,unsuppressTracing:()=>Zwe,urlMatches:()=>C8});var mL,Tr=S(()=>{S5();T5();A5();BN();HN();Z5();e8();t8();yS();qN();QN();n8();l8();d8();p8();uL();lL();f8();m8();By();oL();GN();b8();VN();S8();T8();R8();yS();D8();mL={_export:A8}});var O8,N8=S(()=>{O8="exception"});var T_e,I_e,hL,gL=S(()=>{lt();Tr();ls();N8();T_e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},I_e=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},hL=function(){function e(t,n,r,i,o,s,a,u,c){a===void 0&&(a=[]),c===void 0&&(c=Pd),this.attributes={},this.links=[],this.events=[],this.status={code:qm.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this._clock=c,this.name=r,this._spanContext=i,this.parentSpanId=s,this.kind=o,this.links=a,this.startTime=Ky(u??c.now()),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,n),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return n==null||this._isSpanEnded()?this:t.length===0?(ke.warn("Invalid attribute key: "+t),this):hS(n)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?this:(this.attributes[t]=this._truncateToSize(n),this):(ke.warn("Invalid attribute value set for key: "+t),this)},e.prototype.setAttributes=function(t){var n,r;try{for(var i=T_e(Object.entries(t)),o=i.next();!o.done;o=i.next()){var s=I_e(o.value,2),a=s[0],u=s[1];this.setAttribute(a,u)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},e.prototype.addEvent=function(t,n,r){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return ke.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(ke.warn("Dropping extra events."),this.events.shift()),tL(n)&&(typeof r>"u"&&(r=n),n=void 0),typeof r>"u"&&(r=this._clock.now());var i=Id(n);return this.events.push({name:t,attributes:i,time:Ky(r)}),this},e.prototype.setStatus=function(t){return this._isSpanEnded()?this:(this.status=t,this)},e.prototype.updateName=function(t){return this._isSpanEnded()?this:(this.name=t,this)},e.prototype.end=function(t){if(this._isSpanEnded()){ke.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=Ky(t??this._clock.now()),this._duration=ZN(this.startTime,this.endTime),this._duration[0]<0&&(ke.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this)},e.prototype.isRecording=function(){return this._ended===!1},e.prototype.recordException=function(t,n){n===void 0&&(n=this._clock.now());var r={};typeof t=="string"?r[Ja.EXCEPTION_MESSAGE]=t:t&&(t.code?r[Ja.EXCEPTION_TYPE]=t.code.toString():t.name&&(r[Ja.EXCEPTION_TYPE]=t.name),t.message&&(r[Ja.EXCEPTION_MESSAGE]=t.message),t.stack&&(r[Ja.EXCEPTION_STACKTRACE]=t.stack)),r[Ja.EXCEPTION_TYPE]||r[Ja.EXCEPTION_MESSAGE]?this.addEvent(O8,r,n):ke.warn("Failed to record an exception "+t)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&ke.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(t,n){return t.length<=n?t:t.substr(0,n)},e.prototype._truncateToSize=function(t){var n=this,r=this._attributeValueLengthLimit;return r<=0?(ke.warn("Attribute value limit must be positive, got "+r),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(function(i){return typeof i=="string"?n._truncateToLimitUtil(i,r):i}):t},e}()});var Ks,Zy=S(()=>{(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Ks||(Ks={}))});var Ad,TS=S(()=>{Zy();Ad=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:Ks.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}()});var Za,IS=S(()=>{Zy();Za=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:Ks.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}()});var ex,vL=S(()=>{lt();Tr();TS();IS();ex=function(){function e(t){var n,r,i,o;this._root=t.root,this._root||(go(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Za),this._remoteParentSampled=(n=t.remoteParentSampled)!==null&&n!==void 0?n:new Za,this._remoteParentNotSampled=(r=t.remoteParentNotSampled)!==null&&r!==void 0?r:new Ad,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new Za,this._localParentNotSampled=(o=t.localParentNotSampled)!==null&&o!==void 0?o:new Ad}return e.prototype.shouldSample=function(t,n,r,i,o,s){var a=Rn.getSpanContext(t);return!a||!ho(a)?this._root.shouldSample(t,n,r,i,o,s):a.isRemote?a.traceFlags&un.SAMPLED?this._remoteParentSampled.shouldSample(t,n,r,i,o,s):this._remoteParentNotSampled.shouldSample(t,n,r,i,o,s):a.traceFlags&un.SAMPLED?this._localParentSampled.shouldSample(t,n,r,i,o,s):this._localParentNotSampled.shouldSample(t,n,r,i,o,s)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}()});var PS,yL=S(()=>{lt();Zy();PS=function(){function e(t){t===void 0&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}return e.prototype.shouldSample=function(t,n){return{decision:Cd(n)&&this._accumulate(n)<this._upperBound?Ks.RECORD_AND_SAMPLED:Ks.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t},e.prototype._accumulate=function(t){for(var n=0,r=0;r<t.length/8;r++){var i=r*8,o=parseInt(t.slice(i,i+8),16);n=(n^o)>>>0}return n},e}()});function RS(){return{sampler:xL(P_e),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:Gn().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:Gn().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:Gn().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:Gn().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:Gn().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:Gn().OTEL_SPAN_EVENT_COUNT_LIMIT}}}function xL(e){switch(e===void 0&&(e=Gn()),e.OTEL_TRACES_SAMPLER){case ki.AlwaysOn:return new Za;case ki.AlwaysOff:return new Ad;case ki.ParentBasedAlwaysOn:return new ex({root:new Za});case ki.ParentBasedAlwaysOff:return new ex({root:new Ad});case ki.TraceIdRatio:return new PS(L8(e));case ki.ParentBasedTraceIdRatio:return new ex({root:new PS(L8(e))});default:return ke.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+R_e+'".'),new Za}}function L8(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return ke.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+Hm+"."),Hm;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(ke.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+Hm+"."),Hm):t<0||t>1?(ke.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+Hm+"."),Hm):t}var P_e,R_e,Hm,wL=S(()=>{lt();Tr();TS();IS();vL();yL();P_e=Gn(),R_e=ki.AlwaysOn,Hm=1});function F8(e){var t={sampler:xL()},n=RS(),r=Object.assign({},n,t,e);return r.generalLimits=Object.assign({},n.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},n.spanLimits,e.spanLimits||{}),r}function M8(e){var t,n,r,i,o,s,a,u,c,l,d,p,f=Object.assign({},e.spanLimits),m=WN();return f.attributeCountLimit=(s=(o=(i=(n=(t=e.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&n!==void 0?n:(r=e.generalLimits)===null||r===void 0?void 0:r.attributeCountLimit)!==null&&i!==void 0?i:m.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:m.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:Wy,f.attributeValueLengthLimit=(p=(d=(l=(u=(a=e.spanLimits)===null||a===void 0?void 0:a.attributeValueLengthLimit)!==null&&u!==void 0?u:(c=e.generalLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&l!==void 0?l:m.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&d!==void 0?d:m.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:Vy,Object.assign({},e,{spanLimits:f})}var EL=S(()=>{wL();Tr()});var U8,q8=S(()=>{lt();Tr();U8=function(){function e(t,n){this._exporter=t,this._finishedSpans=[];var r=Gn();this._maxExportBatchSize=typeof(n==null?void 0:n.maxExportBatchSize)=="number"?n.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(n==null?void 0:n.maxQueueSize)=="number"?n.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(n==null?void 0:n.scheduledDelayMillis)=="number"?n.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(n==null?void 0:n.exportTimeoutMillis)=="number"?n.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Jy(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(ke.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&un.SAMPLED)!==0&&this._addToBuffer(t)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var t=this;return Promise.resolve().then(function(){return t.onShutdown()}).then(function(){return t._flushAll()}).then(function(){return t._exporter.shutdown()})},e.prototype._addToBuffer=function(t){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(t),this._maybeStartTimer())},e.prototype._flushAll=function(){var t=this;return new Promise(function(n,r){for(var i=[],o=Math.ceil(t._finishedSpans.length/t._maxExportBatchSize),s=0,a=o;s<a;s++)i.push(t._flushOneBatch());Promise.all(i).then(function(){n()}).catch(r)})},e.prototype._flushOneBatch=function(){var t=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(n,r){var i=setTimeout(function(){r(new Error("Timeout"))},t._exportTimeoutMillis);Sr.with(Hy(Sr.active()),function(){t._exporter.export(t._finishedSpans.splice(0,t._maxExportBatchSize),function(o){var s;clearTimeout(i),o.code===vo.SUCCESS?n():r((s=o.error)!==null&&s!==void 0?s:new Error("BatchSpanProcessor: span export failed"))})})})},e.prototype._maybeStartTimer=function(){var t=this;this._timer===void 0&&(this._timer=setTimeout(function(){t._flushOneBatch().then(function(){t._finishedSpans.length>0&&(t._clearTimer(),t._maybeStartTimer())}).catch(function(n){go(n)})},this._scheduledDelayMillis),XN(this._timer))},e.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},e}()});var A_e,_L,$8=S(()=>{q8();A_e=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_L=function(e){A_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onShutdown=function(){},t}(U8)});function j8(e){return function(){for(var n=0;n<e/4;n++)AS.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,n*4);for(var n=0;n<e&&!(AS[n]>0);n++)n===e-1&&(AS[e-1]=1);return AS.toString("hex",0,e)}}var D_e,H8,bL,AS,B8=S(()=>{D_e=8,H8=16,bL=function(){function e(){this.generateTraceId=j8(H8),this.generateSpanId=j8(D_e)}return e}(),AS=Buffer.allocUnsafe(H8)});var V8=S(()=>{$8();B8()});var DS=S(()=>{V8()});var CL,W8=S(()=>{lt();Tr();gL();EL();DS();CL=function(){function e(t,n,r){this._tracerProvider=r;var i=F8(n);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=n.idGenerator||new bL,this.resource=r.resource,this.instrumentationLibrary=t}return e.prototype.startSpan=function(t,n,r){var i,o;n===void 0&&(n={}),r===void 0&&(r=Sr.active()),n.root&&(r=Rn.deleteSpan(r));var s=Rn.getSpan(r);if(Td(r)){ke.debug("Instrumentation suppressed, returning Noop Span");var a=Rn.wrapSpanContext(Mm);return a}var u=s==null?void 0:s.spanContext(),c=this._idGenerator.generateSpanId(),l,d,p;!u||!Rn.isSpanContextValid(u)?l=this._idGenerator.generateTraceId():(l=u.traceId,d=u.traceState,p=u.spanId);var f=(i=n.kind)!==null&&i!==void 0?i:Um.INTERNAL,m=((o=n.links)!==null&&o!==void 0?o:[]).map(function(_){return{context:_.context,attributes:Id(_.attributes)}}),h=Id(n.attributes),g=this._sampler.shouldSample(r,l,t,f,h,m),v=g.decision===ti.RECORD_AND_SAMPLED?un.SAMPLED:un.NONE,y={traceId:l,spanId:c,traceFlags:v,traceState:d};if(g.decision===ti.NOT_RECORD){ke.debug("Recording is off, propagating context in a non-recording span");var a=Rn.wrapSpanContext(y);return a}var x=new hL(this,r,t,y,f,p,m,n.startTime),E=Id(Object.assign(h,g.attributes));return x.setAttributes(E),x},e.prototype.startActiveSpan=function(t,n,r,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=n:arguments.length===3?(o=n,a=r):(o=n,s=r,a=i);var u=s??Sr.active(),c=this.startSpan(t,o,u),l=Rn.setSpan(u,c);return Sr.with(l,a,void 0,c)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}()});function G8(){return"unknown_service:"+process.argv0}var z8=S(()=>{});var Y8=S(()=>{});var kS,k_e,O_e,N_e,X9e,K8=S(()=>{ls();Bm();kS=require("os"),k_e=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},O_e=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},N_e=function(){function e(){}return e.prototype.detect=function(t){return k_e(this,void 0,void 0,function(){var n,r;return O_e(this,function(i){return n=(r={},r[Oe.HOST_NAME]=(0,kS.hostname)(),r[Oe.HOST_ARCH]=this._normalizeArch((0,kS.arch)()),r),[2,new zn(n)]})})},e.prototype._normalizeArch=function(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}},e}(),X9e=new N_e});var OS,L_e,F_e,M_e,eXe,X8=S(()=>{ls();Bm();OS=require("os"),L_e=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},F_e=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},M_e=function(){function e(){}return e.prototype.detect=function(t){return L_e(this,void 0,void 0,function(){var n,r;return F_e(this,function(i){return n=(r={},r[Oe.OS_TYPE]=this._normalizeType((0,OS.platform)()),r[Oe.OS_VERSION]=(0,OS.release)(),r),[2,new zn(n)]})})},e.prototype._normalizeType=function(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}},e}(),eXe=new M_e});var Q8=S(()=>{z8();Y8();K8();X8()});var SL=S(()=>{Q8()});var zn,Bm=S(()=>{ls();Tr();SL();zn=function(){function e(t){this.attributes=t}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e((t={},t[Oe.SERVICE_NAME]=G8(),t[Oe.TELEMETRY_SDK_LANGUAGE]=zy[Oe.TELEMETRY_SDK_LANGUAGE],t[Oe.TELEMETRY_SDK_NAME]=zy[Oe.TELEMETRY_SDK_NAME],t[Oe.TELEMETRY_SDK_VERSION]=zy[Oe.TELEMETRY_SDK_VERSION],t))},e.prototype.merge=function(t){if(!t||!Object.keys(t.attributes).length)return this;var n=Object.assign({},this.attributes,t.attributes);return new e(n)},e.EMPTY=new e({}),e}()});var J8=S(()=>{});var Z8=S(()=>{});var TL,U_e,q_e,$_e,gXe,e9=S(()=>{lt();ls();IL();TL=function(){return TL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},TL.apply(this,arguments)},U_e=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},q_e=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},$_e=function(){function e(){}return e.prototype.detect=function(t){return U_e(this,void 0,void 0,function(){var n,r,i;return q_e(this,function(o){return n=typeof navigator<"u",n?(r=(i={},i[Oe.PROCESS_RUNTIME_NAME]="browser",i[Oe.PROCESS_RUNTIME_DESCRIPTION]="Web Browser",i[Oe.PROCESS_RUNTIME_VERSION]=navigator.userAgent,i),[2,this._getResourceAttributes(r,t)]):[2,zn.empty()]})})},e.prototype._getResourceAttributes=function(t,n){return t[Oe.PROCESS_RUNTIME_VERSION]===""?(ke.debug("BrowserDetector failed: Unable to find required browser resources. "),zn.empty()):new zn(TL({},t))},e}(),gXe=new $_e});var j_e,H_e,B_e,V_e,W_e,_Xe,t9=S(()=>{lt();Tr();ls();Bm();j_e=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},H_e=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},B_e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},V_e=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},W_e=function(){function e(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}return e.prototype.detect=function(t){return j_e(this,void 0,void 0,function(){var n,r,i,o,s;return H_e(this,function(a){if(n={},r=Gn(),i=r.OTEL_RESOURCE_ATTRIBUTES,o=r.OTEL_SERVICE_NAME,i)try{s=this._parseResourceAttributes(i),Object.assign(n,s)}catch(u){ke.debug("EnvDetector failed: "+u.message)}return o&&(n[Oe.SERVICE_NAME]=o),[2,new zn(n)]})})},e.prototype._parseResourceAttributes=function(t){var n,r;if(!t)return{};var i={},o=t.split(this._COMMA_SEPARATOR,-1);try{for(var s=B_e(o),a=s.next();!a.done;a=s.next()){var u=a.value,c=u.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(c.length===2){var l=V_e(c,2),d=l[0],p=l[1];if(d=d.trim(),p=p.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(d))throw new Error("Attribute key "+this._ERROR_MESSAGE_INVALID_CHARS);if(!this._isValid(p))throw new Error("Attribute value "+this._ERROR_MESSAGE_INVALID_VALUE);i[d]=decodeURIComponent(p)}}}catch(f){n={error:f}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},e.prototype._isValid=function(t){return t.length<=this._MAX_LENGTH&&this._isBaggageOctetString(t)},e.prototype._isBaggageOctetString=function(t){for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<33||r===44||r===59||r===92||r>126)return!1}return!0},e.prototype._isValidAndNotEmpty=function(t){return t.length>0&&this._isValid(t)},e}(),_Xe=new W_e});var PL,G_e,z_e,Y_e,IXe,n9=S(()=>{lt();ls();Bm();PL=function(){return PL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},PL.apply(this,arguments)},G_e=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},z_e=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Y_e=function(){function e(){}return e.prototype.detect=function(t){return G_e(this,void 0,void 0,function(){var n,r;return z_e(this,function(i){return typeof process!="object"?[2,zn.empty()]:(n=(r={},r[Oe.PROCESS_PID]=process.pid,r[Oe.PROCESS_EXECUTABLE_NAME]=process.title||"",r[Oe.PROCESS_COMMAND]=process.argv[1]||"",r[Oe.PROCESS_COMMAND_LINE]=process.argv.join(" ")||"",r[Oe.PROCESS_RUNTIME_VERSION]=process.versions.node,r[Oe.PROCESS_RUNTIME_NAME]="nodejs",r[Oe.PROCESS_RUNTIME_DESCRIPTION]="Node.js",r),[2,this._getResourceAttributes(n,t)])})})},e.prototype._getResourceAttributes=function(t,n){return t[Oe.PROCESS_EXECUTABLE_NAME]===""||t[Oe.PROCESS_EXECUTABLE_PATH]===""||t[Oe.PROCESS_COMMAND]===""||t[Oe.PROCESS_COMMAND_LINE]===""||t[Oe.PROCESS_RUNTIME_VERSION]===""?(ke.debug("ProcessDetector failed: Unable to find required process resources. "),zn.empty()):new zn(PL({},t))},e}(),IXe=new Y_e});var r9=S(()=>{e9();t9();n9()});var IL=S(()=>{Bm();SL();J8();Z8();r9()});var NS,i9,o9=S(()=>{Tr();NS=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i9=function(){function e(t){this._spanProcessors=t}return e.prototype.forceFlush=function(){var t,n,r=[];try{for(var i=NS(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;r.push(s.forceFlush())}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return new Promise(function(a){Promise.all(r).then(function(){a()}).catch(function(u){go(u||new Error("MultiSpanProcessor: forceFlush failed")),a()})})},e.prototype.onStart=function(t,n){var r,i;try{for(var o=NS(this._spanProcessors),s=o.next();!s.done;s=o.next()){var a=s.value;a.onStart(t,n)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.onEnd=function(t){var n,r;try{for(var i=NS(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;s.onEnd(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.shutdown=function(){var t,n,r=[];try{for(var i=NS(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;r.push(s.shutdown())}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return new Promise(function(a,u){Promise.all(r).then(function(){a()},u)})},e}()});var RL,AL=S(()=>{RL=function(){function e(){}return e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}()});var Su,K_e,s9=S(()=>{lt();Tr();IL();DL();wL();o9();AL();DS();EL();(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(Su||(Su={}));K_e=function(){function e(t){t===void 0&&(t={});var n;this._registeredSpanProcessors=[],this._tracers=new Map;var r=fL({},RS(),M8(t));this.resource=(n=r.resource)!==null&&n!==void 0?n:zn.empty(),this.resource=zn.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var i=this._buildExporterFromEnv();if(i!==void 0){var o=new _L(i);this.activeSpanProcessor=o}else this.activeSpanProcessor=new RL}return e.prototype.getTracer=function(t,n,r){var i=t+"@"+(n||"")+":"+((r==null?void 0:r.schemaUrl)||"");return this._tracers.has(i)||this._tracers.set(i,new CL({name:t,version:n,schemaUrl:r==null?void 0:r.schemaUrl},this._config,this)),this._tracers.get(i)},e.prototype.addSpanProcessor=function(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(function(n){return ke.error("Error while trying to shutdown current span processor",n)}),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new i9(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(t){t===void 0&&(t={}),Rn.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&Sr.setGlobalContextManager(t.contextManager),t.propagator&&Qa.setGlobalPropagator(t.propagator)},e.prototype.forceFlush=function(){var t=this._config.forceFlushTimeoutMillis,n=this._registeredSpanProcessors.map(function(r){return new Promise(function(i){var o,s=setTimeout(function(){i(new Error("Span processor did not completed within timeout period of "+t+" ms")),o=Su.timeout},t);r.forceFlush().then(function(){clearTimeout(s),o!==Su.timeout&&(o=Su.resolved,i(o))}).catch(function(a){clearTimeout(s),o=Su.error,i(a)})})});return new Promise(function(r,i){Promise.all(n).then(function(o){var s=o.filter(function(a){return a!==Su.resolved});s.length>0?i(s):r()}).catch(function(o){return i([o])})})},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(t){var n;return(n=this.constructor._registeredPropagators.get(t))===null||n===void 0?void 0:n()},e.prototype._getSpanExporter=function(t){var n;return(n=this.constructor._registeredExporters.get(t))===null||n===void 0?void 0:n()},e.prototype._buildPropagatorFromEnv=function(){var t=this,n=Array.from(new Set(Gn().OTEL_PROPAGATORS)),r=n.map(function(o){var s=t._getPropagator(o);return s||ke.warn('Propagator "'+o+'" requested through environment variable is unavailable.'),s}),i=r.reduce(function(o,s){return s&&o.push(s),o},[]);if(i.length!==0)return n.length===1?i[0]:new nL({propagators:i})},e.prototype._buildExporterFromEnv=function(){var t=Gn().OTEL_TRACES_EXPORTER;if(t!=="none"){var n=this._getSpanExporter(t);return n||ke.error('Exporter "'+t+'" requested through environment variable is unavailable.'),n}},e._registeredPropagators=new Map([["tracecontext",function(){return new sL}],["baggage",function(){return new $N}]]),e._registeredExporters=new Map,e}()});var X_e,Q_e,a9=S(()=>{Tr();X_e=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Q_e=function(){function e(){}return e.prototype.export=function(t,n){return this._sendSpans(t,n)},e.prototype.shutdown=function(){return this._sendSpans([]),Promise.resolve()},e.prototype._exportInfo=function(t){return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:wS(t.startTime),duration:wS(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}},e.prototype._sendSpans=function(t,n){var r,i;try{for(var o=X_e(t),s=o.next();!s.done;s=o.next()){var a=s.value;console.dir(this._exportInfo(a),{depth:3})}}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}if(n)return n({code:vo.SUCCESS})},e}()});var J_e,Z_e,ebe,c9=S(()=>{Tr();J_e=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},Z_e=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},ebe=function(){function e(){this._finishedSpans=[],this._stopped=!1}return e.prototype.export=function(t,n){var r;if(this._stopped)return n({code:vo.FAILED,error:new Error("Exporter has been stopped")});(r=this._finishedSpans).push.apply(r,Z_e([],J_e(t),!1)),setTimeout(function(){return n({code:vo.SUCCESS})},0)},e.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()},e.prototype.reset=function(){this._finishedSpans=[]},e.prototype.getFinishedSpans=function(){return this._finishedSpans},e}()});var u9=S(()=>{});var tbe,l9=S(()=>{lt();Tr();tbe=function(){function e(t){this._exporter=t,this._shutdownOnce=new Jy(this._shutdown,this)}return e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&un.SAMPLED)!==0&&mL._export(this._exporter,[t]).then(function(n){var r;n.code!==vo.SUCCESS&&go((r=n.error)!==null&&r!==void 0?r:new Error("SimpleSpanProcessor: span export failed (status "+n+")"))}).catch(function(n){go(n)})},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}()});var d9=S(()=>{});var p9=S(()=>{});var f9=S(()=>{});var m9=S(()=>{});var h9=S(()=>{});var g9={};bs(g9,{AlwaysOffSampler:()=>Ad,AlwaysOnSampler:()=>Za,BasicTracerProvider:()=>K_e,BatchSpanProcessor:()=>_L,ConsoleSpanExporter:()=>Q_e,ForceFlushState:()=>Su,InMemorySpanExporter:()=>ebe,NoopSpanProcessor:()=>RL,ParentBasedSampler:()=>ex,RandomIdGenerator:()=>bL,SamplingDecision:()=>Ks,SimpleSpanProcessor:()=>tbe,Span:()=>hL,TraceIdRatioBasedSampler:()=>PS,Tracer:()=>CL});var DL=S(()=>{W8();s9();DS();a9();c9();u9();l9();d9();AL();TS();IS();vL();yL();Zy();gL();p9();f9();m9();h9()});var y9=w(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.enable=yo.azureCoreTracing=yo.AzureMonitorSymbol=void 0;var kL=Zt();yo.AzureMonitorSymbol="Azure_Monitor_Tracer";var OL="azure-coretracing",v9=!1,nbe=function(e){if(v9)return e;try{var t=(DL(),ui(g9)),n=(lt(),ui(Sd)),r=new t.BasicTracerProvider,i=r.getTracer("applicationinsights tracer");if(e.setTracer){var o=e.setTracer;e.setTracer=function(c){var l=c.startSpan;c.startSpan=function(d,p,f){var m=l.call(this,d,p,f),h=m.end;return m.end=function(){var g=h.apply(this,arguments);return kL.channel.publish(OL,m),g},m},c[yo.AzureMonitorSymbol]=!0,o.call(this,c)},n.trace.getSpan(n.context.active()),e.setTracer(i)}else{var s=n.trace.setGlobalTracerProvider;n.trace.setGlobalTracerProvider=function(c){var l=c.getTracer;return c.getTracer=function(d,p){var f=l.call(this,d,p);if(!f[yo.AzureMonitorSymbol]){var m=f.startSpan;f.startSpan=function(h,g,v){var y=m.call(this,h,g,v),x=y.end;return y.end=function(){var E=x.apply(this,arguments);return kL.channel.publish(OL,y),E},y},f[yo.AzureMonitorSymbol]=!0}return f},s.call(this,c)},r.register(),n.trace.getSpan(n.context.active());var a=require("@opentelemetry/instrumentation"),u=require("@azure/opentelemetry-instrumentation-azure-sdk");a.registerInstrumentations({instrumentations:[u.createAzureSdkInstrumentation()]})}v9=!0}catch{}return e};yo.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:nbe,publisherName:OL};function rbe(){kL.channel.registerMonkeyPatch("@azure/core-tracing",yo.azureCoreTracing)}yo.enable=rbe});var w9=w(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.enable=Dd.bunyan=void 0;var x9=Zt(),ibe=function(e){var t=e.prototype._emit;return e.prototype._emit=function(n,r){var i=t.apply(this,arguments);if(!r){var o=i;o||(o=t.call(this,n,!0)),x9.channel.publish("bunyan",{level:n.level,result:o})}return i},e};Dd.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:ibe};function obe(){x9.channel.registerMonkeyPatch("bunyan",Dd.bunyan)}Dd.enable=obe});var _9=w(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.enable=kd.console=void 0;var NL=Zt(),E9=require("stream"),sbe=function(e){var t=new E9.Writable,n=new E9.Writable;t.write=function(c){if(!c)return!0;var l=c.toString();return NL.channel.publish("console",{message:l}),!0},n.write=function(c){if(!c)return!0;var l=c.toString();return NL.channel.publish("console",{message:l,stderr:!0}),!0};for(var r=new e.Console(t,n),i=["log","info","warn","error","dir","time","timeEnd","trace","assert"],o=function(c){var l=e[c];l&&(e[c]=function(){if(r[c])try{r[c].apply(r,arguments)}catch{}return l.apply(e,arguments)})},s=0,a=i;s<a.length;s++){var u=a[s];o(u)}return e};kd.console={versionSpecifier:">= 4.0.0",patch:sbe};function abe(){NL.channel.registerMonkeyPatch("console",kd.console),require("console")}kd.enable=abe});var b9=w(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.enable=Od.mongoCore=void 0;var LL=Zt(),cbe=function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var r=t.apply(this,arguments),i=this.s.pool.write;this.s.pool.write=function(){var a=typeof arguments[1]=="function"?1:2;return typeof arguments[a]=="function"&&(arguments[a]=LL.channel.bindToContext(arguments[a])),i.apply(this,arguments)};var o=this.s.pool.logout;return this.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=LL.channel.bindToContext(arguments[1])),o.apply(this,arguments)},r},e};Od.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:cbe};function ube(){LL.channel.registerMonkeyPatch("mongodb-core",Od.mongoCore)}Od.enable=ube});var C9=w(Ir=>{"use strict";var Vm=Ir&&Ir.__assign||function(){return Vm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Vm.apply(this,arguments)};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.enable=Ir.mongo330=Ir.mongo3=Ir.mongo2=void 0;var ur=Zt(),lbe=function(e){var t=e.instrument({operationIdGenerator:{next:function(){return ur.channel.bindToContext(function(r){return r()})}}}),n={};return t.on("started",function(r){n[r.requestId]||(n[r.requestId]=Vm(Vm({},r),{time:new Date}))}),t.on("succeeded",function(r){var i=n[r.requestId];i&&delete n[r.requestId],typeof r.operationId=="function"?r.operationId(function(){return ur.channel.publish("mongodb",{startedData:i,event:r,succeeded:!0})}):ur.channel.publish("mongodb",{startedData:i,event:r,succeeded:!0})}),t.on("failed",function(r){var i=n[r.requestId];i&&delete n[r.requestId],typeof r.operationId=="function"?r.operationId(function(){return ur.channel.publish("mongodb",{startedData:i,event:r,succeeded:!1})}):ur.channel.publish("mongodb",{startedData:i,event:r,succeeded:!1})}),e},dbe=function(e){var t=e.instrument(),n={},r={};return t.on("started",function(i){n[i.requestId]||(r[i.requestId]=ur.channel.bindToContext(function(o){return o()}),n[i.requestId]=Vm(Vm({},i),{time:new Date}))}),t.on("succeeded",function(i){var o=n[i.requestId];o&&delete n[i.requestId],typeof i=="object"&&typeof r[i.requestId]=="function"&&(r[i.requestId](function(){return ur.channel.publish("mongodb",{startedData:o,event:i,succeeded:!0})}),delete r[i.requestId])}),t.on("failed",function(i){var o=n[i.requestId];o&&delete n[i.requestId],typeof i=="object"&&typeof r[i.requestId]=="function"&&(r[i.requestId](function(){return ur.channel.publish("mongodb",{startedData:o,event:i,succeeded:!1})}),delete r[i.requestId])}),e},pbe=function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var r=t.apply(this,arguments),i=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var a=typeof arguments[1]=="function"?1:2;return typeof arguments[a]=="function"&&(arguments[a]=ur.channel.bindToContext(arguments[a])),i.apply(this,arguments)};var o=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=ur.channel.bindToContext(arguments[1])),o.apply(this,arguments)},r},e},fbe=function(e){pbe(e);var t=e.instrument(),n={},r={};return t.on("started",function(i){n[i.requestId]||(r[i.requestId]=ur.channel.bindToContext(function(o){return o()}),n[i.requestId]=i)}),t.on("succeeded",function(i){var o=n[i.requestId];o&&delete n[i.requestId],typeof i=="object"&&typeof r[i.requestId]=="function"&&(r[i.requestId](function(){return ur.channel.publish("mongodb",{startedData:o,event:i,succeeded:!0})}),delete r[i.requestId])}),t.on("failed",function(i){var o=n[i.requestId];o&&delete n[i.requestId],typeof i=="object"&&typeof r[i.requestId]=="function"&&(r[i.requestId](function(){return ur.channel.publish("mongodb",{startedData:o,event:i,succeeded:!1})}),delete r[i.requestId])}),e};Ir.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:lbe};Ir.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:dbe};Ir.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:fbe};function mbe(){ur.channel.registerMonkeyPatch("mongodb",Ir.mongo2),ur.channel.registerMonkeyPatch("mongodb",Ir.mongo3),ur.channel.registerMonkeyPatch("mongodb",Ir.mongo330)}Ir.enable=mbe});var T9=w(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.enable=Nd.mysql=void 0;var LS=Zt(),S9=require("path"),hbe=function(e,t){var n=function(u,c){return function(l,d){var p=u[l];p&&(u[l]=function(){for(var m=arguments.length-1,h=arguments.length-1;h>=0;--h)if(typeof arguments[h]=="function"){m=h;break}else if(typeof arguments[h]<"u")break;var g=arguments[m],v={result:null,startTime:null,startDate:null};typeof g=="function"&&(d?(v.startTime=process.hrtime(),v.startDate=new Date,arguments[m]=LS.channel.bindToContext(d(v,g))):arguments[m]=LS.channel.bindToContext(g));var y=p.apply(this,arguments);return v.result=y,y})}},r=function(u,c){return n(u.prototype,c+".prototype")},i=["connect","changeUser","ping","statistics","end"],o=require(S9.dirname(t)+"/lib/Connection");i.forEach(function(u){return r(o,"Connection")(u)}),n(o,"Connection")("createQuery",function(u,c){return function(l){var d=process.hrtime(u.startTime),p=d[0]*1e3+d[1]/1e6|0;LS.channel.publish("mysql",{query:u.result,callbackArgs:arguments,err:l,duration:p,time:u.startDate}),c.apply(this,arguments)}});var s=["_enqueueCallback"],a=require(S9.dirname(t)+"/lib/Pool");return s.forEach(function(u){return r(a,"Pool")(u)}),e};Nd.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:hbe};function gbe(){LS.channel.registerMonkeyPatch("mysql",Nd.mysql)}Nd.enable=gbe});var P9=w(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.enable=Ld.postgresPool1=void 0;var I9=Zt();function vbe(e){var t=e.prototype.connect;return e.prototype.connect=function(r){return r&&(arguments[0]=I9.channel.bindToContext(r)),t.apply(this,arguments)},e}Ld.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:vbe};function ybe(){I9.channel.registerMonkeyPatch("pg-pool",Ld.postgresPool1)}Ld.enable=ybe});var A9=w(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.enable=Xs.postgres7=Xs.postgres6=void 0;var Wm=Zt(),R9=require("events"),FL="postgres";function xbe(e,t){var n=e.Client.prototype.query,r="__diagnosticOriginalFunc";return e.Client.prototype.query=function(o,s,a){var u={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},c=process.hrtime(),l;function d(p){p&&p[r]&&(p=p[r]);var f=Wm.channel.bindToContext(function(m,h){var g=process.hrtime(c);if(u.result=h&&{rowCount:h.rowCount,command:h.command},u.error=m,u.duration=Math.ceil(g[0]*1e3+g[1]/1e6),Wm.channel.publish(FL,u),m){if(p)return p.apply(this,arguments);l&&l instanceof R9.EventEmitter&&l.emit("error",m)}else p&&p.apply(this,arguments)});try{return Object.defineProperty(f,r,{value:p}),f}catch{return p}}try{typeof o=="string"?s instanceof Array?(u.query.preparable={text:o,args:s},a=d(a)):(u.query.text=o,a?a=d(a):s=d(s)):(typeof o.name=="string"?u.query.plan=o.name:o.values instanceof Array?u.query.preparable={text:o.text,args:o.values}:u.query.text=o.text,a?a=d(a):s?s=d(s):o.callback=d(o.callback))}catch{return n.apply(this,arguments)}return arguments[0]=o,arguments[1]=s,arguments[2]=a,arguments.length=arguments.length>3?arguments.length:3,l=n.apply(this,arguments),l},e}function wbe(e,t){var n=e.Client.prototype.query,r="__diagnosticOriginalFunc";return e.Client.prototype.query=function(o,s,a){var u=this,c=!!a,l={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},d=process.hrtime(),p;function f(m){m&&m[r]&&(m=m[r]);var h=Wm.channel.bindToContext(function(g,v){var y=process.hrtime(d);if(l.result=v&&{rowCount:v.rowCount,command:v.command},l.error=g,l.duration=Math.ceil(y[0]*1e3+y[1]/1e6),Wm.channel.publish(FL,l),g){if(m)return m.apply(this,arguments);p&&p instanceof R9.EventEmitter&&p.emit("error",g)}else m&&m.apply(this,arguments)});try{return Object.defineProperty(h,r,{value:m}),h}catch{return m}}try{typeof o=="string"?s instanceof Array?(l.query.preparable={text:o,args:s},c=typeof a=="function",a=c?f(a):a):(l.query.text=o,a?(c=typeof a=="function",a=c?f(a):a):(c=typeof s=="function",s=c?f(s):s)):(typeof o.name=="string"?l.query.plan=o.name:o.values instanceof Array?l.query.preparable={text:o.text,args:o.values}:l.query.text=o.text,a?(c=typeof a=="function",a=f(a)):s?(c=typeof s=="function",s=c?f(s):s):(c=typeof o.callback=="function",o.callback=c?f(o.callback):o.callback))}catch{return n.apply(this,arguments)}return arguments[0]=o,arguments[1]=s,arguments[2]=a,arguments.length=arguments.length>3?arguments.length:3,p=n.apply(this,arguments),c?p:p.then(function(m){return f()(void 0,m),new u._Promise(function(h,g){h(m)})}).catch(function(m){return f()(m,void 0),new u._Promise(function(h,g){g(m)})})},e}Xs.postgres6={versionSpecifier:"6.*",patch:xbe};Xs.postgres7={versionSpecifier:">=7.* <=8.*",patch:wbe,publisherName:FL};function Ebe(){Wm.channel.registerMonkeyPatch("pg",Xs.postgres6),Wm.channel.registerMonkeyPatch("pg",Xs.postgres7)}Xs.enable=Ebe});var D9=w(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.enable=Fd.redis=void 0;var ML=Zt(),_be=function(e){var t=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(n){if(n){var r=n.callback;if(!r||!r.pubsubBound){var i=this.address,o=process.hrtime(),s=new Date;n.callback=ML.channel.bindToContext(function(a,u){var c=process.hrtime(o),l=c[0]*1e3+c[1]/1e6|0;ML.channel.publish("redis",{duration:l,address:i,commandObj:n,err:a,result:u,time:s}),typeof r=="function"&&r.apply(this,arguments)}),n.callback.pubsubBound=!0}}return t.call(this,n)},e};Fd.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:_be};function bbe(){ML.channel.registerMonkeyPatch("redis",Fd.redis)}Fd.enable=bbe});var k9=w(ec=>{"use strict";var FS=ec&&ec.__assign||function(){return FS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},FS.apply(this,arguments)};Object.defineProperty(ec,"__esModule",{value:!0});ec.enable=ec.tedious=void 0;var UL=Zt(),Cbe=function(e){var t=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){function r(o){var s=process.hrtime(),a={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return UL.channel.bindToContext(function(u,c,l){var d=process.hrtime(s);a=FS(FS({},a),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!u&&{rowCount:c,rows:l},query:{text:this.parametersByName.statement.value},error:u,duration:Math.ceil(d[0]*1e3+d[1]/1e6)}),UL.channel.publish("tedious",a),o.call(this,u,c,l)})}var i=arguments[0];arguments[0].callback=r(i.callback),t.apply(this,arguments)},e};ec.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:Cbe};function Sbe(){UL.channel.registerMonkeyPatch("tedious",ec.tedious)}ec.enable=Sbe});var O9=w(ni=>{"use strict";var Tbe=ni&&ni.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ibe=ni&&ni.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(ni,"__esModule",{value:!0});ni.enable=ni.winston2=ni.winston3=void 0;var MS=Zt(),Pbe=function(e){var t=e.Logger.prototype.log,n,r=function(i,o,s){var a;return n===e.config.npm.levels?a="npm":n===e.config.syslog.levels?a="syslog":a="unknown",MS.channel.publish("winston",{level:i,message:o,meta:s,levelKind:a}),o};return e.Logger.prototype.log=function(){return n=this.levels,!this.filters||this.filters.length===0?this.filters=[r]:this.filters[this.filters.length-1]!==r&&(this.filters=this.filters.filter(function(o){return o!==r}),this.filters.push(r)),t.apply(this,arguments)},e},Rbe=function(e){var t=function(s,a){var u;return s.config.npm.levels[a]!=null?u="npm":s.config.syslog.levels[a]!=null?u="syslog":u="unknown",u},n=function(s){Tbe(a,s);function a(u,c){var l=s.call(this,c)||this;return l.winston=u,l}return a.prototype.log=function(u,c){var l=u.message,d=u.level,p=u.meta,f=Ibe(u,["message","level","meta"]);d=typeof Symbol.for=="function"?u[Symbol.for("level")]:d,l=u instanceof Error?u:l;var m=t(this.winston,d);p=p||{};for(var h in f)f.hasOwnProperty(h)&&(p[h]=f[h]);MS.channel.publish("winston",{message:l,level:d,levelKind:m,meta:p}),c()},a}(e.Transport);function r(){var s=e.config.npm.levels;arguments&&arguments[0]&&arguments[0].levels&&(s=arguments[0].levels);var a;for(var u in s)s.hasOwnProperty(u)&&(a=a===void 0||s[u]>s[a]?u:a);this.add(new n(e,{level:a}))}var i=e.createLogger;e.createLogger=function(){var a=e.config.npm.levels;arguments&&arguments[0]&&arguments[0].levels&&(a=arguments[0].levels);var u;for(var c in a)a.hasOwnProperty(c)&&(u=u===void 0||a[c]>a[u]?c:u);var l=i.apply(this,arguments);l.add(new n(e,{level:u}));var d=l.configure;return l.configure=function(){d.apply(this,arguments),r.apply(this,arguments)},l};var o=e.configure;return e.configure=function(){o.apply(this,arguments),r.apply(this,arguments)},e.add(new n(e)),e};ni.winston3={versionSpecifier:"3.x",patch:Rbe};ni.winston2={versionSpecifier:"2.x",patch:Pbe};function Abe(){MS.channel.registerMonkeyPatch("winston",ni.winston2),MS.channel.registerMonkeyPatch("winston",ni.winston3)}ni.enable=Abe});var W9=w(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.enable=It.tedious=It.pgPool=It.pg=It.winston=It.redis=It.mysql=It.mongodb=It.mongodbCore=It.console=It.bunyan=It.azuresdk=void 0;var N9=y9();It.azuresdk=N9;var L9=w9();It.bunyan=L9;var F9=_9();It.console=F9;var M9=b9();It.mongodbCore=M9;var U9=C9();It.mongodb=U9;var q9=T9();It.mysql=q9;var $9=P9();It.pgPool=$9;var j9=A9();It.pg=j9;var H9=D9();It.redis=H9;var B9=k9();It.tedious=B9;var V9=O9();It.winston=V9;function Dbe(){L9.enable(),F9.enable(),M9.enable(),U9.enable(),q9.enable(),j9.enable(),$9.enable(),H9.enable(),V9.enable(),N9.enable(),B9.enable()}It.enable=Dbe});var $S=w(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.registerContextPreservation=Tu.IsInitialized=void 0;var qL=Mt(),z9=$C();Tu.IsInitialized=!z9.JsonConfig.getInstance().noDiagnosticChannel;var $L="DiagnosticChannel";if(Tu.IsInitialized){ds=W9(),G9=z9.JsonConfig.getInstance().noPatchModules,US=G9.split(","),jL={bunyan:ds.bunyan,console:ds.console,mongodb:ds.mongodb,mongodbCore:ds.mongodbCore,mysql:ds.mysql,redis:ds.redis,pg:ds.pg,pgPool:ds.pgPool,winston:ds.winston,azuresdk:ds.azuresdk};for(qS in jL)US.indexOf(qS)===-1&&(jL[qS].enable(),qL.info($L,"Subscribed to "+qS+" events"));US.length>0&&qL.info($L,"Some modules will not be patched",US)}else qL.info($L,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");var ds,G9,US,jL,qS;function kbe(e){if(!!Tu.IsInitialized){var t=Zt();t.channel.addContextPreservation(e)}}Tu.registerContextPreservation=kbe});var Gm=w((M7e,Y9)=>{"use strict";Y9.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}});var Yn=w((VL,K9)=>{"use strict";var Pu=VL&&VL.__assign||function(){return Pu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Pu.apply(this,arguments)},Obe=require("http"),HL=require("https"),BL=require("url"),Iu=require("constants"),Md=Mt(),zm=Gm(),Nbe=$C(),Lbe=function(){function e(){e._addCloseHandler()}return e.getCookie=function(t,n){var r="";if(t&&t.length&&typeof n=="string")for(var i=t+"=",o=n.split(";"),s=0;s<o.length;s++){var n=o[s];if(n=e.trim(n),n&&n.indexOf(i)===0){r=n.substring(i.length,o[s].length);break}}return r},e.trim=function(t){return typeof t=="string"?t.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(t){var n=function(a,u){return String.fromCharCode(a>>u&255)},r=function(a){return n(a,24)+n(a,16)+n(a,8)+n(a,0)},i=t.map(r).join(""),o=Buffer.from?Buffer.from(i,"binary"):new Buffer(i,"binary"),s=o.toString("base64");return s.substr(0,s.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r,i=0;i<4;i++)r=e.random32(),n+=t[r&15]+t[r>>4&15]+t[r>>8&15]+t[r>>12&15]+t[r>>16&15]+t[r>>20&15]+t[r>>24&15]+t[r>>28&15];var o=t[8+Math.random()*4|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+o+n.substr(16,3)+n.substr(19,12)},e.w3cSpanId=function(){return e.w3cTraceId().substring(16)},e.isValidW3CId=function(t){return t.length===32&&t!=="00000000000000000000000000000000"},e.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"},e.isError=function(t){return Object.prototype.toString.call(t)==="[object Error]"},e.isPrimitive=function(t){var n=typeof t;return n==="string"||n==="number"||n==="boolean"},e.isDate=function(t){return Object.prototype.toString.call(t)==="[object Date]"},e.msToTimeSpan=function(t){(isNaN(t)||t<0)&&(t=0);var n=(t/1e3%60).toFixed(7).replace(/0{0,4}$/,""),r=""+Math.floor(t/(1e3*60))%60,i=""+Math.floor(t/(1e3*60*60))%24,o=Math.floor(t/(1e3*60*60*24));n=n.indexOf(".")<2?"0"+n:n,r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i;var s=o>0?o+".":"";return s+i+":"+r+":"+n},e.extractError=function(t){var n=t;return{message:t.message,code:n.code||n.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):typeof t.toJSON=="function"?t.toJSON():t},e.validateStringMap=function(t){if(typeof t!="object"){Md.info("Invalid properties dropped from payload");return}var n={};for(var r in t){var i="",o=t[r],s=typeof o;if(e.isPrimitive(o))i=o.toString();else if(o===null||s==="undefined")i="";else if(s==="function"){Md.info("key: "+r+" was function; will not serialize");continue}else{var a=e.isArray(o)?o:e.extractObject(o);try{e.isPrimitive(a)?i=a:i=JSON.stringify(a)}catch(u){i=o.constructor.name.toString()+" (Error: "+u.message+")",Md.info("key: "+r+", could not be serialized")}}n[r]=i.substring(0,e.MAX_PROPERTY_LENGTH)}return n},e.canIncludeCorrelationHeader=function(t,n){var r=t&&t.config&&t.config.correlationHeaderExcludedDomains;if(!r||r.length==0||!n)return!0;for(var i=0;i<r.length;i++){var o=new RegExp(r[i].replace(/\./g,".").replace(/\*/g,".*"));try{if(o.test(new BL.URL(n).hostname))return!1}catch{}}return!0},e.getCorrelationContextTarget=function(t,n){var r=t.headers&&t.headers[zm.requestContextHeader];if(r)for(var i=r.split(","),o=0;o<i.length;++o){var s=i[o].split("=");if(s.length==2&&s[0]==n)return s[1]}},e.makeRequest=function(t,n,r,i,o,s){o===void 0&&(o=!0),s===void 0&&(s=!0),n&&n.indexOf("//")===0&&(n="https:"+n);var a=new BL.URL(n),u=Pu(Pu({},r),{host:a.hostname,port:a.port,path:a.pathname}),c=void 0;if(o&&(a.protocol==="https:"&&(c=t.proxyHttpsUrl||void 0),a.protocol==="http:"&&(c=t.proxyHttpUrl||void 0),c)){c.indexOf("//")===0&&(c="http:"+c);try{var l=new BL.URL(c);l.protocol==="https:"?(Md.info("Proxies that use HTTPS are not supported"),c=void 0):u=Pu(Pu({},u),{host:l.hostname,port:l.port||"80",path:n,headers:Pu(Pu({},u.headers),{Host:a.hostname})})}catch{Md.warn("Wrong proxy URL provided")}}var d=a.protocol==="https:"&&!c;return s&&(d&&t.httpsAgent!==void 0?u.agent=t.httpsAgent:!d&&t.httpAgent!==void 0?u.agent=t.httpAgent:d&&(u.agent=e._useKeepAlive?e.keepAliveAgent:e.tlsRestrictedAgent)),d?HL.request(u,i):Obe.request(u,i)},e.safeIncludeCorrelationHeader=function(t,n,r){var i;if(typeof r=="string")i=r;else if(r instanceof Array)i=r.join(",");else if(r&&typeof r.toString=="function")try{i=r.toString()}catch(o){Md.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",o,r)}i?e.addCorrelationIdHeaderFromString(t,n,i):n.setHeader(zm.requestContextHeader,zm.requestContextSourceKey+"="+t.config.correlationId)},e.dumpObj=function(t){if(t)try{var n=Object.prototype.toString.call(t),r="";return n==="[object Error]"?r="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'":r=this.stringify(t),n+r}catch{return t.toString()}},e.stringify=function(t){try{return JSON.stringify(t)}catch(n){Md.warn("Failed to serialize payload",n,t)}},e.addCorrelationIdHeaderFromString=function(t,n,r){var i=r.split(","),o=zm.requestContextSourceKey+"=",s=i.some(function(a){return a.substring(0,o.length)===o});s||n.setHeader(zm.requestContextHeader,r+","+zm.requestContextSourceKey+"="+t.config.correlationId)},e._addCloseHandler=function(){e._listenerAttached||(process.on("exit",function(){e.isNodeExit=!0,e._useKeepAlive=!1}),e._listenerAttached=!0)},e._useKeepAlive=!Nbe.JsonConfig.getInstance().noHttpAgentKeepAlive,e._listenerAttached=!1,e.MAX_PROPERTY_LENGTH=8192,e.keepAliveAgent=new HL.Agent({keepAlive:!0,maxSockets:25,secureOptions:Iu.SSL_OP_NO_SSLv2|Iu.SSL_OP_NO_SSLv3|Iu.SSL_OP_NO_TLSv1|Iu.SSL_OP_NO_TLSv1_1}),e.tlsRestrictedAgent=new HL.Agent({secureOptions:Iu.SSL_OP_NO_SSLv2|Iu.SSL_OP_NO_SSLv3|Iu.SSL_OP_NO_TLSv1|Iu.SSL_OP_NO_TLSv1_1}),e.isNodeExit=!1,e}();K9.exports=Lbe});var Ud=w((U7e,X9)=>{"use strict";var jS=Yn(),WL=Mt(),Fbe=function(){function e(){}return e.queryCorrelationId=function(t,n){var r=this,i=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(i)){n(e.completedLookups[i]);return}else if(e.pendingLookups[i]){e.pendingLookups[i].push(n);return}e.pendingLookups[i]=[n];var o=function(){if(!!e.pendingLookups[i]){var s={method:"GET",disableAppInsightsAutoCollection:!0};WL.info(e.TAG,s);var a=jS.makeRequest(t,i,s,function(u){if(u.statusCode===200){var c="";u.setEncoding("utf-8"),u.on("data",function(l){c+=l}),u.on("end",function(){WL.info(e.TAG,c);var l=e.correlationIdPrefix+c;e.completedLookups[i]=l,e.pendingLookups[i]&&e.pendingLookups[i].forEach(function(d){return d(l)}),delete e.pendingLookups[i]})}else if(u.statusCode>=400&&u.statusCode<500)e.completedLookups[i]=void 0,delete e.pendingLookups[i];else return;e._handle&&(clearTimeout(e._handle),e._handle=void 0)},!0,!1);a&&(a.setTimeout(e.HTTP_TIMEOUT,function(){r._requestTimedOut=!0,a.abort()}),a.on("error",function(u){r._requestTimedOut&&(u.name="telemetry timeout",u.message="telemetry request timed out"),WL.warn(e.TAG,u),r._handle&&(clearTimeout(e._handle),e._handle=void 0)}),a.end())}};e._handle||(e._handle=setTimeout(o,t.correlationIdRetryIntervalMs),e._handle.unref()),setImmediate(o)},e.cancelCorrelationIdQuery=function(t,n){var r=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",i=e.pendingLookups[r];i&&(e.pendingLookups[r]=i.filter(function(o){return o!=n}),e.pendingLookups[r].length==0&&delete e.pendingLookups[r])},e.generateRequestId=function(t){if(t){t=t[0]=="|"?t:"|"+t,t[t.length-1]!=="."&&(t+=".");var n=(e.currentRootId++).toString(16);return e.appendSuffix(t,n,"_")}else return e.generateRootId()},e.getRootId=function(t){var n=t.indexOf(".");n<0&&(n=t.length);var r=t[0]==="|"?1:0;return t.substring(r,n)},e.generateRootId=function(){return"|"+jS.w3cTraceId()+"."},e.appendSuffix=function(t,n,r){if(t.length+n.length<e.requestIdMaxLength)return t+n+r;var i=e.requestIdMaxLength-9;if(t.length>i)for(;i>1;--i){var o=t[i-1];if(o==="."||o==="_")break}if(i<=1)return e.generateRootId();for(n=jS.randomu32().toString(16);n.length<8;)n="0"+n;return t.substring(0,i)+n+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!0,e.HTTP_TIMEOUT=2500,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=jS.randomu32(),e}();X9.exports=Fbe});var HS=w((q7e,Q9)=>{"use strict";var Kn=Yn(),Mbe=Ud(),Ube=function(){function e(t,n){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&typeof t=="string")if(t.split(",").length>1)this.traceId=Kn.w3cTraceId(),this.spanId=Kn.w3cTraceId().substr(0,16);else{var r=t.trim().split("-"),i=r.length;i>=4?(this.version=r[0],this.traceId=r[1],this.spanId=r[2],this.traceFlag=r[3]):(this.traceId=Kn.w3cTraceId(),this.spanId=Kn.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=Kn.w3cTraceId()),this.version==="00"&&i!==4&&(this.traceId=Kn.w3cTraceId(),this.spanId=Kn.w3cTraceId().substr(0,16)),this.version==="ff"&&(this.version=e.DEFAULT_VERSION,this.traceId=Kn.w3cTraceId(),this.spanId=Kn.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=Kn.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=Kn.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=Kn.w3cTraceId().substr(0,16),this.traceId=Kn.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(n){this.parentId=n.slice();var o=Mbe.getRootId(n);e.isValidTraceId(o)||(this.legacyRootId=o,o=Kn.w3cTraceId()),n.indexOf("|")!==-1&&(n=n.substring(1+n.substring(0,n.length-1).lastIndexOf("."),n.length-1)),this.traceId=o,this.spanId=n}else this.traceId=Kn.w3cTraceId(),this.spanId=Kn.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(t){return t.match(/^[0-9a-f]{32}$/)&&t!=="00000000000000000000000000000000"},e.isValidSpanId=function(t){return t.match(/^[0-9a-f]{16}$/)&&t!=="0000000000000000"},e.formatOpenTelemetryTraceFlags=function(t){var n="0"+t.toString(16);return n.substring(n.length-2)},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=Kn.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();Q9.exports=Ube});var GL=w(($7e,J9)=>{"use strict";var qbe=function(){function e(t){this.fieldmap=[],t&&(this.fieldmap=this.parseHeader(t))}return e.prototype.toString=function(){var t=this.fieldmap;return!t||t.length==0?null:t.join(", ")},e.validateKeyChars=function(t){var n=t.split("@");if(n.length==2){var r=n[0].trim(),i=n[1].trim(),o=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),s=Boolean(i.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return o&&s}else if(n.length==1)return Boolean(t.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/));return!1},e.prototype.parseHeader=function(t){var n=[],r={},i=t.split(",");if(i.length>32)return null;for(var o=0,s=i;o<s.length;o++){var a=s[o],u=a.trim();if(u.length!==0){var c=u.split("=");if(c.length!==2||!e.validateKeyChars(c[0])||r[c[0]])return null;r[c[0]]=!0,n.push(u)}}return n},e.strict=!0,e}();J9.exports=qbe});var tc=w((j7e,Z9)=>{"use strict";var $be=function(){function e(){}return e}();Z9.exports=$be});var tX=w((zL,eX)=>{"use strict";var jbe=zL&&zL.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hbe=tc(),Bbe=function(e){jbe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return t}(Hbe);eX.exports=Bbe});var YL=w((H7e,nX)=>{"use strict";var Vbe=function(){function e(){}return e}();nX.exports=Vbe});var iX=w((B7e,rX)=>{"use strict";var Wbe=function(){function e(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}return e}();rX.exports=Wbe});var sX=w((KL,oX)=>{"use strict";var Gbe=KL&&KL.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zbe=YL(),Ybe=function(e){Gbe(t,e);function t(){return e.call(this)||this}return t}(zbe);oX.exports=Ybe});var QL=w((V7e,aX)=>{"use strict";var XL;(function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"})(XL||(XL={}));aX.exports=XL});var uX=w((W7e,cX)=>{"use strict";var Kbe=QL(),Xbe=function(){function e(){this.kind=Kbe.Measurement}return e}();cX.exports=Xbe});var dX=w((G7e,lX)=>{"use strict";var Qbe=function(){function e(){this.ver=1,this.sampleRate=100,this.tags={}}return e}();lX.exports=Qbe});var ZL=w((JL,pX)=>{"use strict";var Jbe=JL&&JL.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zbe=tc(),eCe=function(e){Jbe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return t}(Zbe);pX.exports=eCe});var mX=w((eF,fX)=>{"use strict";var tCe=eF&&eF.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nCe=tc(),rCe=function(e){tCe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.exceptions=[],n.properties={},n.measurements={},n}return t}(nCe);fX.exports=rCe});var gX=w((z7e,hX)=>{"use strict";var iCe=function(){function e(){this.hasFullStack=!0,this.parsedStack=[]}return e}();hX.exports=iCe});var yX=w((tF,vX)=>{"use strict";var oCe=tF&&tF.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sCe=tc(),aCe=function(e){oCe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n}return t}(sCe);vX.exports=aCe});var wX=w((nF,xX)=>{"use strict";var cCe=nF&&nF.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),uCe=tc(),lCe=function(e){cCe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.metrics=[],n.properties={},n}return t}(uCe);xX.exports=lCe});var _X=w((rF,EX)=>{"use strict";var dCe=rF&&rF.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pCe=ZL(),fCe=function(e){dCe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return t}(pCe);EX.exports=fCe});var CX=w((iF,bX)=>{"use strict";var mCe=iF&&iF.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hCe=tc(),gCe=function(e){mCe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.success=!0,n.properties={},n.measurements={},n}return t}(hCe);bX.exports=gCe});var TX=w((oF,SX)=>{"use strict";var vCe=oF&&oF.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yCe=tc(),xCe=function(e){vCe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return t}(yCe);SX.exports=xCe});var PX=w((Y7e,IX)=>{"use strict";var sF;(function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"})(sF||(sF={}));IX.exports=sF});var AX=w((K7e,RX)=>{"use strict";var wCe=function(){function e(){}return e}();RX.exports=wCe});var aF=w(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.AvailabilityData=tX();wn.Base=YL();wn.ContextTagKeys=iX();wn.Data=sX();wn.DataPoint=uX();wn.DataPointType=QL();wn.Domain=tc();wn.Envelope=dX();wn.EventData=ZL();wn.ExceptionData=mX();wn.ExceptionDetails=gX();wn.MessageData=yX();wn.MetricData=wX();wn.PageViewData=_X();wn.RemoteDependencyData=CX();wn.RequestData=TX();wn.SeverityLevel=PX();wn.StackFrame=AX()});var DX=w(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.domainSupportsProperties=Ym.RemoteDependencyDataConstants=void 0;var qd=aF(),ECe=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();Ym.RemoteDependencyDataConstants=ECe;function _Ce(e){return"properties"in e||e instanceof qd.EventData||e instanceof qd.ExceptionData||e instanceof qd.MessageData||e instanceof qd.MetricData||e instanceof qd.PageViewData||e instanceof qd.RemoteDependencyData||e instanceof qd.RequestData}Ym.domainSupportsProperties=_Ce});var OX=w(kX=>{"use strict";Object.defineProperty(kX,"__esModule",{value:!0})});var LX=w(NX=>{"use strict";Object.defineProperty(NX,"__esModule",{value:!0})});var MX=w(FX=>{"use strict";Object.defineProperty(FX,"__esModule",{value:!0})});var qX=w(UX=>{"use strict";Object.defineProperty(UX,"__esModule",{value:!0})});var jX=w($X=>{"use strict";Object.defineProperty($X,"__esModule",{value:!0})});var BX=w(HX=>{"use strict";Object.defineProperty(HX,"__esModule",{value:!0})});var WX=w(VX=>{"use strict";Object.defineProperty(VX,"__esModule",{value:!0})});var zX=w(GX=>{"use strict";Object.defineProperty(GX,"__esModule",{value:!0})});var KX=w(YX=>{"use strict";Object.defineProperty(YX,"__esModule",{value:!0})});var QX=w(XX=>{"use strict";Object.defineProperty(XX,"__esModule",{value:!0})});var ZX=w(JX=>{"use strict";Object.defineProperty(JX,"__esModule",{value:!0})});var t7=w(e7=>{"use strict";Object.defineProperty(e7,"__esModule",{value:!0})});var n7=w(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.TelemetryType=ps.TelemetryTypeString=ps.baseTypeToTelemetryType=ps.telemetryTypeToBaseType=void 0;function bCe(e){switch(e){case Xn.Event:return"EventData";case Xn.Exception:return"ExceptionData";case Xn.Trace:return"MessageData";case Xn.Metric:return"MetricData";case Xn.Request:return"RequestData";case Xn.Dependency:return"RemoteDependencyData";case Xn.Availability:return"AvailabilityData";case Xn.PageView:return"PageViewData"}}ps.telemetryTypeToBaseType=bCe;function CCe(e){switch(e){case"EventData":return Xn.Event;case"ExceptionData":return Xn.Exception;case"MessageData":return Xn.Trace;case"MetricData":return Xn.Metric;case"RequestData":return Xn.Request;case"RemoteDependencyData":return Xn.Dependency;case"AvailabilityData":return Xn.Availability;case"PageViewData":return Xn.PageView}}ps.baseTypeToTelemetryType=CCe;ps.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"};var Xn;(function(e){e[e.Event=0]="Event",e[e.Exception=1]="Exception",e[e.Trace=2]="Trace",e[e.Metric=3]="Metric",e[e.Request=4]="Request",e[e.Dependency=5]="Dependency",e[e.Availability=6]="Availability",e[e.PageView=7]="PageView"})(Xn=ps.TelemetryType||(ps.TelemetryType={}))});var r7=w(An=>{"use strict";var SCe=An&&An.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Oi=An&&An.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&SCe(t,e,n)};Object.defineProperty(An,"__esModule",{value:!0});Oi(OX(),An);Oi(LX(),An);Oi(MX(),An);Oi(qX(),An);Oi(jX(),An);Oi(BX(),An);Oi(WX(),An);Oi(zX(),An);Oi(KX(),An);Oi(QX(),An);Oi(ZX(),An);Oi(t7(),An);Oi(n7(),An)});var o7=w(i7=>{"use strict";Object.defineProperty(i7,"__esModule",{value:!0})});var a7=w(s7=>{"use strict";Object.defineProperty(s7,"__esModule",{value:!0})});var u7=w(c7=>{"use strict";Object.defineProperty(c7,"__esModule",{value:!0})});var d7=w(l7=>{"use strict";Object.defineProperty(l7,"__esModule",{value:!0})});var f7=w(p7=>{"use strict";Object.defineProperty(p7,"__esModule",{value:!0})});var h7=w(m7=>{"use strict";Object.defineProperty(m7,"__esModule",{value:!0})});var v7=w(g7=>{"use strict";Object.defineProperty(g7,"__esModule",{value:!0})});var x7=w(y7=>{"use strict";Object.defineProperty(y7,"__esModule",{value:!0})});var w7=w(ri=>{"use strict";var TCe=ri&&ri.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Ru=ri&&ri.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&TCe(t,e,n)};Object.defineProperty(ri,"__esModule",{value:!0});Ru(o7(),ri);Ru(a7(),ri);Ru(u7(),ri);Ru(d7(),ri);Ru(f7(),ri);Ru(h7(),ri);Ru(v7(),ri);Ru(x7(),ri)});var lr=w(Qs=>{"use strict";var ICe=Qs&&Qs.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),BS=Qs&&Qs.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&ICe(t,e,n)};Object.defineProperty(Qs,"__esModule",{value:!0});BS(DX(),Qs);BS(aF(),Qs);BS(r7(),Qs);BS(w7(),Qs)});var cF=w((_Qe,E7)=>{"use strict";var PCe=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(t,n){var r=+new Date;this.duration=r-this.startTime,this.statusCode=t;var i=this.properties||{};if(n){if(typeof n=="string")i.error=n;else if(n instanceof Error)i.error=n.message;else if(typeof n=="object")for(var o in n)i[o]=n[o]&&n[o].toString&&n[o].toString()}this.properties=i},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();E7.exports=PCe});var dF=w((lF,b7)=>{"use strict";var RCe=lF&&lF.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),VS=require("url"),ACe=lr(),_7=Yn(),Ni=Gm(),DCe=cF(),Au=Ud(),kCe=GL(),uF=HS(),OCe=function(e){RCe(t,e);function t(n,r){var i=e.call(this)||this;return n&&(i.method=n.method,i.url=i._getAbsoluteUrl(n),i.startTime=+new Date,i.socketRemoteAddress=n.socket&&n.socket.remoteAddress,i.parseHeaders(n,r),n.connection&&(i.connectionRemoteAddress=n.connection.remoteAddress,i.legacySocketRemoteAddress=n.connection.socket&&n.connection.socket.remoteAddress)),i}return t.prototype.onError=function(n,r){this._setStatus(void 0,n),r&&(this.duration=r)},t.prototype.onResponse=function(n,r){this._setStatus(n.statusCode,void 0),r&&(this.duration=r)},t.prototype.getRequestTelemetry=function(n){var r=this.method;try{r+=" "+new VS.URL(this.url).pathname}catch{}var i={id:this.requestId,name:r,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(n&&n.time?i.time=n.time:this.startTime&&(i.time=new Date(this.startTime)),n){for(var o in n)i[o]||(i[o]=n[o]);if(n.properties)for(var o in n.properties)i.properties[o]=n.properties[o]}return i},t.prototype.getRequestTags=function(n){var r={};for(var i in n)r[i]=n[i];return r[t.keys.locationIp]=n[t.keys.locationIp]||this._getIp(),r[t.keys.sessionId]=n[t.keys.sessionId]||this._getId("ai_session"),r[t.keys.userId]=n[t.keys.userId]||this._getId("ai_user"),r[t.keys.userAuthUserId]=n[t.keys.userAuthUserId]||this._getId("ai_authUser"),r[t.keys.operationName]=this.getOperationName(n),r[t.keys.operationParentId]=this.getOperationParentId(n),r[t.keys.operationId]=this.getOperationId(n),r},t.prototype.getOperationId=function(n){return n[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(n){return n[t.keys.operationParentId]||this.parentId||this.getOperationId(n)},t.prototype.getOperationName=function(n){if(n[t.keys.operationName])return n[t.keys.operationName];var r="";try{r=new VS.URL(this.url).pathname}catch{}var i=this.method;return r&&(i+=" "+r),i},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(n){if(!n.headers)return n.url;var r=n.connection?n.connection.encrypted:null,i=r||n.headers["x-forwarded-proto"]=="https"?"https":"http",o=i+"://"+n.headers.host+"/",s="",a="";try{var u=new VS.URL(n.url,o);s=u.pathname,a=u.search}catch{}var c=VS.format({protocol:i,host:n.headers.host,pathname:s,search:a});return c},t.prototype._getIp=function(){var n=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,r=function(o){var s=n.exec(o);if(s)return s[0]},i=r(this.rawHeaders["x-forwarded-for"])||r(this.rawHeaders["x-client-ip"])||r(this.rawHeaders["x-real-ip"])||r(this.connectionRemoteAddress)||r(this.socketRemoteAddress)||r(this.legacySocketRemoteAddress);return!i&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&this.connectionRemoteAddress.substr(0,2)==="::"&&(i="127.0.0.1"),i},t.prototype._getId=function(n){var r=this.rawHeaders&&this.rawHeaders.cookie&&typeof this.rawHeaders.cookie=="string"&&this.rawHeaders.cookie||"",i=t.parseId(_7.getCookie(n,r));return i},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(n,r){if(this.rawHeaders=n.headers||n.rawHeaders,this.userAgent=n.headers&&n.headers["user-agent"],this.sourceCorrelationId=_7.getCorrelationContextTarget(n,Ni.requestContextSourceKey),n.headers){var i=n.headers[Ni.traceStateHeader]?n.headers[Ni.traceStateHeader].toString():null,o=n.headers[Ni.traceparentHeader]?n.headers[Ni.traceparentHeader].toString():null,s=n.headers[Ni.requestIdHeader]?n.headers[Ni.requestIdHeader].toString():null,a=n.headers[Ni.parentIdHeader]?n.headers[Ni.parentIdHeader].toString():null,u=n.headers[Ni.rootIdHeader]?n.headers[Ni.rootIdHeader].toString():null;this.correlationContextHeader=n.headers[Ni.correlationContextHeader]?n.headers[Ni.correlationContextHeader].toString():null,Au.w3cEnabled&&(o||i)?(this.traceparent=new uF(o?o.toString():null),this.tracestate=o&&i&&new kCe(i?i.toString():null),this.setBackCompatFromThisTraceContext()):s?Au.w3cEnabled?(this.traceparent=new uF(null,s),this.setBackCompatFromThisTraceContext()):(this.parentId=s,this.requestId=Au.generateRequestId(this.parentId),this.operationId=Au.getRootId(this.requestId)):Au.w3cEnabled?(this.traceparent=new uF,this.traceparent.parentId=a,this.traceparent.legacyRootId=u||a,this.setBackCompatFromThisTraceContext()):(this.parentId=a,this.requestId=Au.generateRequestId(u||this.parentId),this.correlationContextHeader=null,this.operationId=Au.getRootId(this.requestId)),r&&(this.requestId=r,this.operationId=Au.getRootId(this.requestId))}},t.parseId=function(n){var r=n.split("|");return r.length>0?r[0]:""},t.keys=new ACe.ContextTagKeys,t}(DCe);b7.exports=OCe});var $7=w((Pe,q7)=>{Pe=q7.exports=Ye;var pt;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?pt=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:pt=function(){};Pe.SEMVER_SPEC_VERSION="2.0.0";var fF=256,WS=Number.MAX_SAFE_INTEGER||9007199254740991,pF=16,yt=Pe.re=[],Y=Pe.src=[],We=0,Km=We++;Y[Km]="0|[1-9]\\d*";var Xm=We++;Y[Xm]="[0-9]+";var vF=We++;Y[vF]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var S7=We++;Y[S7]="("+Y[Km]+")\\.("+Y[Km]+")\\.("+Y[Km]+")";var T7=We++;Y[T7]="("+Y[Xm]+")\\.("+Y[Xm]+")\\.("+Y[Xm]+")";var mF=We++;Y[mF]="(?:"+Y[Km]+"|"+Y[vF]+")";var hF=We++;Y[hF]="(?:"+Y[Xm]+"|"+Y[vF]+")";var yF=We++;Y[yF]="(?:-("+Y[mF]+"(?:\\."+Y[mF]+")*))";var xF=We++;Y[xF]="(?:-?("+Y[hF]+"(?:\\."+Y[hF]+")*))";var gF=We++;Y[gF]="[0-9A-Za-z-]+";var rx=We++;Y[rx]="(?:\\+("+Y[gF]+"(?:\\."+Y[gF]+")*))";var wF=We++,I7="v?"+Y[S7]+Y[yF]+"?"+Y[rx]+"?";Y[wF]="^"+I7+"$";var EF="[v=\\s]*"+Y[T7]+Y[xF]+"?"+Y[rx]+"?",_F=We++;Y[_F]="^"+EF+"$";var Zm=We++;Y[Zm]="((?:<|>)?=?)";var GS=We++;Y[GS]=Y[Xm]+"|x|X|\\*";var zS=We++;Y[zS]=Y[Km]+"|x|X|\\*";var $d=We++;Y[$d]="[v=\\s]*("+Y[zS]+")(?:\\.("+Y[zS]+")(?:\\.("+Y[zS]+")(?:"+Y[yF]+")?"+Y[rx]+"?)?)?";var Jm=We++;Y[Jm]="[v=\\s]*("+Y[GS]+")(?:\\.("+Y[GS]+")(?:\\.("+Y[GS]+")(?:"+Y[xF]+")?"+Y[rx]+"?)?)?";var P7=We++;Y[P7]="^"+Y[Zm]+"\\s*"+Y[$d]+"$";var R7=We++;Y[R7]="^"+Y[Zm]+"\\s*"+Y[Jm]+"$";var A7=We++;Y[A7]="(?:^|[^\\d])(\\d{1,"+pF+"})(?:\\.(\\d{1,"+pF+"}))?(?:\\.(\\d{1,"+pF+"}))?(?:$|[^\\d])";var ZS=We++;Y[ZS]="(?:~>?)";var YS=We++;Y[YS]="(\\s*)"+Y[ZS]+"\\s+";yt[YS]=new RegExp(Y[YS],"g");var NCe="$1~",D7=We++;Y[D7]="^"+Y[ZS]+Y[$d]+"$";var k7=We++;Y[k7]="^"+Y[ZS]+Y[Jm]+"$";var eT=We++;Y[eT]="(?:\\^)";var KS=We++;Y[KS]="(\\s*)"+Y[eT]+"\\s+";yt[KS]=new RegExp(Y[KS],"g");var LCe="$1^",O7=We++;Y[O7]="^"+Y[eT]+Y[$d]+"$";var N7=We++;Y[N7]="^"+Y[eT]+Y[Jm]+"$";var bF=We++;Y[bF]="^"+Y[Zm]+"\\s*("+EF+")$|^$";var CF=We++;Y[CF]="^"+Y[Zm]+"\\s*("+I7+")$|^$";var tx=We++;Y[tx]="(\\s*)"+Y[Zm]+"\\s*("+EF+"|"+Y[$d]+")";yt[tx]=new RegExp(Y[tx],"g");var FCe="$1$2$3",L7=We++;Y[L7]="^\\s*("+Y[$d]+")\\s+-\\s+("+Y[$d]+")\\s*$";var F7=We++;Y[F7]="^\\s*("+Y[Jm]+")\\s+-\\s+("+Y[Jm]+")\\s*$";var M7=We++;Y[M7]="(<|>)?=?\\s*\\*";for(Du=0;Du<We;Du++)pt(Du,Y[Du]),yt[Du]||(yt[Du]=new RegExp(Y[Du]));var Du;Pe.parse=jd;function jd(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Ye)return e;if(typeof e!="string"||e.length>fF)return null;var n=t.loose?yt[_F]:yt[wF];if(!n.test(e))return null;try{return new Ye(e,t)}catch{return null}}Pe.valid=MCe;function MCe(e,t){var n=jd(e,t);return n?n.version:null}Pe.clean=UCe;function UCe(e,t){var n=jd(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}Pe.SemVer=Ye;function Ye(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Ye){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>fF)throw new TypeError("version is longer than "+fF+" characters");if(!(this instanceof Ye))return new Ye(e,t);pt("SemVer",e,t),this.options=t,this.loose=!!t.loose;var n=e.trim().match(t.loose?yt[_F]:yt[wF]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>WS||this.major<0)throw new TypeError("Invalid major version");if(this.minor>WS||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>WS||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<WS)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}Ye.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};Ye.prototype.toString=function(){return this.version};Ye.prototype.compare=function(e){return pt("SemVer.compare",this.version,this.options,e),e instanceof Ye||(e=new Ye(e,this.options)),this.compareMain(e)||this.comparePre(e)};Ye.prototype.compareMain=function(e){return e instanceof Ye||(e=new Ye(e,this.options)),Qm(this.major,e.major)||Qm(this.minor,e.minor)||Qm(this.patch,e.patch)};Ye.prototype.comparePre=function(e){if(e instanceof Ye||(e=new Ye(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],r=e.prerelease[t];if(pt("prerelease compare",t,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Qm(n,r)}while(++t)};Ye.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};Pe.inc=qCe;function qCe(e,t,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new Ye(e,n).inc(t,r).version}catch{return null}}Pe.diff=$Ce;function $Ce(e,t){if(SF(e,t))return null;var n=jd(e),r=jd(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if((s==="major"||s==="minor"||s==="patch")&&n[s]!==r[s])return i+s;return o}Pe.compareIdentifiers=Qm;var C7=/^[0-9]+$/;function Qm(e,t){var n=C7.test(e),r=C7.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}Pe.rcompareIdentifiers=jCe;function jCe(e,t){return Qm(t,e)}Pe.major=HCe;function HCe(e,t){return new Ye(e,t).major}Pe.minor=BCe;function BCe(e,t){return new Ye(e,t).minor}Pe.patch=VCe;function VCe(e,t){return new Ye(e,t).patch}Pe.compare=nc;function nc(e,t,n){return new Ye(e,n).compare(new Ye(t,n))}Pe.compareLoose=WCe;function WCe(e,t){return nc(e,t,!0)}Pe.rcompare=GCe;function GCe(e,t,n){return nc(t,e,n)}Pe.sort=zCe;function zCe(e,t){return e.sort(function(n,r){return Pe.compare(n,r,t)})}Pe.rsort=YCe;function YCe(e,t){return e.sort(function(n,r){return Pe.rcompare(n,r,t)})}Pe.gt=nx;function nx(e,t,n){return nc(e,t,n)>0}Pe.lt=XS;function XS(e,t,n){return nc(e,t,n)<0}Pe.eq=SF;function SF(e,t,n){return nc(e,t,n)===0}Pe.neq=U7;function U7(e,t,n){return nc(e,t,n)!==0}Pe.gte=TF;function TF(e,t,n){return nc(e,t,n)>=0}Pe.lte=IF;function IF(e,t,n){return nc(e,t,n)<=0}Pe.cmp=QS;function QS(e,t,n,r){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return SF(e,n,r);case"!=":return U7(e,n,r);case">":return nx(e,n,r);case">=":return TF(e,n,r);case"<":return XS(e,n,r);case"<=":return IF(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}Pe.Comparator=xo;function xo(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof xo){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof xo))return new xo(e,t);pt("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ix?this.value="":this.value=this.operator+this.semver.version,pt("comp",this)}var ix={};xo.prototype.parse=function(e){var t=this.options.loose?yt[bF]:yt[CF],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],this.operator==="="&&(this.operator=""),n[2]?this.semver=new Ye(n[2],this.options.loose):this.semver=ix};xo.prototype.toString=function(){return this.value};xo.prototype.test=function(e){return pt("Comparator.test",e,this.options.loose),this.semver===ix?!0:(typeof e=="string"&&(e=new Ye(e,this.options)),QS(e,this.operator,this.semver,this.options))};xo.prototype.intersects=function(e,t){if(!(e instanceof xo))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var n;if(this.operator==="")return n=new Wt(e.value,t),JS(this.value,n,t);if(e.operator==="")return n=new Wt(this.value,t),JS(e.semver,n,t);var r=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,s=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=QS(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=QS(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||i||o&&s||a||u};Pe.Range=Wt;function Wt(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Wt)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Wt(e.raw,t);if(e instanceof xo)return new Wt(e.value,t);if(!(this instanceof Wt))return new Wt(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim())},this).filter(function(n){return n.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}Wt.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};Wt.prototype.toString=function(){return this.range};Wt.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?yt[F7]:yt[L7];e=e.replace(n,iSe),pt("hyphen replace",e),e=e.replace(yt[tx],FCe),pt("comparator trim",e,yt[tx]),e=e.replace(yt[YS],NCe),e=e.replace(yt[KS],LCe),e=e.split(/\s+/).join(" ");var r=t?yt[bF]:yt[CF],i=e.split(" ").map(function(o){return XCe(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(r)})),i=i.map(function(o){return new xo(o,this.options)},this),i};Wt.prototype.intersects=function(e,t){if(!(e instanceof Wt))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(r){return e.set.some(function(i){return i.every(function(o){return r.intersects(o,t)})})})})};Pe.toComparators=KCe;function KCe(e,t){return new Wt(e,t).set.map(function(n){return n.map(function(r){return r.value}).join(" ").trim().split(" ")})}function XCe(e,t){return pt("comp",e,t),e=ZCe(e,t),pt("caret",e),e=QCe(e,t),pt("tildes",e),e=tSe(e,t),pt("xrange",e),e=rSe(e,t),pt("stars",e),e}function Pr(e){return!e||e.toLowerCase()==="x"||e==="*"}function QCe(e,t){return e.trim().split(/\s+/).map(function(n){return JCe(n,t)}).join(" ")}function JCe(e,t){var n=t.loose?yt[k7]:yt[D7];return e.replace(n,function(r,i,o,s,a){pt("tilde",e,r,i,o,s,a);var u;return Pr(i)?u="":Pr(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Pr(s)?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(pt("replaceTilde pr",a),u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",pt("tilde return",u),u})}function ZCe(e,t){return e.trim().split(/\s+/).map(function(n){return eSe(n,t)}).join(" ")}function eSe(e,t){pt("caret",e,t);var n=t.loose?yt[N7]:yt[O7];return e.replace(n,function(r,i,o,s,a){pt("caret",e,r,i,o,s,a);var u;return Pr(i)?u="":Pr(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Pr(s)?i==="0"?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(pt("replaceCaret pr",a),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(pt("no pr"),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),pt("caret return",u),u})}function tSe(e,t){return pt("replaceXRanges",e,t),e.split(/\s+/).map(function(n){return nSe(n,t)}).join(" ")}function nSe(e,t){e=e.trim();var n=t.loose?yt[R7]:yt[P7];return e.replace(n,function(r,i,o,s,a,u){pt("xRange",e,r,i,o,s,a,u);var c=Pr(o),l=c||Pr(s),d=l||Pr(a),p=d;return i==="="&&p&&(i=""),c?i===">"||i==="<"?r="<0.0.0":r="*":i&&p?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),r=i+o+"."+s+"."+a):l?r=">="+o+".0.0 <"+(+o+1)+".0.0":d&&(r=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),pt("xRange return",r),r})}function rSe(e,t){return pt("replaceStars",e,t),e.trim().replace(yt[M7],"")}function iSe(e,t,n,r,i,o,s,a,u,c,l,d,p){return Pr(n)?t="":Pr(r)?t=">="+n+".0.0":Pr(i)?t=">="+n+"."+r+".0":t=">="+t,Pr(u)?a="":Pr(c)?a="<"+(+u+1)+".0.0":Pr(l)?a="<"+u+"."+(+c+1)+".0":d?a="<="+u+"."+c+"."+l+"-"+d:a="<="+a,(t+" "+a).trim()}Wt.prototype.test=function(e){if(!e)return!1;typeof e=="string"&&(e=new Ye(e,this.options));for(var t=0;t<this.set.length;t++)if(oSe(this.set[t],e,this.options))return!0;return!1};function oSe(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(r=0;r<e.length;r++)if(pt(e[r].semver),e[r].semver!==ix&&e[r].semver.prerelease.length>0){var i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}Pe.satisfies=JS;function JS(e,t,n){try{t=new Wt(t,n)}catch{return!1}return t.test(e)}Pe.maxSatisfying=sSe;function sSe(e,t,n){var r=null,i=null;try{var o=new Wt(t,n)}catch{return null}return e.forEach(function(s){o.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new Ye(r,n))}),r}Pe.minSatisfying=aSe;function aSe(e,t,n){var r=null,i=null;try{var o=new Wt(t,n)}catch{return null}return e.forEach(function(s){o.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new Ye(r,n))}),r}Pe.minVersion=cSe;function cSe(e,t){e=new Wt(e,t);var n=new Ye("0.0.0");if(e.test(n)||(n=new Ye("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r){var i=e.set[r];i.forEach(function(o){var s=new Ye(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!n||nx(n,s))&&(n=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return n&&e.test(n)?n:null}Pe.validRange=uSe;function uSe(e,t){try{return new Wt(e,t).range||"*"}catch{return null}}Pe.ltr=lSe;function lSe(e,t,n){return PF(e,t,"<",n)}Pe.gtr=dSe;function dSe(e,t,n){return PF(e,t,">",n)}Pe.outside=PF;function PF(e,t,n,r){e=new Ye(e,r),t=new Wt(t,r);var i,o,s,a,u;switch(n){case">":i=nx,o=IF,s=XS,a=">",u=">=";break;case"<":i=XS,o=TF,s=nx,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(JS(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],d=null,p=null;if(l.forEach(function(f){f.semver===ix&&(f=new xo(">=0.0.0")),d=d||f,p=p||f,i(f.semver,d.semver,r)?d=f:s(f.semver,p.semver,r)&&(p=f)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===u&&s(e,p.semver))return!1}return!0}Pe.prerelease=pSe;function pSe(e,t){var n=jd(e,t);return n&&n.prerelease.length?n.prerelease:null}Pe.intersects=fSe;function fSe(e,t,n){return e=new Wt(e,n),t=new Wt(t,n),e.intersects(t)}Pe.coerce=mSe;function mSe(e){if(e instanceof Ye)return e;if(typeof e!="string")return null;var t=e.match(yt[A7]);return t==null?null:jd(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}});var tT=w((bQe,B7)=>{"use strict";function RF(e){return typeof e=="function"}var Rr=console.error.bind(console);function ox(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function sx(e){e&&e.logger&&(RF(e.logger)?Rr=e.logger:Rr("new logger isn't a function, not replacing"))}function j7(e,t,n){if(!e||!e[t]){Rr("no original function "+t+" to wrap");return}if(!n){Rr("no wrapper function"),Rr(new Error().stack);return}if(!RF(e[t])||!RF(n)){Rr("original object and wrapper must be functions");return}var r=e[t],i=n(r,t);return ox(i,"__original",r),ox(i,"__unwrap",function(){e[t]===i&&ox(e,t,r)}),ox(i,"__wrapped",!0),ox(e,t,i),i}function hSe(e,t,n){if(e)Array.isArray(e)||(e=[e]);else{Rr("must provide one or more modules to patch"),Rr(new Error().stack);return}if(!(t&&Array.isArray(t))){Rr("must provide one or more functions to wrap on modules");return}e.forEach(function(r){t.forEach(function(i){j7(r,i,n)})})}function H7(e,t){if(!e||!e[t]){Rr("no function to unwrap."),Rr(new Error().stack);return}if(!e[t].__unwrap)Rr("no original to unwrap to -- has "+t+" already been unwrapped?");else return e[t].__unwrap()}function gSe(e,t){if(e)Array.isArray(e)||(e=[e]);else{Rr("must provide one or more modules to patch"),Rr(new Error().stack);return}if(!(t&&Array.isArray(t))){Rr("must provide one or more functions to unwrap on modules");return}e.forEach(function(n){t.forEach(function(r){H7(n,r)})})}sx.wrap=j7;sx.massWrap=hSe;sx.unwrap=H7;sx.massUnwrap=gSe;B7.exports=sx});var iT=w((CQe,z7)=>{"use strict";var W7=tT(),eh=W7.wrap,nT=W7.unwrap,rc="wrap@before";function rT(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function vSe(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r],o=e[rc];if(typeof o=="function")o(i);else if(Array.isArray(o))for(var s=o.length,a=0;a<s;a++)o[a](i)}}function G7(e,t){var n;return n=e._events&&e._events[t],Array.isArray(n)||(n?n=[n]:n=[]),n}function ySe(e,t,n){var r=G7(e,t),i=r.filter(function(o){return n.indexOf(o)===-1});i.length>0&&vSe(e,i)}function V7(e,t){if(!!e){var n=e;if(typeof e=="function")n=t(e);else if(Array.isArray(e)){n=[];for(var r=0;r<e.length;r++)n[r]=t(e[r])}return n}}z7.exports=function(t,n,r){if(!t||!t.on||!t.addListener||!t.removeListener||!t.emit)throw new Error("can only wrap real EEs");if(!n)throw new Error("must have function to run on listener addition");if(!r)throw new Error("must have function to wrap listeners when emitting");function i(s){return function(u,c){var l=G7(this,u).slice();try{var d=s.call(this,u,c);return ySe(this,u,l),d}finally{this.on.__wrapped||eh(this,"on",i),this.addListener.__wrapped||eh(this,"addListener",i)}}}function o(s){return function(u){if(!this._events||!this._events[u])return s.apply(this,arguments);var c=this._events[u];function l(d){return function(){this._events[u]=c;try{return d.apply(this,arguments)}finally{c=this._events[u],this._events[u]=V7(c,r)}}}eh(this,"removeListener",l);try{return this._events[u]=V7(c,r),s.apply(this,arguments)}finally{nT(this,"removeListener"),this._events[u]=c}}}t[rc]?typeof t[rc]=="function"?rT(t,rc,[t[rc],n]):Array.isArray(t[rc])&&t[rc].push(n):rT(t,rc,n),t.__wrapped||(eh(t,"addListener",i),eh(t,"on",i),eh(t,"emit",o),rT(t,"__unwrap",function(){nT(t,"addListener"),nT(t,"on"),nT(t,"emit"),delete t[rc],delete t.__wrapped}),rT(t,"__wrapped",!0))}});var Q7=w((SQe,X7)=>{"use strict";var ct=require("util"),ic=require("assert"),xSe=iT(),At=require("async_hooks"),ax="cls@contexts",cx="error@context",Gt=process.env.DEBUG_CLS_HOOKED,at=-1;X7.exports={getNamespace:Y7,createNamespace:wSe,destroyNamespace:K7,reset:ESe,ERROR_SYMBOL:cx};function wo(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}wo.prototype.set=function(t,n){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[t]=n,Gt){let r=" ".repeat(this._indent<0?0:this._indent);Ut(r+"CONTEXT-SET KEY:"+t+"="+n+" in ns:"+this.name+" currentUid:"+at+" active:"+ct.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return n};wo.prototype.get=function(t){if(!this.active){if(Gt){let n=At.currentId(),r=At.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);Ut(`${i}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${t}=undefined currentUid:${at} asyncHooksCurrentId:${n} triggerId:${r} len:${this._set.length}`)}return}if(Gt){let n=At.executionAsyncId(),r=At.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);Ut(i+"CONTEXT-GETTING KEY:"+t+"="+this.active[t]+" ("+this.name+") currentUid:"+at+" active:"+ct.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),Ut(`${i}CONTEXT-GETTING KEY: (${this.name}) ${t}=${this.active[t]} currentUid:${at} asyncHooksCurrentId:${n} triggerId:${r} len:${this._set.length} active:${ct.inspect(this.active)}`)}return this.active[t]};wo.prototype.createContext=function(){let t=Object.create(this.active?this.active:Object.prototype);if(t._ns_name=this.name,t.id=at,Gt){let n=At.executionAsyncId(),r=At.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);Ut(`${i}CONTEXT-CREATED Context: (${this.name}) currentUid:${at} asyncHooksCurrentId:${n} triggerId:${r} len:${this._set.length} context:${ct.inspect(t,{showHidden:!0,depth:2,colors:!0})}`)}return t};wo.prototype.run=function(t){let n=this.createContext();this.enter(n);try{if(Gt){let r=At.triggerAsyncId(),i=At.executionAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);Ut(`${o}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${at} triggerId:${r} asyncHooksCurrentId:${i} len:${this._set.length} context:${ct.inspect(n)}`)}return t(n),n}catch(r){throw r&&(r[cx]=n),r}finally{if(Gt){let r=At.triggerAsyncId(),i=At.executionAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);Ut(`${o}CONTEXT-RUN END: (${this.name}) currentUid:${at} triggerId:${r} asyncHooksCurrentId:${i} len:${this._set.length} ${ct.inspect(n)}`)}this.exit(n)}};wo.prototype.runAndReturn=function(t){let n;return this.run(function(r){n=t(r)}),n};wo.prototype.runPromise=function(t){let n=this.createContext();this.enter(n);let r=t(n);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return Gt&&Ut("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+at+" len:"+this._set.length+" "+ct.inspect(n)),r.then(i=>(Gt&&Ut("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+at+" len:"+this._set.length+" "+ct.inspect(n)),this.exit(n),i)).catch(i=>{throw i[cx]=n,Gt&&Ut("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+at+" len:"+this._set.length+" "+ct.inspect(n)),this.exit(n),i})};wo.prototype.bind=function(t,n){n||(this.active?n=this.active:n=this.createContext());let r=this;return function(){r.enter(n);try{return t.apply(this,arguments)}catch(o){throw o&&(o[cx]=n),o}finally{r.exit(n)}}};wo.prototype.enter=function(t){if(ic.ok(t,"context must be provided for entering"),Gt){let n=At.executionAsyncId(),r=At.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);Ut(`${i}CONTEXT-ENTER: (${this.name}) currentUid:${at} triggerId:${r} asyncHooksCurrentId:${n} len:${this._set.length} ${ct.inspect(t)}`)}this._set.push(this.active),this.active=t};wo.prototype.exit=function(t){if(ic.ok(t,"context must be provided for exiting"),Gt){let r=At.executionAsyncId(),i=At.triggerAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);Ut(`${o}CONTEXT-EXIT: (${this.name}) currentUid:${at} triggerId:${i} asyncHooksCurrentId:${r} len:${this._set.length} ${ct.inspect(t)}`)}if(this.active===t){ic.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let n=this._set.lastIndexOf(t);n<0?(Gt&&Ut("??ERROR?? context exiting but not entered - ignoring: "+ct.inspect(t)),ic.ok(n>=0,`context not currently entered; can't exit. 
`+ct.inspect(this)+`
`+ct.inspect(t))):(ic.ok(n,"can't remove top context"),this._set.splice(n,1))};wo.prototype.bindEmitter=function(t){ic.ok(t.on&&t.addListener&&t.emit,"can only bind real EEs");let n=this,r="context@"+this.name;function i(s){!s||(s[ax]||(s[ax]=Object.create(null)),s[ax][r]={namespace:n,context:n.active})}function o(s){if(!(s&&s[ax]))return s;let a=s,u=s[ax];return Object.keys(u).forEach(function(c){let l=u[c];a=l.namespace.bind(a,l.context)}),a}xSe(t,i,o)};wo.prototype.fromException=function(t){return t[cx]};function Y7(e){return process.namespaces[e]}function wSe(e){ic.ok(e,"namespace must be given a name."),Gt&&Ut(`NS-CREATING NAMESPACE (${e})`);let t=new wo(e);return t.id=at,At.createHook({init(r,i,o,s){if(at=At.executionAsyncId(),t.active){if(t._contexts.set(r,t.active),Gt){let a=" ".repeat(t._indent<0?0:t._indent);Ut(`${a}INIT [${i}] (${e}) asyncId:${r} currentUid:${at} triggerId:${o} active:${ct.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}}else if(at===0){let a=At.triggerAsyncId(),u=t._contexts.get(a);if(u){if(t._contexts.set(r,u),Gt){let c=" ".repeat(t._indent<0?0:t._indent);Ut(`${c}INIT USING CONTEXT FROM TRIGGERID [${i}] (${e}) asyncId:${r} currentUid:${at} triggerId:${a} active:${ct.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}}else if(Gt){let c=" ".repeat(t._indent<0?0:t._indent);Ut(`${c}INIT MISSING CONTEXT [${i}] (${e}) asyncId:${r} currentUid:${at} triggerId:${a} active:${ct.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}}if(Gt&&i==="PROMISE"){Ut(ct.inspect(s,{showHidden:!0}));let a=s.parentId,u=" ".repeat(t._indent<0?0:t._indent);Ut(`${u}INIT RESOURCE-PROMISE [${i}] (${e}) parentId:${a} asyncId:${r} currentUid:${at} triggerId:${o} active:${ct.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}},before(r){at=At.executionAsyncId();let i;if(i=t._contexts.get(r)||t._contexts.get(at),i){if(Gt){let o=At.triggerAsyncId(),s=" ".repeat(t._indent<0?0:t._indent);Ut(`${s}BEFORE (${e}) asyncId:${r} currentUid:${at} triggerId:${o} active:${ct.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${ct.inspect(i)}`),t._indent+=2}t.enter(i)}else if(Gt){let o=At.triggerAsyncId(),s=" ".repeat(t._indent<0?0:t._indent);Ut(`${s}BEFORE MISSING CONTEXT (${e}) asyncId:${r} currentUid:${at} triggerId:${o} active:${ct.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${ct.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(r){at=At.executionAsyncId();let i;if(i=t._contexts.get(r)||t._contexts.get(at),i){if(Gt){let o=At.triggerAsyncId();t._indent-=2;let s=" ".repeat(t._indent<0?0:t._indent);Ut(`${s}AFTER (${e}) asyncId:${r} currentUid:${at} triggerId:${o} active:${ct.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${ct.inspect(i)}`)}t.exit(i)}else if(Gt){let o=At.triggerAsyncId();t._indent-=2;let s=" ".repeat(t._indent<0?0:t._indent);Ut(`${s}AFTER MISSING CONTEXT (${e}) asyncId:${r} currentUid:${at} triggerId:${o} active:${ct.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${ct.inspect(i)}`)}},destroy(r){if(at=At.executionAsyncId(),Gt){let i=At.triggerAsyncId(),o=" ".repeat(t._indent<0?0:t._indent);Ut(`${o}DESTROY (${e}) currentUid:${at} asyncId:${r} triggerId:${i} active:${ct.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${ct.inspect(t._contexts.get(at))}`)}t._contexts.delete(r)}}).enable(),process.namespaces[e]=t,t}function K7(e){let t=Y7(e);ic.ok(t,`can't delete nonexistent namespace! "`+e+'"'),ic.ok(t.id,"don't assign to process.namespaces directly! "+ct.inspect(t)),process.namespaces[e]=null}function ESe(){process.namespaces&&Object.keys(process.namespaces).forEach(function(e){K7(e)}),process.namespaces=Object.create(null)}process.namespaces={};function Ut(...e){Gt&&process._rawDebug(`${ct.format(...e)}`)}});var Z7=w((TQe,J7)=>{"use strict";function _Se(){}J7.exports=function(){let t=this._hooks,n=this._state,r=process.nextTick;process.nextTick=function(){if(!n.enabled)return r.apply(process,arguments);let i=new Array(arguments.length);for(let u=0;u<arguments.length;u++)i[u]=arguments[u];let o=i[0];if(typeof o!="function")throw new TypeError("callback is not a function");let s=new _Se,a=--n.counter;return t.init.call(s,a,0,null,null),i[0]=function(){t.pre.call(s,a);let u=!0;try{o.apply(this,arguments),u=!1}finally{u&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){t.post.call(s,a,!0),t.destroy.call(null,a)})}t.post.call(s,a,!1),t.destroy.call(null,a)},r.apply(process,i)}}});var tQ=w((IQe,eQ)=>{"use strict";function bSe(){}eQ.exports=function(){let t=this._hooks,n=this._state,r=global.Promise,i=r.prototype.then;r.prototype.then=u;function o(c,l,d,p){return typeof c!="function"?p?s(d):a(d):function(){t.pre.call(l,d);try{return c.apply(this,arguments)}finally{t.post.call(l,d,!1),t.destroy.call(null,d)}}}function s(c){return function(d){return t.destroy.call(null,c),d}}function a(c){return function(d){throw t.destroy.call(null,c),d}}function u(c,l){if(!n.enabled)return i.call(this,c,l);let d=new bSe,p=--n.counter;return t.init.call(d,p,0,null,null),i.call(this,o(c,d,p,!0),o(l,d,p,!1))}}});var rQ=w((PQe,nQ)=>{"use strict";var Li=require("timers");function CSe(){}function SSe(){}function TSe(){}var ISe=new Map,PSe=new Map,RSe=new Map,AF=null,DF=!1;nQ.exports=function(){kF(this._hooks,this._state,"setTimeout","clearTimeout",CSe,ISe,!0),kF(this._hooks,this._state,"setInterval","clearInterval",SSe,PSe,!1),kF(this._hooks,this._state,"setImmediate","clearImmediate",TSe,RSe,!0),global.setTimeout=Li.setTimeout,global.setInterval=Li.setInterval,global.setImmediate=Li.setImmediate,global.clearTimeout=Li.clearTimeout,global.clearInterval=Li.clearInterval,global.clearImmediate=Li.clearImmediate};function kF(e,t,n,r,i,o,s){let a=Li[n],u=Li[r];Li[n]=function(){if(!t.enabled)return a.apply(Li,arguments);let c=new Array(arguments.length);for(let m=0;m<arguments.length;m++)c[m]=arguments[m];let l=c[0];if(typeof l!="function")throw new TypeError('"callback" argument must be a function');let d=new i,p=--t.counter,f;return e.init.call(d,p,0,null,null),c[0]=function(){AF=f,e.pre.call(d,p);let m=!0;try{l.apply(this,arguments),m=!1}finally{m&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){e.post.call(d,p,!0),o.delete(f),e.destroy.call(null,p)})}e.post.call(d,p,!1),AF=null,(s||DF)&&(DF=!1,o.delete(f),e.destroy.call(null,p))},f=a.apply(Li,c),o.set(f,p),f},Li[r]=function(c){if(AF===c&&c!==null)DF=!0;else if(o.has(c)){let l=o.get(c);o.delete(c),e.destroy.call(null,l)}u.apply(Li,arguments)}}});var OF=w((RQe,ASe)=>{ASe.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}});var sQ=w((AQe,oQ)=>{"use strict";var lx=process.binding("async_wrap"),DSe=lx.Providers.TIMERWRAP,iQ={nextTick:Z7(),promise:tQ(),timers:rQ()},ux=new Set;function kSe(){this.enabled=!1,this.counter=0}function NF(){let e=this.initFns=[],t=this.preFns=[],n=this.postFns=[],r=this.destroyFns=[];this.init=function(i,o,s,a){if(o===DSe){ux.add(i);return}for(let u of e)u(i,this,o,s,a)},this.pre=function(i){if(!ux.has(i))for(let o of t)o(i,this)},this.post=function(i,o){if(!ux.has(i))for(let s of n)s(i,this,o)},this.destroy=function(i){if(ux.has(i)){ux.delete(i);return}for(let o of r)o(i)}}NF.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)};function oT(e,t){let n=e.indexOf(t);n!==-1&&e.splice(n,1)}NF.prototype.remove=function(e){e.init&&oT(this.initFns,e.init),e.pre&&oT(this.preFns,e.pre),e.post&&oT(this.postFns,e.post),e.destroy&&oT(this.destroyFns,e.destroy)};function dx(){this._state=new kSe,this._hooks=new NF,this.version=OF().version,this.providers=lx.Providers;for(let e of Object.keys(iQ))iQ[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),lx.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}oQ.exports=dx;dx.prototype.addHooks=function(e){this._hooks.add(e)};dx.prototype.removeHooks=function(e){this._hooks.remove(e)};dx.prototype.enable=function(){this._state.enabled=!0,lx.enable()};dx.prototype.disable=function(){this._state.enabled=!1,lx.disable()}});var LF=w((DQe,OSe)=>{OSe.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}});var cQ=w((kQe,aQ)=>{function NSe(e){try{return Error.prototype.toString.call(e)}catch(t){try{return"<error: "+t+">"}catch{return"<error>"}}}aQ.exports=function(t,n){var r=[];r.push(NSe(t));for(var i=0;i<n.length;i++){var o=n[i],s;try{s=o.toString()}catch(a){try{s="<error: "+a+">"}catch{s="<error>"}}r.push("    at "+s)}return r.join(`
`)}});var pQ=w((OQe,dQ)=>{var sT=cQ();function lQ(){this.extend=new px,this.filter=new px,this.format=new fx,this.version=LF().version}var MF=!1;lQ.prototype.callSite=function e(t){t||(t={}),MF=!0;var n={};Error.captureStackTrace(n,e);var r=n.stack;return MF=!1,r=r.slice(t.slice||0),t.extend&&(r=this.extend._modify(n,r)),t.filter&&(r=this.filter._modify(n,r)),r};var ku=new lQ;function px(){this._modifiers=[]}px.prototype._modify=function(e,t){for(var n=0,r=this._modifiers.length;n<r;n++)t=this._modifiers[n](e,t);return t};px.prototype.attach=function(e){this._modifiers.push(e)};px.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return t===-1?!1:(this._modifiers.splice(t,1),!0)};function fx(){this._formater=sT,this._previous=void 0}fx.prototype.replace=function(e){e?this._formater=e:this.restore()};fx.prototype.restore=function(){this._formater=sT,this._previous=void 0};fx.prototype._backup=function(){this._previous=this._formater};fx.prototype._roolback=function(){this._previous===sT?this.replace(void 0):this.replace(this._previous),this._previous=void 0};Error.prepareStackTrace&&ku.format.replace(Error.prepareStackTrace);var FF=!1;function uQ(e,t){if(MF)return t;if(FF)return sT(e,t);var n=t.concat();n=ku.extend._modify(e,n),n=ku.filter._modify(e,n),n=n.slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&Object.getOwnPropertyDescriptor(e,"callSite")===void 0&&(e.callSite={original:t,mutated:n}),FF=!0;var r=ku.format._formater(e,n);return FF=!1,r}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return uQ},set:function(e){e===uQ?ku.format._roolback():(ku.format._backup(),ku.format.replace(e))}});function LSe(){return this.stack,this.callSite}Object.defineProperty(Error.prototype,"callSite",{get:LSe,set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0});dQ.exports=ku});var qF=w((NQe,UF)=>{if(global._stackChain)if(global._stackChain.version===LF().version)UF.exports=global._stackChain;else throw new Error("Conflicting version of stack-chain found");else UF.exports=global._stackChain=pQ()});var fQ=w((LQe,$F)=>{"use strict";var FSe=sQ();if(global._asyncHook)if(global._asyncHook.version===OF().version)$F.exports=global._asyncHook;else throw new Error("Conflicting version of async-hook-jl found");else qF().filter.attach(function(t,n){return n.filter(function(r){let i=r.getFileName();return!(i&&i.slice(0,__dirname.length)===__dirname)})}),$F.exports=global._asyncHook=new FSe});var xQ=w((FQe,yQ)=>{"use strict";var dn=require("util"),oc=require("assert"),MSe=iT(),th=fQ(),mx="cls@contexts",hx="error@context",hQ=[];for(let e in th.providers)hQ[th.providers[e]]=e;var en=process.env.DEBUG_CLS_HOOKED,En=-1;yQ.exports={getNamespace:gQ,createNamespace:USe,destroyNamespace:vQ,reset:qSe,ERROR_SYMBOL:hx};function Eo(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}Eo.prototype.set=function(t,n){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return en&&ln("    SETTING KEY:"+t+"="+n+" in ns:"+this.name+" uid:"+En+" active:"+dn.inspect(this.active,!0)),this.active[t]=n,n};Eo.prototype.get=function(t){if(!this.active){en&&ln("    GETTING KEY:"+t+"=undefined "+this.name+" uid:"+En+" active:"+dn.inspect(this.active,!0));return}return en&&ln("    GETTING KEY:"+t+"="+this.active[t]+" "+this.name+" uid:"+En+" active:"+dn.inspect(this.active,!0)),this.active[t]};Eo.prototype.createContext=function(){en&&ln("   CREATING Context: "+this.name+" uid:"+En+" len:"+this._set.length+"  active:"+dn.inspect(this.active,!0,2,!0));let t=Object.create(this.active?this.active:Object.prototype);return t._ns_name=this.name,t.id=En,en&&ln("   CREATED Context: "+this.name+" uid:"+En+" len:"+this._set.length+"  context:"+dn.inspect(t,!0,2,!0)),t};Eo.prototype.run=function(t){let n=this.createContext();this.enter(n);try{return en&&ln(" BEFORE RUN: "+this.name+" uid:"+En+" len:"+this._set.length+" "+dn.inspect(n)),t(n),n}catch(r){throw r&&(r[hx]=n),r}finally{en&&ln(" AFTER RUN: "+this.name+" uid:"+En+" len:"+this._set.length+" "+dn.inspect(n)),this.exit(n)}};Eo.prototype.runAndReturn=function(t){var n;return this.run(function(r){n=t(r)}),n};Eo.prototype.runPromise=function(t){let n=this.createContext();this.enter(n);let r=t(n);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return en&&ln(" BEFORE runPromise: "+this.name+" uid:"+En+" len:"+this._set.length+" "+dn.inspect(n)),r.then(i=>(en&&ln(" AFTER runPromise: "+this.name+" uid:"+En+" len:"+this._set.length+" "+dn.inspect(n)),this.exit(n),i)).catch(i=>{throw i[hx]=n,en&&ln(" AFTER runPromise: "+this.name+" uid:"+En+" len:"+this._set.length+" "+dn.inspect(n)),this.exit(n),i})};Eo.prototype.bind=function(t,n){n||(this.active?n=this.active:n=this.createContext());let r=this;return function(){r.enter(n);try{return t.apply(this,arguments)}catch(o){throw o&&(o[hx]=n),o}finally{r.exit(n)}}};Eo.prototype.enter=function(t){oc.ok(t,"context must be provided for entering"),en&&ln("  ENTER "+this.name+" uid:"+En+" len:"+this._set.length+" context: "+dn.inspect(t)),this._set.push(this.active),this.active=t};Eo.prototype.exit=function(t){if(oc.ok(t,"context must be provided for exiting"),en&&ln("  EXIT "+this.name+" uid:"+En+" len:"+this._set.length+" context: "+dn.inspect(t)),this.active===t){oc.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let n=this._set.lastIndexOf(t);n<0?(en&&ln("??ERROR?? context exiting but not entered - ignoring: "+dn.inspect(t)),oc.ok(n>=0,`context not currently entered; can't exit. 
`+dn.inspect(this)+`
`+dn.inspect(t))):(oc.ok(n,"can't remove top context"),this._set.splice(n,1))};Eo.prototype.bindEmitter=function(t){oc.ok(t.on&&t.addListener&&t.emit,"can only bind real EEs");let n=this,r="context@"+this.name;function i(s){!s||(s[mx]||(s[mx]=Object.create(null)),s[mx][r]={namespace:n,context:n.active})}function o(s){if(!(s&&s[mx]))return s;let a=s,u=s[mx];return Object.keys(u).forEach(function(c){let l=u[c];a=l.namespace.bind(a,l.context)}),a}MSe(t,i,o)};Eo.prototype.fromException=function(t){return t[hx]};function gQ(e){return process.namespaces[e]}function USe(e){oc.ok(e,"namespace must be given a name."),en&&ln("CREATING NAMESPACE "+e);let t=new Eo(e);return t.id=En,th.addHooks({init(n,r,i,o,s){En=n,o?(t._contexts.set(n,t._contexts.get(o)),en&&ln("PARENTID: "+e+" uid:"+n+" parent:"+o+" provider:"+i)):t._contexts.set(En,t.active),en&&ln("INIT "+e+" uid:"+n+" parent:"+o+" provider:"+hQ[i]+" active:"+dn.inspect(t.active,!0))},pre(n,r){En=n;let i=t._contexts.get(n);i?(en&&ln(" PRE "+e+" uid:"+n+" handle:"+aT(r)+" context:"+dn.inspect(i)),t.enter(i)):en&&ln(" PRE MISSING CONTEXT "+e+" uid:"+n+" handle:"+aT(r))},post(n,r){En=n;let i=t._contexts.get(n);i?(en&&ln(" POST "+e+" uid:"+n+" handle:"+aT(r)+" context:"+dn.inspect(i)),t.exit(i)):en&&ln(" POST MISSING CONTEXT "+e+" uid:"+n+" handle:"+aT(r))},destroy(n){En=n,en&&ln("DESTROY "+e+" uid:"+n+" context:"+dn.inspect(t._contexts.get(En))+" active:"+dn.inspect(t.active,!0)),t._contexts.delete(n)}}),process.namespaces[e]=t,t}function vQ(e){let t=gQ(e);oc.ok(t,`can't delete nonexistent namespace! "`+e+'"'),oc.ok(t.id,"don't assign to process.namespaces directly! "+dn.inspect(t)),process.namespaces[e]=null}function qSe(){process.namespaces&&Object.keys(process.namespaces).forEach(function(e){vQ(e)}),process.namespaces=Object.create(null)}process.namespaces={};th._state&&!th._state.enabled&&th.enable();function ln(e){process.env.DEBUG&&process._rawDebug(e)}function aT(e){if(!e)return e;if(typeof e=="function")return e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1];if(e.constructor&&e.constructor.name)return e.constructor.name}if(en){jF=qF();for(mQ in jF.filter._modifiers)jF.filter.deattach(mQ)}var jF,mQ});var wQ=w((MQe,HF)=>{"use strict";var $Se=$7();process&&$Se.gte(process.versions.node,"8.0.0")?HF.exports=Q7():HF.exports=xQ()});var MQ=w((Re,FQ)=>{Re=FQ.exports=Ke;var ft;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?ft=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:ft=function(){};Re.SEMVER_SPEC_VERSION="2.0.0";var VF=256,cT=Number.MAX_SAFE_INTEGER||9007199254740991,BF=16,xt=Re.re=[],K=Re.src=[],Ge=0,nh=Ge++;K[nh]="0|[1-9]\\d*";var rh=Ge++;K[rh]="[0-9]+";var YF=Ge++;K[YF]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var _Q=Ge++;K[_Q]="("+K[nh]+")\\.("+K[nh]+")\\.("+K[nh]+")";var bQ=Ge++;K[bQ]="("+K[rh]+")\\.("+K[rh]+")\\.("+K[rh]+")";var WF=Ge++;K[WF]="(?:"+K[nh]+"|"+K[YF]+")";var GF=Ge++;K[GF]="(?:"+K[rh]+"|"+K[YF]+")";var KF=Ge++;K[KF]="(?:-("+K[WF]+"(?:\\."+K[WF]+")*))";var XF=Ge++;K[XF]="(?:-?("+K[GF]+"(?:\\."+K[GF]+")*))";var zF=Ge++;K[zF]="[0-9A-Za-z-]+";var yx=Ge++;K[yx]="(?:\\+("+K[zF]+"(?:\\."+K[zF]+")*))";var QF=Ge++,CQ="v?"+K[_Q]+K[KF]+"?"+K[yx]+"?";K[QF]="^"+CQ+"$";var JF="[v=\\s]*"+K[bQ]+K[XF]+"?"+K[yx]+"?",ZF=Ge++;K[ZF]="^"+JF+"$";var sh=Ge++;K[sh]="((?:<|>)?=?)";var uT=Ge++;K[uT]=K[rh]+"|x|X|\\*";var lT=Ge++;K[lT]=K[nh]+"|x|X|\\*";var Hd=Ge++;K[Hd]="[v=\\s]*("+K[lT]+")(?:\\.("+K[lT]+")(?:\\.("+K[lT]+")(?:"+K[KF]+")?"+K[yx]+"?)?)?";var oh=Ge++;K[oh]="[v=\\s]*("+K[uT]+")(?:\\.("+K[uT]+")(?:\\.("+K[uT]+")(?:"+K[XF]+")?"+K[yx]+"?)?)?";var SQ=Ge++;K[SQ]="^"+K[sh]+"\\s*"+K[Hd]+"$";var TQ=Ge++;K[TQ]="^"+K[sh]+"\\s*"+K[oh]+"$";var IQ=Ge++;K[IQ]="(?:^|[^\\d])(\\d{1,"+BF+"})(?:\\.(\\d{1,"+BF+"}))?(?:\\.(\\d{1,"+BF+"}))?(?:$|[^\\d])";var gT=Ge++;K[gT]="(?:~>?)";var dT=Ge++;K[dT]="(\\s*)"+K[gT]+"\\s+";xt[dT]=new RegExp(K[dT],"g");var jSe="$1~",PQ=Ge++;K[PQ]="^"+K[gT]+K[Hd]+"$";var RQ=Ge++;K[RQ]="^"+K[gT]+K[oh]+"$";var vT=Ge++;K[vT]="(?:\\^)";var pT=Ge++;K[pT]="(\\s*)"+K[vT]+"\\s+";xt[pT]=new RegExp(K[pT],"g");var HSe="$1^",AQ=Ge++;K[AQ]="^"+K[vT]+K[Hd]+"$";var DQ=Ge++;K[DQ]="^"+K[vT]+K[oh]+"$";var e1=Ge++;K[e1]="^"+K[sh]+"\\s*("+JF+")$|^$";var t1=Ge++;K[t1]="^"+K[sh]+"\\s*("+CQ+")$|^$";var gx=Ge++;K[gx]="(\\s*)"+K[sh]+"\\s*("+JF+"|"+K[Hd]+")";xt[gx]=new RegExp(K[gx],"g");var BSe="$1$2$3",kQ=Ge++;K[kQ]="^\\s*("+K[Hd]+")\\s+-\\s+("+K[Hd]+")\\s*$";var OQ=Ge++;K[OQ]="^\\s*("+K[oh]+")\\s+-\\s+("+K[oh]+")\\s*$";var NQ=Ge++;K[NQ]="(<|>)?=?\\s*\\*";for(Ou=0;Ou<Ge;Ou++)ft(Ou,K[Ou]),xt[Ou]||(xt[Ou]=new RegExp(K[Ou]));var Ou;Re.parse=Bd;function Bd(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Ke)return e;if(typeof e!="string"||e.length>VF)return null;var n=t.loose?xt[ZF]:xt[QF];if(!n.test(e))return null;try{return new Ke(e,t)}catch{return null}}Re.valid=VSe;function VSe(e,t){var n=Bd(e,t);return n?n.version:null}Re.clean=WSe;function WSe(e,t){var n=Bd(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}Re.SemVer=Ke;function Ke(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Ke){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>VF)throw new TypeError("version is longer than "+VF+" characters");if(!(this instanceof Ke))return new Ke(e,t);ft("SemVer",e,t),this.options=t,this.loose=!!t.loose;var n=e.trim().match(t.loose?xt[ZF]:xt[QF]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>cT||this.major<0)throw new TypeError("Invalid major version");if(this.minor>cT||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>cT||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<cT)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}Ke.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};Ke.prototype.toString=function(){return this.version};Ke.prototype.compare=function(e){return ft("SemVer.compare",this.version,this.options,e),e instanceof Ke||(e=new Ke(e,this.options)),this.compareMain(e)||this.comparePre(e)};Ke.prototype.compareMain=function(e){return e instanceof Ke||(e=new Ke(e,this.options)),ih(this.major,e.major)||ih(this.minor,e.minor)||ih(this.patch,e.patch)};Ke.prototype.comparePre=function(e){if(e instanceof Ke||(e=new Ke(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],r=e.prerelease[t];if(ft("prerelease compare",t,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return ih(n,r)}while(++t)};Ke.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};Re.inc=GSe;function GSe(e,t,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new Ke(e,n).inc(t,r).version}catch{return null}}Re.diff=zSe;function zSe(e,t){if(n1(e,t))return null;var n=Bd(e),r=Bd(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if((s==="major"||s==="minor"||s==="patch")&&n[s]!==r[s])return i+s;return o}Re.compareIdentifiers=ih;var EQ=/^[0-9]+$/;function ih(e,t){var n=EQ.test(e),r=EQ.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}Re.rcompareIdentifiers=YSe;function YSe(e,t){return ih(t,e)}Re.major=KSe;function KSe(e,t){return new Ke(e,t).major}Re.minor=XSe;function XSe(e,t){return new Ke(e,t).minor}Re.patch=QSe;function QSe(e,t){return new Ke(e,t).patch}Re.compare=sc;function sc(e,t,n){return new Ke(e,n).compare(new Ke(t,n))}Re.compareLoose=JSe;function JSe(e,t){return sc(e,t,!0)}Re.rcompare=ZSe;function ZSe(e,t,n){return sc(t,e,n)}Re.sort=eTe;function eTe(e,t){return e.sort(function(n,r){return Re.compare(n,r,t)})}Re.rsort=tTe;function tTe(e,t){return e.sort(function(n,r){return Re.rcompare(n,r,t)})}Re.gt=vx;function vx(e,t,n){return sc(e,t,n)>0}Re.lt=fT;function fT(e,t,n){return sc(e,t,n)<0}Re.eq=n1;function n1(e,t,n){return sc(e,t,n)===0}Re.neq=LQ;function LQ(e,t,n){return sc(e,t,n)!==0}Re.gte=r1;function r1(e,t,n){return sc(e,t,n)>=0}Re.lte=i1;function i1(e,t,n){return sc(e,t,n)<=0}Re.cmp=mT;function mT(e,t,n,r){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return n1(e,n,r);case"!=":return LQ(e,n,r);case">":return vx(e,n,r);case">=":return r1(e,n,r);case"<":return fT(e,n,r);case"<=":return i1(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}Re.Comparator=_o;function _o(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof _o){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof _o))return new _o(e,t);ft("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===xx?this.value="":this.value=this.operator+this.semver.version,ft("comp",this)}var xx={};_o.prototype.parse=function(e){var t=this.options.loose?xt[e1]:xt[t1],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],this.operator==="="&&(this.operator=""),n[2]?this.semver=new Ke(n[2],this.options.loose):this.semver=xx};_o.prototype.toString=function(){return this.value};_o.prototype.test=function(e){return ft("Comparator.test",e,this.options.loose),this.semver===xx?!0:(typeof e=="string"&&(e=new Ke(e,this.options)),mT(e,this.operator,this.semver,this.options))};_o.prototype.intersects=function(e,t){if(!(e instanceof _o))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var n;if(this.operator==="")return n=new zt(e.value,t),hT(this.value,n,t);if(e.operator==="")return n=new zt(this.value,t),hT(e.semver,n,t);var r=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,s=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=mT(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=mT(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||i||o&&s||a||u};Re.Range=zt;function zt(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof zt)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new zt(e.raw,t);if(e instanceof _o)return new zt(e.value,t);if(!(this instanceof zt))return new zt(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim())},this).filter(function(n){return n.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}zt.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};zt.prototype.toString=function(){return this.range};zt.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?xt[OQ]:xt[kQ];e=e.replace(n,dTe),ft("hyphen replace",e),e=e.replace(xt[gx],BSe),ft("comparator trim",e,xt[gx]),e=e.replace(xt[dT],jSe),e=e.replace(xt[pT],HSe),e=e.split(/\s+/).join(" ");var r=t?xt[e1]:xt[t1],i=e.split(" ").map(function(o){return rTe(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(r)})),i=i.map(function(o){return new _o(o,this.options)},this),i};zt.prototype.intersects=function(e,t){if(!(e instanceof zt))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(r){return e.set.some(function(i){return i.every(function(o){return r.intersects(o,t)})})})})};Re.toComparators=nTe;function nTe(e,t){return new zt(e,t).set.map(function(n){return n.map(function(r){return r.value}).join(" ").trim().split(" ")})}function rTe(e,t){return ft("comp",e,t),e=sTe(e,t),ft("caret",e),e=iTe(e,t),ft("tildes",e),e=cTe(e,t),ft("xrange",e),e=lTe(e,t),ft("stars",e),e}function Ar(e){return!e||e.toLowerCase()==="x"||e==="*"}function iTe(e,t){return e.trim().split(/\s+/).map(function(n){return oTe(n,t)}).join(" ")}function oTe(e,t){var n=t.loose?xt[RQ]:xt[PQ];return e.replace(n,function(r,i,o,s,a){ft("tilde",e,r,i,o,s,a);var u;return Ar(i)?u="":Ar(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Ar(s)?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(ft("replaceTilde pr",a),u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",ft("tilde return",u),u})}function sTe(e,t){return e.trim().split(/\s+/).map(function(n){return aTe(n,t)}).join(" ")}function aTe(e,t){ft("caret",e,t);var n=t.loose?xt[DQ]:xt[AQ];return e.replace(n,function(r,i,o,s,a){ft("caret",e,r,i,o,s,a);var u;return Ar(i)?u="":Ar(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Ar(s)?i==="0"?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(ft("replaceCaret pr",a),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(ft("no pr"),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),ft("caret return",u),u})}function cTe(e,t){return ft("replaceXRanges",e,t),e.split(/\s+/).map(function(n){return uTe(n,t)}).join(" ")}function uTe(e,t){e=e.trim();var n=t.loose?xt[TQ]:xt[SQ];return e.replace(n,function(r,i,o,s,a,u){ft("xRange",e,r,i,o,s,a,u);var c=Ar(o),l=c||Ar(s),d=l||Ar(a),p=d;return i==="="&&p&&(i=""),c?i===">"||i==="<"?r="<0.0.0":r="*":i&&p?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),r=i+o+"."+s+"."+a):l?r=">="+o+".0.0 <"+(+o+1)+".0.0":d&&(r=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),ft("xRange return",r),r})}function lTe(e,t){return ft("replaceStars",e,t),e.trim().replace(xt[NQ],"")}function dTe(e,t,n,r,i,o,s,a,u,c,l,d,p){return Ar(n)?t="":Ar(r)?t=">="+n+".0.0":Ar(i)?t=">="+n+"."+r+".0":t=">="+t,Ar(u)?a="":Ar(c)?a="<"+(+u+1)+".0.0":Ar(l)?a="<"+u+"."+(+c+1)+".0":d?a="<="+u+"."+c+"."+l+"-"+d:a="<="+a,(t+" "+a).trim()}zt.prototype.test=function(e){if(!e)return!1;typeof e=="string"&&(e=new Ke(e,this.options));for(var t=0;t<this.set.length;t++)if(pTe(this.set[t],e,this.options))return!0;return!1};function pTe(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(r=0;r<e.length;r++)if(ft(e[r].semver),e[r].semver!==xx&&e[r].semver.prerelease.length>0){var i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}Re.satisfies=hT;function hT(e,t,n){try{t=new zt(t,n)}catch{return!1}return t.test(e)}Re.maxSatisfying=fTe;function fTe(e,t,n){var r=null,i=null;try{var o=new zt(t,n)}catch{return null}return e.forEach(function(s){o.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new Ke(r,n))}),r}Re.minSatisfying=mTe;function mTe(e,t,n){var r=null,i=null;try{var o=new zt(t,n)}catch{return null}return e.forEach(function(s){o.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new Ke(r,n))}),r}Re.minVersion=hTe;function hTe(e,t){e=new zt(e,t);var n=new Ke("0.0.0");if(e.test(n)||(n=new Ke("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r){var i=e.set[r];i.forEach(function(o){var s=new Ke(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!n||vx(n,s))&&(n=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return n&&e.test(n)?n:null}Re.validRange=gTe;function gTe(e,t){try{return new zt(e,t).range||"*"}catch{return null}}Re.ltr=vTe;function vTe(e,t,n){return o1(e,t,"<",n)}Re.gtr=yTe;function yTe(e,t,n){return o1(e,t,">",n)}Re.outside=o1;function o1(e,t,n,r){e=new Ke(e,r),t=new zt(t,r);var i,o,s,a,u;switch(n){case">":i=vx,o=i1,s=fT,a=">",u=">=";break;case"<":i=fT,o=r1,s=vx,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(hT(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],d=null,p=null;if(l.forEach(function(f){f.semver===xx&&(f=new _o(">=0.0.0")),d=d||f,p=p||f,i(f.semver,d.semver,r)?d=f:s(f.semver,p.semver,r)&&(p=f)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===u&&s(e,p.semver))return!1}return!0}Re.prerelease=xTe;function xTe(e,t){var n=Bd(e,t);return n&&n.prerelease.length?n.prerelease:null}Re.intersects=wTe;function wTe(e,t,n){return e=new zt(e,n),t=new zt(t,n),e.intersects(t)}Re.coerce=ETe;function ETe(e){if(e instanceof Ke)return e;if(typeof e!="string")return null;var t=e.match(xt[IQ]);return t==null?null:Bd(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}});var $Q=w((UQe,qQ)=>{var _Te=tT().wrap,a1=1<<0,c1=1<<1,u1=1<<2,xT=1<<3,wt=[],bTe=0,dr=!1,Nu=[],ah,l1;function d1(e,t){var n=e.length,r=t.length,i=[];if(n===0&&r===0)return i;for(var o=0;o<n;o++)i[o]=e[o];if(r===0)return i;for(var s=0;s<r;s++){var a=!0;for(o=0;o<n;o++)if(e[o].uid===t[s].uid){a=!1;break}a&&i.push(t[s])}return i}process._fatalException?(yT=!1,ah=function(t){var n=wt.length;if(yT||n===0)return!1;var r=!1;yT=!0;for(var i=0;i<n;++i){var o=wt[i];if((o.flags&xT)!==0){var s=ch&&ch[o.uid];r=o.error(s,t)||r}}return yT=!1,Nu.length>0&&(wt=Nu.pop()),ch=void 0,r&&!dr},l1=function(t,n,r){var i=[];dr=!0;for(var o=0;o<r;++o){var s=n[o];if(i[s.uid]=s.data,(s.flags&a1)!==0){var a=s.create(s.data);a!==void 0&&(i[s.uid]=a)}}return dr=!1,function(){ch=i,Nu.push(wt),wt=d1(n,wt),dr=!0;for(var u=0;u<r;++u)(n[u].flags&c1)>0&&n[u].before(this,i[n[u].uid]);dr=!1;var c=t.apply(this,arguments);for(dr=!0,u=0;u<r;++u)(n[u].flags&u1)>0&&n[u].after(this,i[n[u].uid]);return dr=!1,wt=Nu.pop(),ch=void 0,c}},_Te(process,"_fatalException",function(e){return function(n){return ah(n)||e(n)}})):(s1=!1,ah=function(t){if(s1)throw t;for(var n=!1,r=wt.length,i=0;i<r;++i){var o=wt[i];(o.flags&xT)!==0&&(n=o.error(null,t)||n)}if(!n&&dr)throw t},l1=function(t,n,r){var i=[];dr=!0;for(var o=0;o<r;++o){var s=n[o];if(i[s.uid]=s.data,(s.flags&a1)!==0){var a=s.create(s.data);a!==void 0&&(i[s.uid]=a)}}return dr=!1,function(){var u=!1,c=!1;Nu.push(wt),wt=d1(n,wt),dr=!0;for(var l=0;l<r;++l)(n[l].flags&c1)>0&&n[l].before(this,i[n[l].uid]);dr=!1;var d;try{d=t.apply(this,arguments)}catch(p){u=!0;for(var l=0;l<r;++l)if((wt[l].flags&xT)!=0)try{c=wt[l].error(i[n[l].uid],p)||c}catch(m){throw s1=!0,m}if(!c)throw process.removeListener("uncaughtException",ah),process._originalNextTick(function(){process.addListener("uncaughtException",ah)}),p}finally{if(!u||c){for(dr=!0,l=0;l<r;++l)(n[l].flags&u1)>0&&n[l].after(this,i[n[l].uid]);dr=!1}wt=Nu.pop()}return d}},process.addListener("uncaughtException",ah));var yT,ch,s1;function CTe(e,t,n){dr=!0;for(var r=0;r<n;++r){var i=t[r];i.create&&i.create(i.data)}return dr=!1,function(){Nu.push(wt),wt=d1(t,wt);var o=e.apply(this,arguments);return wt=Nu.pop(),o}}function STe(e){var t=wt.length;if(t===0)return e;for(var n=wt.slice(),r=0;r<t;++r)if(n[r].flags>0)return l1(e,n,t);return CTe(e,n,t)}function Js(e,t){typeof e.create=="function"&&(this.create=e.create,this.flags|=a1),typeof e.before=="function"&&(this.before=e.before,this.flags|=c1),typeof e.after=="function"&&(this.after=e.after,this.flags|=u1),typeof e.error=="function"&&(this.error=e.error,this.flags|=xT),this.uid=++bTe,this.data=t===void 0?null:t}Js.prototype.create=void 0;Js.prototype.before=void 0;Js.prototype.after=void 0;Js.prototype.error=void 0;Js.prototype.data=void 0;Js.prototype.uid=0;Js.prototype.flags=0;function UQ(e,t){if(typeof e!="object"||!e)throw new TypeError("callbacks argument must be an object");return e instanceof Js?e:new Js(e,t)}function TTe(e,t){var n;e instanceof Js?n=e:n=UQ(e,t);for(var r=!1,i=0;i<wt.length;i++)if(n===wt[i]){r=!0;break}return r||wt.push(n),n}function ITe(e){for(var t=0;t<wt.length;t++)if(e===wt[t]){wt.splice(t,1);break}}process.createAsyncListener=UQ;process.addAsyncListener=TTe;process.removeAsyncListener=ITe;qQ.exports=STe});var HQ=w(($Qe,jQ)=>{"use strict";jQ.exports=(e,t)=>class extends e{constructor(r){var i,o;super(a);var s=this;try{r.apply(i,o)}catch(u){o[1](u)}return s;function a(u,c){i=this,o=[l,d];function l(p){return t(s,!1),u(p)}function d(p){return t(s,!1),c(p)}}}}});var KQ=w(()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var GQ=tT(),ET=MQ(),ii=GQ.wrap,Lu=GQ.massWrap,Yt=$Q(),PTe=require("util"),RTe=ET.gte(process.version,"6.0.0"),m1=ET.gte(process.version,"7.0.0"),ATe=ET.gte(process.version,"8.0.0"),DTe=ET.gte(process.version,"11.0.0"),Zs=require("net");m1&&!Zs._normalizeArgs?Zs._normalizeArgs=function(e){if(e.length===0)return[{},null];var t=e[0],n={};typeof t=="object"&&t!==null?n=t:FTe(t)?n.path=t:(n.port=t,e.length>1&&typeof e[1]=="string"&&(n.host=e[1]));var r=e[e.length-1];return typeof r!="function"?[n,null]:[n,r]}:!m1&&!Zs._normalizeConnectArgs&&(Zs._normalizeConnectArgs=function(e){var t={};function n(i){return(i=Number(i))>=0?i:!1}typeof e[0]=="object"&&e[0]!==null?t=e[0]:typeof e[0]=="string"&&n(e[0])===!1?t.path=e[0]:(t.port=e[0],typeof e[1]=="string"&&(t.host=e[1]));var r=e[e.length-1];return typeof r=="function"?[t,r]:[t]});"_setUpListenHandle"in Zs.Server.prototype?ii(Zs.Server.prototype,"_setUpListenHandle",BQ):ii(Zs.Server.prototype,"_listen2",BQ);function BQ(e){return function(){this.on("connection",function(t){t._handle&&(t._handle.onread=Yt(t._handle.onread))});try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=Yt(this._handle.onconnection))}}}function zQ(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=Yt(t._originalOnread)}}ii(Zs.Socket.prototype,"connect",function(e){return function(){var t;ATe&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?t=arguments[0]:t=m1?Zs._normalizeArgs(arguments):Zs._normalizeConnectArgs(arguments),t[1]&&(t[1]=Yt(t[1]));var n=e.apply(this,t);return zQ(this),n}});var kTe=require("http");ii(kTe.Agent.prototype,"addRequest",function(e){return function(t){var n=t.onSocket;return t.onSocket=Yt(function(r){return zQ(r),n.apply(this,arguments)}),e.apply(this,arguments)}});var p1=require("child_process");function VQ(e){Array.isArray(e.stdio)&&e.stdio.forEach(function(t){t&&t._handle&&(t._handle.onread=Yt(t._handle.onread),ii(t._handle,"close",_T))}),e._handle&&(e._handle.onexit=Yt(e._handle.onexit))}p1.ChildProcess?ii(p1.ChildProcess.prototype,"spawn",function(e){return function(){var t=e.apply(this,arguments);return VQ(this),t}}):Lu(p1,["execFile","fork","spawn"],function(e){return function(){var t=e.apply(this,arguments);return VQ(t),t}});process._fatalException||(process._originalNextTick=process.nextTick);var v1=[];process._nextDomainTick&&v1.push("_nextDomainTick");process._tickDomainCallback&&v1.push("_tickDomainCallback");Lu(process,v1,ea);ii(process,"nextTick",_T);var y1=["setTimeout","setInterval"];global.setImmediate&&y1.push("setImmediate");var YQ=require("timers"),OTe=global.setTimeout===YQ.setTimeout;Lu(YQ,y1,_T);OTe&&Lu(global,y1,_T);var h1=require("dns");Lu(h1,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],ea);h1.resolveNaptr&&ii(h1,"resolveNaptr",ea);var Wd=require("fs");Lu(Wd,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],ea);Wd.lchown&&ii(Wd,"lchown",ea);Wd.lchmod&&ii(Wd,"lchmod",ea);Wd.ftruncate&&ii(Wd,"ftruncate",ea);var wx;try{wx=require("zlib")}catch{}wx&&wx.Deflate&&wx.Deflate.prototype&&(Vd=Object.getPrototypeOf(wx.Deflate.prototype),Vd._transform?ii(Vd,"_transform",ea):Vd.write&&Vd.flush&&Vd.end&&Lu(Vd,["write","flush","end"],ea));var Vd,g1;try{g1=require("crypto")}catch{}g1&&(f1=["pbkdf2","randomBytes"],DTe||f1.push("pseudoRandomBytes"),Lu(g1,f1,ea));var f1,wT=!!global.Promise&&Promise.toString()==="function Promise() { [native code] }"&&Promise.toString.toString()==="function toString() { [native code] }";wT&&(WQ=process.addAsyncListener({create:function(){wT=!1}}),global.Promise.resolve(!0).then(function(){wT=!1}),process.removeAsyncListener(WQ));var WQ;wT&&NTe();function NTe(){var e=global.Promise;function t(s){if(!(this instanceof t))return e(s);if(typeof s!="function")return new e(s);var a,u,c=new e(l);c.__proto__=t.prototype;try{s.apply(a,u)}catch(d){u[1](d)}return c;function l(d,p){a=this,u=[f,m];function f(h){return r(c,!1),d(h)}function m(h){return r(c,!1),p(h)}}}if(PTe.inherits(t,e),ii(e.prototype,"then",o),e.prototype.chain&&ii(e.prototype,"chain",o),RTe)global.Promise=HQ()(e,r);else{var n=["all","race","reject","resolve","accept","defer"];n.forEach(function(s){typeof e[s]=="function"&&(t[s]=e[s])}),global.Promise=t}function r(s,a){(!s.__asl_wrapper||a)&&(s.__asl_wrapper=Yt(i))}function i(s,a,u,c){var l;try{return l=a.call(s,u),{returnVal:l,error:!1}}catch(d){return{errorVal:d,error:!0}}finally{l instanceof e?c.__asl_wrapper=function(){var p=l.__asl_wrapper||i;return p.apply(this,arguments)}:r(c,!0)}}function o(s){return function(){var u=this,c=s.apply(u,Array.prototype.map.call(arguments,l));return c.__asl_wrapper=function(p,f,m,h){return u.__asl_wrapper?(u.__asl_wrapper(p,function(){},null,c),c.__asl_wrapper(p,f,m,h)):i(p,f,m,h)},c;function l(d){return typeof d!="function"?d:Yt(function(p){var f=(u.__asl_wrapper||i)(this,d,p,c);if(f.error)throw f.errorVal;return f.returnVal})}}}}function ea(e){var t=function(){var n,r=arguments.length-1;if(typeof arguments[r]=="function"){n=Array(arguments.length);for(var i=0;i<arguments.length-1;i++)n[i]=arguments[i];n[r]=Yt(arguments[r])}return e.apply(this,n||arguments)};switch(e.length){case 1:return function(n){return arguments.length!==1?t.apply(this,arguments):(typeof n=="function"&&(n=Yt(n)),e.call(this,n))};case 2:return function(n,r){return arguments.length!==2?t.apply(this,arguments):(typeof r=="function"&&(r=Yt(r)),e.call(this,n,r))};case 3:return function(n,r,i){return arguments.length!==3?t.apply(this,arguments):(typeof i=="function"&&(i=Yt(i)),e.call(this,n,r,i))};case 4:return function(n,r,i,o){return arguments.length!==4?t.apply(this,arguments):(typeof o=="function"&&(o=Yt(o)),e.call(this,n,r,i,o))};case 5:return function(n,r,i,o,s){return arguments.length!==5?t.apply(this,arguments):(typeof s=="function"&&(s=Yt(s)),e.call(this,n,r,i,o,s))};case 6:return function(n,r,i,o,s,a){return arguments.length!==6?t.apply(this,arguments):(typeof a=="function"&&(a=Yt(a)),e.call(this,n,r,i,o,s,a))};default:return t}}function _T(e){var t=function(){var n;if(typeof arguments[0]=="function"){n=Array(arguments.length),n[0]=Yt(arguments[0]);for(var r=1;r<arguments.length;r++)n[r]=arguments[r]}return e.apply(this,n||arguments)};switch(e.length){case 1:return function(n){return arguments.length!==1?t.apply(this,arguments):(typeof n=="function"&&(n=Yt(n)),e.call(this,n))};case 2:return function(n,r){return arguments.length!==2?t.apply(this,arguments):(typeof n=="function"&&(n=Yt(n)),e.call(this,n,r))};case 3:return function(n,r,i){return arguments.length!==3?t.apply(this,arguments):(typeof n=="function"&&(n=Yt(n)),e.call(this,n,r,i))};case 4:return function(n,r,i,o){return arguments.length!==4?t.apply(this,arguments):(typeof n=="function"&&(n=Yt(n)),e.call(this,n,r,i,o))};case 5:return function(n,r,i,o,s){return arguments.length!==5?t.apply(this,arguments):(typeof n=="function"&&(n=Yt(n)),e.call(this,n,r,i,o,s))};case 6:return function(n,r,i,o,s,a){return arguments.length!==6?t.apply(this,arguments):(typeof n=="function"&&(n=Yt(n)),e.call(this,n,r,i,o,s,a))};default:return t}}function LTe(e){return(e=Number(e))>=0?e:!1}function FTe(e){return typeof e=="string"&&LTe(e)===!1}});var eJ=w((BQe,ZQ)=>{"use strict";var ac=require("assert"),MTe=iT(),Ex="cls@contexts",x1="error@context";process.addAsyncListener||KQ();function fs(e){this.name=e,this.active=null,this._set=[],this.id=null}fs.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t};fs.prototype.get=function(e){if(!!this.active)return this.active[e]};fs.prototype.createContext=function(){return Object.create(this.active)};fs.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(n){throw n&&(n[x1]=t),n}finally{this.exit(t)}};fs.prototype.runAndReturn=function(e){var t;return this.run(function(n){t=e(n)}),t};fs.prototype.bind=function(e,t){t||(this.active?t=this.active:t=this.createContext());var n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(r){throw r&&(r[x1]=t),r}finally{n.exit(t)}}};fs.prototype.enter=function(e){ac.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e};fs.prototype.exit=function(e){if(ac.ok(e,"context must be provided for exiting"),this.active===e){ac.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}var t=this._set.lastIndexOf(e);ac.ok(t>=0,"context not currently entered; can't exit"),ac.ok(t,"can't remove top context"),this._set.splice(t,1)};fs.prototype.bindEmitter=function(e){ac.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,n="context@"+this.name;function r(o){!o||(o[Ex]||(o[Ex]=Object.create(null)),o[Ex][n]={namespace:t,context:t.active})}function i(o){if(!(o&&o[Ex]))return o;var s=o,a=o[Ex];return Object.keys(a).forEach(function(u){var c=a[u];s=c.namespace.bind(s,c.context)}),s}MTe(e,r,i)};fs.prototype.fromException=function(e){return e[x1]};function XQ(e){return process.namespaces[e]}function UTe(e){ac.ok(e,"namespace must be given a name!");var t=new fs(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(n,r){r&&t.enter(r)},after:function(n,r){r&&t.exit(r)},error:function(n){n&&t.exit(n)}}),process.namespaces[e]=t,t}function QQ(e){var t=XQ(e);ac.ok(t,"can't delete nonexistent namespace!"),ac.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function JQ(){process.namespaces&&Object.keys(process.namespaces).forEach(function(e){QQ(e)}),process.namespaces=Object.create(null)}process.namespaces||JQ();ZQ.exports={getNamespace:XQ,createNamespace:UTe,destroyNamespace:QQ,reset:JQ}});var Fu=w(CT=>{"use strict";Object.defineProperty(CT,"__esModule",{value:!0});CT.CorrelationContextManager=void 0;var uh=Mt(),qTe=$S(),Gd=HS(),w1=GL(),tJ=dF(),bT=Yn(),$Te=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return t===void 0?null:t},e.generateContextObject=function(t,n,r,i,o,s){return n=n||t,this.enabled?{operation:{name:r,id:t,parentId:n,traceparent:o,tracestate:s},customProperties:new jTe(i)}:null},e.spanToContextObject=function(t,n,r){var i=new Gd;return i.traceId=t.traceId,i.spanId=t.spanId,i.traceFlag=Gd.formatOpenTelemetryTraceFlags(t.traceFlags)||Gd.DEFAULT_TRACE_FLAG,i.parentId=n,e.generateContextObject(i.traceId,i.parentId,r,null,i)},e.runWithContext=function(t,n){var r;if(e.enabled)try{return e.session.bind(n,(r={},r[e.CONTEXT_NAME]=t,r))()}catch(i){uh.warn("Error binding to session context",bT.dumpObj(i))}return n()},e.wrapEmitter=function(t){if(e.enabled)try{e.session.bindEmitter(t)}catch(n){uh.warn("Error binding to session context",bT.dumpObj(n))}},e.wrapCallback=function(t,n){var r;if(e.enabled)try{return e.session.bind(t,n?(r={},r[e.CONTEXT_NAME]=n,r):void 0)}catch(i){uh.warn("Error binding to session context",bT.dumpObj(i))}return t},e.enable=function(t){if(!this.enabled){if(!this.isNodeVersionCompatible()){this.enabled=!1;return}e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,typeof this.cls>"u"&&(e.forceClsHooked===!0||e.forceClsHooked===void 0&&e.shouldUseClsHooked()?this.cls=wQ():this.cls=eJ()),e.session=this.cls.createNamespace("AI-CLS-Session"),qTe.registerContextPreservation(function(n){try{return e.session.bind(n)}catch(r){uh.warn("Error binding to session context",bT.dumpObj(r))}})),this.enabled=!0}},e.startOperation=function(t,n){var r=t&&t.traceContext||null,i=t&&t.spanContext?t:null,o=t&&t.traceId?t:null,s=t&&t.headers;if(i)return this.spanToContextObject(i.spanContext(),i.parentSpanId,i.name);if(o)return this.spanToContextObject(o,"|"+o.traceId+"."+o.spanId+".",typeof n=="string"?n:"");if(r){var a=null,u=null;n.headers&&(n.headers.traceparent?a=new Gd(n.headers.traceparent):n.headers["request-id"]&&(a=new Gd(null,n.headers["request-id"])),n.headers.tracestate&&(u=new w1(n.headers.tracestate))),a||(a=new Gd(r.traceparent)),u||(u=new w1(r.tracestate));var c=typeof n=="object"?new tJ(n):null,l=e.generateContextObject(a.traceId,a.parentId,typeof n=="string"?n:c.getOperationName({}),c&&c.getCorrelationContextHeader()||void 0,a,u);return l}if(s){var a=new Gd(s.traceparent?s.traceparent.toString():null),u=new w1(s.tracestate?s.tracestate.toString():null),c=new tJ(t),l=e.generateContextObject(a.traceId,a.parentId,c.getOperationName({}),c.getCorrelationContextHeader(),a,u);return l}return uh.warn("startOperation was called with invalid arguments",arguments),null},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var t=process.versions.node.split(".");return parseInt(t[0])>3||parseInt(t[0])>2&&parseInt(t[1])>2},e.shouldUseClsHooked=function(){var t=process.versions.node.split(".");return parseInt(t[0])>8||parseInt(t[0])>=8&&parseInt(t[1])>=2},e.canUseClsHooked=function(){var t=process.versions.node.split("."),n=parseInt(t[0])>8||parseInt(t[0])>=8&&parseInt(t[1])>=0,r=parseInt(t[0])<8||parseInt(t[0])<=8&&parseInt(t[1])<2,i=parseInt(t[0])>4||parseInt(t[0])>=4&&parseInt(t[1])>=7;return!(n&&r)&&i},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();CT.CorrelationContextManager=$Te;var jTe=function(){function e(t){this.props=[],this.addHeaderData(t)}return e.prototype.addHeaderData=function(t){var n=t?t.split(", "):[];this.props=n.map(function(r){var i=r.split("=");return{key:i[0],value:i[1]}}).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map(function(t){return t.key+"="+t.value}).join(", ")},e.prototype.getProperty=function(t){for(var n=0;n<this.props.length;++n){var r=this.props[n];if(r.key===t)return r.value}},e.prototype.setProperty=function(t,n){if(e.bannedCharacters.test(t)||e.bannedCharacters.test(n)){uh.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+t+" and value: "+n);return}for(var r=0;r<this.props.length;++r){var i=this.props[r];if(i.key===t){i.value=n;return}}this.props.push({key:t,value:n})},e.bannedCharacters=/[,=]/,e}()});var tn=w(ie=>{"use strict";var ms;Object.defineProperty(ie,"__esModule",{value:!0});ie.WEB_INSTRUMENTATION_DEPRECATED_SOURCE=ie.WEB_INSTRUMENTATION_DEFAULT_SOURCE=ie.TIME_SINCE_ENQUEUED=ie.ENQUEUED_TIME=ie.MessageBusDestination=ie.MicrosoftEventHub=ie.AzNamespace=ie.StatsbeatNetworkCategory=ie.StatsbeatFeatureType=ie.StatsbeatInstrumentation=ie.StatsbeatFeature=ie.StatsbeatCounter=ie.StatsbeatAttach=ie.StatsbeatResourceProvider=ie.StatsbeatTelemetryName=ie.HeartBeatMetricName=ie.DependencyTypeName=ie.TelemetryTypeStringToQuickPulseDocumentType=ie.TelemetryTypeStringToQuickPulseType=ie.QuickPulseType=ie.QuickPulseDocumentType=ie.PerformanceToQuickPulseCounter=ie.MetricId=ie.PerformanceCounter=ie.QuickPulseCounter=ie.DEFAULT_LIVEMETRICS_HOST=ie.DEFAULT_LIVEMETRICS_ENDPOINT=ie.DEFAULT_BREEZE_ENDPOINT=ie.APPLICATION_INSIGHTS_SDK_VERSION=void 0;ie.APPLICATION_INSIGHTS_SDK_VERSION="2.4.1";ie.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com";ie.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com";ie.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com";var pr;(function(e){e.COMMITTED_BYTES="\\Memory\\Committed Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",e.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",e.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",e.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",e.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",e.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",e.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"})(pr=ie.QuickPulseCounter||(ie.QuickPulseCounter={}));var ST;(function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"})(ST=ie.PerformanceCounter||(ie.PerformanceCounter={}));var HTe;(function(e){e.REQUESTS_DURATION="requests/duration",e.DEPENDENCIES_DURATION="dependencies/duration",e.EXCEPTIONS_COUNT="exceptions/count",e.TRACES_COUNT="traces/count"})(HTe=ie.MetricId||(ie.MetricId={}));ie.PerformanceToQuickPulseCounter=(ms={},ms[ST.PROCESSOR_TIME]=pr.PROCESSOR_TIME,ms[ST.REQUEST_RATE]=pr.REQUEST_RATE,ms[ST.REQUEST_DURATION]=pr.REQUEST_DURATION,ms[pr.COMMITTED_BYTES]=pr.COMMITTED_BYTES,ms[pr.REQUEST_FAILURE_RATE]=pr.REQUEST_FAILURE_RATE,ms[pr.DEPENDENCY_RATE]=pr.DEPENDENCY_RATE,ms[pr.DEPENDENCY_FAILURE_RATE]=pr.DEPENDENCY_FAILURE_RATE,ms[pr.DEPENDENCY_DURATION]=pr.DEPENDENCY_DURATION,ms[pr.EXCEPTION_RATE]=pr.EXCEPTION_RATE,ms);ie.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"};ie.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"};ie.TelemetryTypeStringToQuickPulseType={EventData:ie.QuickPulseType.Event,ExceptionData:ie.QuickPulseType.Exception,MessageData:ie.QuickPulseType.Trace,MetricData:ie.QuickPulseType.Metric,RequestData:ie.QuickPulseType.Request,RemoteDependencyData:ie.QuickPulseType.Dependency,AvailabilityData:ie.QuickPulseType.Availability,PageViewData:ie.QuickPulseType.PageView};ie.TelemetryTypeStringToQuickPulseDocumentType={EventData:ie.QuickPulseDocumentType.Event,ExceptionData:ie.QuickPulseDocumentType.Exception,MessageData:ie.QuickPulseDocumentType.Trace,MetricData:ie.QuickPulseDocumentType.Metric,RequestData:ie.QuickPulseDocumentType.Request,RemoteDependencyData:ie.QuickPulseDocumentType.Dependency,AvailabilityData:ie.QuickPulseDocumentType.Availability,PageViewData:ie.QuickPulseDocumentType.PageView};ie.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc",Sql:"SQL",QueueMessage:"Queue Message"};ie.HeartBeatMetricName="HeartBeat";ie.StatsbeatTelemetryName="Statsbeat";ie.StatsbeatResourceProvider={appsvc:"appsvc",functions:"functions",vm:"vm",unknown:"unknown"};ie.StatsbeatAttach={codeless:"codeless",sdk:"sdk"};ie.StatsbeatCounter={REQUEST_SUCCESS:"Request Success Count",REQUEST_FAILURE:"Request Failure Count",REQUEST_DURATION:"Request Duration",RETRY_COUNT:"Retry Count",THROTTLE_COUNT:"Throttle Count",EXCEPTION_COUNT:"Exception Count",ATTACH:"Attach",FEATURE:"Feature"};var BTe;(function(e){e[e.NONE=0]="NONE",e[e.DISK_RETRY=1]="DISK_RETRY",e[e.AAD_HANDLING=2]="AAD_HANDLING",e[e.WEB_SNIPPET=4]="WEB_SNIPPET"})(BTe=ie.StatsbeatFeature||(ie.StatsbeatFeature={}));var VTe;(function(e){e[e.NONE=0]="NONE",e[e.AZURE_CORE_TRACING=1]="AZURE_CORE_TRACING",e[e.MONGODB=2]="MONGODB",e[e.MYSQL=4]="MYSQL",e[e.REDIS=8]="REDIS",e[e.POSTGRES=16]="POSTGRES",e[e.BUNYAN=32]="BUNYAN",e[e.WINSTON=64]="WINSTON",e[e.CONSOLE=128]="CONSOLE"})(VTe=ie.StatsbeatInstrumentation||(ie.StatsbeatInstrumentation={}));var WTe;(function(e){e[e.Feature=0]="Feature",e[e.Instrumentation=1]="Instrumentation"})(WTe=ie.StatsbeatFeatureType||(ie.StatsbeatFeatureType={}));var GTe;(function(e){e[e.Breeze=0]="Breeze",e[e.Quickpulse=1]="Quickpulse"})(GTe=ie.StatsbeatNetworkCategory||(ie.StatsbeatNetworkCategory={}));ie.AzNamespace="az.namespace";ie.MicrosoftEventHub="Microsoft.EventHub";ie.MessageBusDestination="message_bus.destination";ie.ENQUEUED_TIME="enqueuedTime";ie.TIME_SINCE_ENQUEUED="timeSinceEnqueued";ie.WEB_INSTRUMENTATION_DEFAULT_SOURCE="https://js.monitor.azure.com/scripts/b/ai";ie.WEB_INSTRUMENTATION_DEPRECATED_SOURCE="https://az416426.vo.msecnd.net/scripts/b/ai"});var rJ=w(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});lh.dispose=lh.enable=void 0;var nJ=lr(),zTe=tn(),TT=Zt(),Mu=[],E1=function(e){var t=e.data.message;Mu.forEach(function(n){t instanceof Error?n.trackException({exception:t}):(t.lastIndexOf(`
`)==t.length-1&&(t=t.substring(0,t.length-1)),n.trackTrace({message:t,severity:e.data.stderr?nJ.SeverityLevel.Warning:nJ.SeverityLevel.Information}))})};function YTe(e,t){if(e){var n=Mu.find(function(r){return r==t});if(n)return;Mu.length===0&&TT.channel.subscribe("console",E1,TT.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(zTe.StatsbeatInstrumentation.CONSOLE)}),Mu.push(t)}else Mu=Mu.filter(function(r){return r!=t}),Mu.length===0&&TT.channel.unsubscribe("console",E1)}lh.enable=YTe;function KTe(){TT.channel.unsubscribe("console",E1),Mu=[]}lh.dispose=KTe});var iJ=w(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.dispose=ph.enable=void 0;var dh=lr(),XTe=tn(),IT=Zt(),Uu=[],QTe={10:dh.SeverityLevel.Verbose,20:dh.SeverityLevel.Verbose,30:dh.SeverityLevel.Information,40:dh.SeverityLevel.Warning,50:dh.SeverityLevel.Error,60:dh.SeverityLevel.Critical},_1=function(e){var t=e.data.result;Uu.forEach(function(n){try{var r=JSON.parse(t);if(r.err){var i=new Error(r.err.message);i.name=r.err.name,i.stack=r.err.stack,n.trackException({exception:i});return}}catch{}var o=QTe[e.data.level];n.trackTrace({message:t,severity:o})})};function JTe(e,t){if(e){var n=Uu.find(function(r){return r==t});if(n)return;Uu.length===0&&IT.channel.subscribe("bunyan",_1,IT.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(XTe.StatsbeatInstrumentation.BUNYAN)}),Uu.push(t)}else Uu=Uu.filter(function(r){return r!=t}),Uu.length===0&&IT.channel.unsubscribe("bunyan",_1)}ph.enable=JTe;function ZTe(){IT.channel.unsubscribe("bunyan",_1),Uu=[]}ph.dispose=ZTe});var oJ=w(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.dispose=fh.enable=void 0;var eIe=tn(),Qn=lr(),PT=Zt(),qu=[],tIe={syslog:function(e){var t={emerg:Qn.SeverityLevel.Critical,alert:Qn.SeverityLevel.Critical,crit:Qn.SeverityLevel.Critical,error:Qn.SeverityLevel.Error,warning:Qn.SeverityLevel.Warning,notice:Qn.SeverityLevel.Information,info:Qn.SeverityLevel.Information,debug:Qn.SeverityLevel.Verbose};return t[e]===void 0?Qn.SeverityLevel.Information:t[e]},npm:function(e){var t={error:Qn.SeverityLevel.Error,warn:Qn.SeverityLevel.Warning,info:Qn.SeverityLevel.Information,verbose:Qn.SeverityLevel.Verbose,debug:Qn.SeverityLevel.Verbose,silly:Qn.SeverityLevel.Verbose};return t[e]===void 0?Qn.SeverityLevel.Information:t[e]},unknown:function(e){return Qn.SeverityLevel.Information}},b1=function(e){var t=e.data.message;qu.forEach(function(n){if(t instanceof Error)n.trackException({exception:t,properties:e.data.meta});else{var r=tIe[e.data.levelKind](e.data.level);n.trackTrace({message:t,severity:r,properties:e.data.meta})}})};function nIe(e,t){if(e){var n=qu.find(function(r){return r==t});if(n)return;qu.length===0&&PT.channel.subscribe("winston",b1,PT.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(eIe.StatsbeatInstrumentation.WINSTON)}),qu.push(t)}else qu=qu.filter(function(r){return r!=t}),qu.length===0&&PT.channel.unsubscribe("winston",b1)}fh.enable=nIe;function rIe(){PT.channel.unsubscribe("winston",b1),qu=[]}fh.dispose=rIe});var aJ=w((KQe,sJ)=>{"use strict";var iIe=$S(),oIe=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(t,n){iIe.IsInitialized&&(rJ().enable(t&&n,this._client),iJ().enable(t,this._client),oJ().enable(t,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();sJ.exports=oIe});var uJ=w((XQe,cJ)=>{"use strict";var sIe=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var n=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(n[0])>13||parseInt(n[0])===13&&parseInt(n[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var n=this;if(t){if(this._isInitialized=!0,!this._exceptionListenerHandle){var r=function(i,o,s){s===void 0&&(s=new Error(e._FALLBACK_ERROR_MESSAGE));var a={exception:s};a.contextObjects={},a.contextObjects.Error=s,n._client.trackException(a),n._client.flush({isAppCrashing:!0}),i&&o&&process.listeners(o).length===1&&(console.error(s),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=r.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=r.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=r.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();cJ.exports=sIe});var AT=w((QQe,lJ)=>{"use strict";var RT=require("os"),bo=tn(),aIe=function(){function e(t,n,r){n===void 0&&(n=6e4),r===void 0&&(r=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._lastRequests={totalRequestCount:0,totalFailedRequestCount:0,time:0},this._lastDependencies={totalDependencyCount:0,totalFailedDependencyCount:0,time:0},this._lastExceptions={totalExceptionCount:0,time:0},this._isInitialized=!1,this._client=t,this._collectionInterval=n,this._enableLiveMetricsCounters=r}return e.prototype.enable=function(t,n){var r=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=RT.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},typeof process.cpuUsage=="function"&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=n||this._collectionInterval,this._handle=setInterval(function(){return r.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,n){var r;if(!!e.isEnabled()){if(typeof t=="string")r=+new Date("1970-01-01T"+t+"Z");else if(typeof t=="number")r=t;else return;e._intervalRequestExecutionTime+=r,n===!1&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,n){var r;if(!!e.isEnabled()){if(typeof t=="string")r=+new Date("1970-01-01T"+t+"Z");else if(typeof t=="number")r=t;else return;e._intervalDependencyExecutionTime+=r,n===!1&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var t=RT.cpus();if(t&&t.length&&this._lastCpus&&t.length===this._lastCpus.length){for(var n=0,r=0,i=0,o=0,s=0,a=0;!!t&&a<t.length;a++){var u=t[a],c=this._lastCpus[a],l="% cpu("+a+") ",d=u.model,p=u.speed,f=u.times,m=c.times,h=f.user-m.user||0;n+=h;var g=f.sys-m.sys||0;r+=g;var v=f.nice-m.nice||0;i+=v;var y=f.idle-m.idle||0;o+=y;var x=f.irq-m.irq||0;s+=x}var E=void 0;if(typeof process.cpuUsage=="function"){var _=process.cpuUsage(),C=process.hrtime(),P=_.user-this._lastAppCpuUsage.user+(_.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime<"u"&&this._lastHrtime.length===2){var T=(C[0]-this._lastHrtime[0])*1e6+(C[1]-this._lastHrtime[1])/1e3||0;E=100*P/(T*t.length)}this._lastAppCpuUsage=_,this._lastHrtime=C}var b=n+r+i+o+s||1;this._client.trackMetric({name:bo.PerformanceCounter.PROCESSOR_TIME,value:(b-o)/b*100}),this._client.trackMetric({name:bo.PerformanceCounter.PROCESS_TIME,value:E||n/b*100})}this._lastCpus=t},e.prototype._trackMemory=function(){var t=RT.freemem(),n=process.memoryUsage().rss,r=RT.totalmem()-t;this._client.trackMetric({name:bo.PerformanceCounter.PRIVATE_BYTES,value:n}),this._client.trackMetric({name:bo.PerformanceCounter.AVAILABLE_BYTES,value:t}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:bo.QuickPulseCounter.COMMITTED_BYTES,value:r})},e.prototype._trackNetwork=function(){var t=this._lastRequests,n={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},r=n.totalRequestCount-t.totalRequestCount||0,i=n.totalFailedRequestCount-t.totalFailedRequestCount||0,o=n.time-t.time,s=o/1e3,a=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/r||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,o>0){var u=r/s,c=i/s;this._client.trackMetric({name:bo.PerformanceCounter.REQUEST_RATE,value:u}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:bo.PerformanceCounter.REQUEST_DURATION,value:a}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:bo.QuickPulseCounter.REQUEST_FAILURE_RATE,value:c})}this._lastRequests=n},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,n={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},r=n.totalDependencyCount-t.totalDependencyCount||0,i=n.totalFailedDependencyCount-t.totalFailedDependencyCount||0,o=n.time-t.time,s=o/1e3,a=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/r||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,o>0){var u=r/s,c=i/s;this._client.trackMetric({name:bo.QuickPulseCounter.DEPENDENCY_RATE,value:u}),this._client.trackMetric({name:bo.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:c}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:bo.QuickPulseCounter.DEPENDENCY_DURATION,value:a})}this._lastDependencies=n}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,n={totalExceptionCount:e._totalExceptionCount,time:+new Date},r=n.totalExceptionCount-t.totalExceptionCount||0,i=n.time-t.time,o=i/1e3;if(i>0){var s=r/o;this._client.trackMetric({name:bo.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=n}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();lJ.exports=aIe});var dJ=w(DT=>{"use strict";Object.defineProperty(DT,"__esModule",{value:!0});DT.AggregatedMetricCounter=void 0;var cIe=function(){function e(t){this.dimensions=t,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}return e}();DT.AggregatedMetricCounter=cIe});var pJ=w(kT=>{"use strict";Object.defineProperty(kT,"__esModule",{value:!0});kT.PreaggregatedMetricPropertyNames=void 0;kT.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}});var S1=w((C1,fJ)=>{"use strict";var NT=C1&&C1.__assign||function(){return NT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},NT.apply(this,arguments)},OT=tn(),uIe=dJ(),lIe=pJ(),dIe=function(){function e(t,n){n===void 0&&(n=6e4),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,e._dependencyCountersCollection=[],e._requestCountersCollection=[],e._exceptionCountersCollection=[],e._traceCountersCollection=[],this._client=t,this._collectionInterval=n}return e.prototype.enable=function(t,n){var r=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._collectionInterval=n||this._collectionInterval,this._handle=setInterval(function(){return r.trackPreAggregatedMetrics()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countException=function(t){if(!!e.isEnabled()){var n=e._getAggregatedCounter(t,this._exceptionCountersCollection);n.totalCount++}},e.countTrace=function(t){if(!!e.isEnabled()){var n=e._getAggregatedCounter(t,this._traceCountersCollection);n.totalCount++}},e.countRequest=function(t,n){if(!!e.isEnabled()){var r,i=e._getAggregatedCounter(n,this._requestCountersCollection);if(typeof t=="string")r=+new Date("1970-01-01T"+t+"Z");else if(typeof t=="number")r=t;else return;i.intervalExecutionTime+=r,i.totalCount++}},e.countDependency=function(t,n){if(!!e.isEnabled()){var r=e._getAggregatedCounter(n,this._dependencyCountersCollection),i;if(typeof t=="string")i=+new Date("1970-01-01T"+t+"Z");else if(typeof t=="number")i=t;else return;r.intervalExecutionTime+=i,r.totalCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},e._getAggregatedCounter=function(t,n){for(var r=!1,i=0;i<n.length;i++){if(t===n[i].dimensions)return n[i];if(Object.keys(t).length===Object.keys(n[i].dimensions).length){for(var o in t)if(t[o]!=n[i].dimensions[o]){r=!0;break}if(!r)return n[i];r=!1}}var s=new uIe.AggregatedMetricCounter(t);return n.push(s),s},e.prototype._trackRequestMetrics=function(){for(var t=0;t<e._requestCountersCollection.length;t++){var n=e._requestCountersCollection[t];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime,o=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/r||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,i>0&&r>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:n.dimensions,value:o,count:r,aggregationInterval:i,metricType:OT.MetricId.REQUESTS_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackDependencyMetrics=function(){for(var t=0;t<e._dependencyCountersCollection.length;t++){var n=e._dependencyCountersCollection[t];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime,o=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/r||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,i>0&&r>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:n.dimensions,value:o,count:r,aggregationInterval:i,metricType:OT.MetricId.DEPENDENCIES_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackExceptionMetrics=function(){for(var t=0;t<e._exceptionCountersCollection.length;t++){var n=e._exceptionCountersCollection[t];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime;i>0&&r>0&&this._trackPreAggregatedMetric({name:"Exceptions",dimensions:n.dimensions,value:r,count:r,aggregationInterval:i,metricType:OT.MetricId.EXCEPTIONS_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackTraceMetrics=function(){for(var t=0;t<e._traceCountersCollection.length;t++){var n=e._traceCountersCollection[t];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime;i>0&&r>0&&this._trackPreAggregatedMetric({name:"Traces",dimensions:n.dimensions,value:r,count:r,aggregationInterval:i,metricType:OT.MetricId.TRACES_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackPreAggregatedMetric=function(t){var n={};for(var r in t.dimensions)n[lIe.PreaggregatedMetricPropertyNames[r]]=t.dimensions[r];n=NT(NT({},n),{"_MS.MetricId":t.metricType,"_MS.AggregationIntervalMs":String(t.aggregationInterval),"_MS.IsAutocollected":"True"});var i={name:t.name,value:t.value,count:t.count,properties:n,kind:"Aggregation"};this._client.trackMetric(i)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();fJ.exports=dIe});var hJ=w((I1,mJ)=>{"use strict";var pIe=I1&&I1.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Co=require("url"),T1=lr(),fIe=Yn(),mIe=Gm(),hIe=cF(),gIe=Ud(),vIe=function(e){pIe(t,e);function t(n,r){var i=e.call(this)||this;return r&&r.method&&n&&(i.method=r.method,i.url=t._getUrlFromRequestOptions(n,r),i.startTime=+new Date),i}return t.prototype.onError=function(n){this._setStatus(void 0,n)},t.prototype.onResponse=function(n){this._setStatus(n.statusCode,void 0),this.correlationId=fIe.getCorrelationContextTarget(n,mIe.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(n,r){var i=this.method.toUpperCase(),o=T1.RemoteDependencyDataConstants.TYPE_HTTP,s="";try{var a=new Co.URL(this.url);a.search=void 0,a.hash=void 0,i+=" "+a.pathname,s=a.hostname,a.port&&(s+=":"+a.port)}catch{}this.correlationId?(o=T1.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==gIe.correlationIdPrefix&&(s+=" | "+this.correlationId)):o=T1.RemoteDependencyDataConstants.TYPE_HTTP;var u={id:r,name:i,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:o,target:s};if(n&&n.time?u.time=n.time:this.startTime&&(u.time=new Date(this.startTime)),n){for(var c in n)u[c]||(u[c]=n[c]);if(n.properties)for(var c in n.properties)u.properties[c]=n.properties[c]}return u},t._getUrlFromRequestOptions=function(n,r){if(typeof n=="string")if(n.indexOf("http://")===0||n.indexOf("https://")===0)try{n=new Co.URL(n)}catch{}else try{var i=new Co.URL("http://"+n);i.port==="443"?n=new Co.URL("https://"+n):n=new Co.URL("http://"+n)}catch{}else{if(n&&typeof Co.URL=="function"&&n instanceof Co.URL)return Co.format(n);var o=n;n={},o&&Object.keys(o).forEach(function(u){n[u]=o[u]})}if(n.path&&n.host)try{var s=new Co.URL(n.path,"http://"+n.host+n.path);n.pathname=s.pathname,n.search=s.search}catch{}if(n.path&&n.hostname&&!n.host)try{var s=new Co.URL(n.path,"http://"+n.hostname+n.path);n.pathname=s.pathname,n.search=s.search}catch{}if(n.host&&n.port)try{var a=new Co.URL("http://"+n.host);!a.port&&n.port&&(n.hostname=n.host,delete n.host)}catch{}return n.protocol=n.protocol||r.agent&&r.agent.protocol||r.protocol||void 0,n.hostname=n.hostname||"localhost",Co.format(n)},t}(hIe);mJ.exports=vIe});var gJ=w(mh=>{"use strict";var LT=mh&&mh.__assign||function(){return LT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},LT.apply(this,arguments)};Object.defineProperty(mh,"__esModule",{value:!0});mh.parseEventHubSpan=void 0;var P1=(lt(),ui(Sd)),yIe=(Tr(),ui(k8)),xIe=(ls(),ui(KN)),_x=tn(),wIe=function(e){var t=0,n=0,r=yIe.hrTimeToMilliseconds(e.startTime);return e.links.forEach(function(i){var o=i.attributes,s=o==null?void 0:o[_x.ENQUEUED_TIME];s&&(t+=1,n+=r-(parseFloat(s.toString())||0))}),Math.max(n/(t||1),0)},EIe=function(e,t){var n,r=e.attributes[_x.AzNamespace],i=(e.attributes[xIe.SemanticAttributes.NET_PEER_NAME]||e.attributes["peer.address"]||"unknown").replace(/\/$/g,""),o=e.attributes[_x.MessageBusDestination]||"unknown";switch(e.kind){case P1.SpanKind.CLIENT:t.dependencyTypeName=r,t.target=i+"/"+o;break;case P1.SpanKind.PRODUCER:t.dependencyTypeName=_x.DependencyTypeName.QueueMessage+" | "+r,t.target=i+"/"+o;break;case P1.SpanKind.CONSUMER:t.source=i+"/"+o,t.measurements=LT(LT({},t.measurements),(n={},n[_x.TIME_SINCE_ENQUEUED]=wIe(e),n));break;default:}};mh.parseEventHubSpan=EIe});var xJ=w(FT=>{"use strict";Object.defineProperty(FT,"__esModule",{value:!0});FT.spanToTelemetryContract=void 0;var vJ=require("url"),hs=(lt(),ui(Sd)),Ne=(ls(),ui(KN)),cc=tn(),_Ie=gJ(),bIe=Yn();function CIe(e){for(var t={},n=0,r=Object.keys(e.attributes);n<r.length;n++){var i=r[n];i.startsWith("http.")||i.startsWith("rpc.")||i.startsWith("db.")||i.startsWith("peer.")||i.startsWith("net.")||(t[i]=e.attributes[i])}var o=e.links.map(function(s){return{operation_Id:s.context.traceId,id:s.context.spanId}});return o.length>0&&(t["_MS.links"]=bIe.stringify(o)),t}function SIe(e){return e===Ne.DbSystemValues.DB2||e===Ne.DbSystemValues.DERBY||e===Ne.DbSystemValues.MARIADB||e===Ne.DbSystemValues.MSSQL||e===Ne.DbSystemValues.ORACLE||e===Ne.DbSystemValues.SQLITE||e===Ne.DbSystemValues.OTHER_SQL||e===Ne.DbSystemValues.HSQLDB||e===Ne.DbSystemValues.H2}function yJ(e){var t=e.attributes[Ne.SemanticAttributes.HTTP_METHOD];if(t){var n=e.attributes[Ne.SemanticAttributes.HTTP_URL];if(n)return String(n);var r=e.attributes[Ne.SemanticAttributes.HTTP_SCHEME],i=e.attributes[Ne.SemanticAttributes.HTTP_TARGET];if(r&&i){var o=e.attributes[Ne.SemanticAttributes.HTTP_HOST];if(o)return r+"://"+o+i;var s=e.attributes[Ne.SemanticAttributes.NET_PEER_PORT];if(s){var a=e.attributes[Ne.SemanticAttributes.NET_PEER_NAME];if(a)return r+"://"+a+":"+s+i;var u=e.attributes[Ne.SemanticAttributes.NET_PEER_IP];if(u)return r+"://"+u+":"+s+i}}}return""}function R1(e){var t=e.attributes[Ne.SemanticAttributes.PEER_SERVICE],n=e.attributes[Ne.SemanticAttributes.HTTP_HOST],r=e.attributes[Ne.SemanticAttributes.HTTP_URL],i=e.attributes[Ne.SemanticAttributes.NET_PEER_NAME],o=e.attributes[Ne.SemanticAttributes.NET_PEER_IP];return t?String(t):n?String(n):r?String(r):i?String(i):o?String(o):""}function TIe(e){var t={name:e.name,success:e.status.code!=hs.SpanStatusCode.ERROR,resultCode:"0",duration:0,data:"",dependencyTypeName:""};e.kind===hs.SpanKind.PRODUCER&&(t.dependencyTypeName=cc.DependencyTypeName.QueueMessage),e.kind===hs.SpanKind.INTERNAL&&e.parentSpanId&&(t.dependencyTypeName=cc.DependencyTypeName.InProc);var n=e.attributes[Ne.SemanticAttributes.HTTP_METHOD],r=e.attributes[Ne.SemanticAttributes.DB_SYSTEM],i=e.attributes[Ne.SemanticAttributes.RPC_SYSTEM];if(n){t.dependencyTypeName=cc.DependencyTypeName.Http;var o=e.attributes[Ne.SemanticAttributes.HTTP_URL];if(o){var s="";try{var a=new vJ.URL(String(o));s=a.pathname}catch{}t.name=n+" "+s}t.data=yJ(e);var u=e.attributes[Ne.SemanticAttributes.HTTP_STATUS_CODE];u&&(t.resultCode=String(u));var c=R1(e);if(c){try{var l=new RegExp(/(https?)(:\/\/.*)(:\d+)(\S*)/),d=l.exec(c);if(d!=null){var p=d[1],f=d[3];(p=="https"&&f==":443"||p=="http"&&f==":80")&&(c=d[1]+d[2]+d[4])}}catch{}t.target=""+c}}else if(r){String(r)===Ne.DbSystemValues.MYSQL?t.dependencyTypeName="mysql":String(r)===Ne.DbSystemValues.POSTGRESQL?t.dependencyTypeName="postgresql":String(r)===Ne.DbSystemValues.MONGODB?t.dependencyTypeName="mongodb":String(r)===Ne.DbSystemValues.REDIS?t.dependencyTypeName="redis":SIe(String(r))?t.dependencyTypeName="SQL":t.dependencyTypeName=String(r);var m=e.attributes[Ne.SemanticAttributes.DB_STATEMENT],h=e.attributes[Ne.SemanticAttributes.DB_OPERATION];m?t.data=String(m):h&&(t.data=String(h));var c=R1(e),g=e.attributes[Ne.SemanticAttributes.DB_NAME];c?t.target=g?c+"|"+g:""+c:t.target=g?""+g:""+r}else if(i){t.dependencyTypeName=cc.DependencyTypeName.Grpc;var v=e.attributes[Ne.SemanticAttributes.RPC_GRPC_STATUS_CODE];v&&(t.resultCode=String(v));var c=R1(e);c?t.target=""+c:i&&(t.target=String(i))}return t}function IIe(e){var t={name:e.name,success:e.status.code!=hs.SpanStatusCode.ERROR,resultCode:"0",duration:0,url:"",source:void 0},n=e.attributes[Ne.SemanticAttributes.HTTP_METHOD],r=e.attributes[Ne.SemanticAttributes.RPC_GRPC_STATUS_CODE];if(n){if(e.kind==hs.SpanKind.SERVER){var i=e.attributes[Ne.SemanticAttributes.HTTP_ROUTE],o=e.attributes[Ne.SemanticAttributes.HTTP_URL];if(i)t.name=n+" "+i;else if(o)try{var s=new vJ.URL(String(o));t.name=n+" "+s.pathname}catch{}}t.url=yJ(e);var a=e.attributes[Ne.SemanticAttributes.HTTP_STATUS_CODE];a&&(t.resultCode=String(a))}else r&&(t.resultCode=String(r));return t}function PIe(e){var t;switch(e.kind){case hs.SpanKind.CLIENT:case hs.SpanKind.PRODUCER:case hs.SpanKind.INTERNAL:t=TIe(e);break;case hs.SpanKind.SERVER:case hs.SpanKind.CONSUMER:t=IIe(e);break}var n=e.spanContext?e.spanContext():e.context(),r=""+n.spanId,i=Math.round(e.duration[0]*1e3+e.duration[1]/1e6);return t.id=r,t.duration=i,t.properties=CIe(e),e.attributes[cc.AzNamespace]&&(e.kind===hs.SpanKind.INTERNAL&&(t.dependencyTypeName=cc.DependencyTypeName.InProc+" | "+e.attributes[cc.AzNamespace]),e.attributes[cc.AzNamespace]===cc.MicrosoftEventHub&&_Ie.parseEventHubSpan(e,t)),t}FT.spanToTelemetryContract=PIe});var EJ=w(ju=>{"use strict";var hh=ju&&ju.__assign||function(){return hh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},hh.apply(this,arguments)};Object.defineProperty(ju,"__esModule",{value:!0});ju.AsyncScopeManager=ju.OpenTelemetryScopeManagerWrapper=void 0;var $u=Fu(),RIe=require("events"),wJ=function(){function e(){}return e.prototype.active=function(){var t=this,n=$u.CorrelationContextManager.getCurrentContext();return hh(hh({},n),{getValue:function(r){return t._activeSymbol?r===t._activeSymbol?n:!1:(t._activeSymbol=r,n)},setValue:function(){}})},e.prototype.with=function(t,n){var r=t.parentSpanId,i=t.name,o=e._spanToContext(t,r,i);return $u.CorrelationContextManager.runWithContext(o,n)()},e.prototype.bind=function(t){return typeof t=="function"?$u.CorrelationContextManager.wrapCallback(t):(t instanceof RIe.EventEmitter&&$u.CorrelationContextManager.wrapEmitter(t),t)},e.prototype.enable=function(){return $u.CorrelationContextManager.enable(),this},e.prototype.disable=function(){return $u.CorrelationContextManager.disable(),this},e._spanToContext=function(t,n,r){var i=t.spanContext?t.spanContext():t.context(),o=hh(hh({},t.spanContext()),{traceFlags:t.spanContext().traceFlags}),s=n?"|"+i.traceId+"."+n+".":i.traceId,a=$u.CorrelationContextManager.getCurrentContext();a&&(o.traceId=a.operation.id,n||(s=a.operation.parentId));var u=$u.CorrelationContextManager.spanToContextObject(o,s,r);return u},e}();ju.OpenTelemetryScopeManagerWrapper=wJ;ju.AsyncScopeManager=new wJ});var _J=w(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.enable=Hu.subscriber=void 0;var bx=(lt(),ui(Sd)),AIe=tn(),A1=Zt(),DIe=xJ(),kIe=EJ(),zd=[],OIe=function(e){try{var t=e.data,n=DIe.spanToTelemetryContract(t);kIe.AsyncScopeManager.with(t,function(){zd.forEach(function(r){t.kind===bx.SpanKind.SERVER||t.kind===bx.SpanKind.CONSUMER?r.trackRequest(n):(t.kind===bx.SpanKind.CLIENT||t.kind===bx.SpanKind.INTERNAL||t.kind===bx.SpanKind.PRODUCER)&&r.trackDependency(n)})})}catch{}};Hu.subscriber=OIe;function NIe(e,t){if(e){var n=zd.find(function(r){return r==t});if(n)return;zd.length===0&&A1.channel.subscribe("azure-coretracing",Hu.subscriber,A1.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(AIe.StatsbeatInstrumentation.AZURE_CORE_TRACING)}),zd.push(t)}else zd=zd.filter(function(r){return r!=t}),zd.length===0&&A1.channel.unsubscribe("azure-coretracing",Hu.subscriber)}Hu.enable=NIe});var bJ=w(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.enable=Bu.subscriber=void 0;var LIe=tn(),D1=Zt(),Yd=[],FIe=function(e){e.data.event.commandName!=="ismaster"&&Yd.forEach(function(t){var n=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:n,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",time:e.data.startedData.time,dependencyTypeName:"mongodb"})})};Bu.subscriber=FIe;function MIe(e,t){if(e){var n=Yd.find(function(r){return r==t});if(n)return;Yd.length===0&&D1.channel.subscribe("mongodb",Bu.subscriber,D1.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(LIe.StatsbeatInstrumentation.MONGODB)}),Yd.push(t)}else Yd=Yd.filter(function(r){return r!=t}),Yd.length===0&&D1.channel.unsubscribe("mongodb",Bu.subscriber)}Bu.enable=MIe});var CJ=w(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.enable=Vu.subscriber=void 0;var UIe=tn(),k1=Zt(),Kd=[],qIe=function(e){Kd.forEach(function(t){var n=e.data.query||{},r=n.sql||"Unknown query",i=!e.data.err,o=n._connection||{},s=o.config||{},a=s.socketPath?s.socketPath:(s.host||"localhost")+":"+s.port;t.trackDependency({target:a,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",time:e.data.time,dependencyTypeName:"mysql"})})};Vu.subscriber=qIe;function $Ie(e,t){if(e){var n=Kd.find(function(r){return r==t});if(n)return;Kd.length===0&&k1.channel.subscribe("mysql",Vu.subscriber,k1.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(UIe.StatsbeatInstrumentation.MYSQL)}),Kd.push(t)}else Kd=Kd.filter(function(r){return r!=t}),Kd.length===0&&k1.channel.unsubscribe("mysql",Vu.subscriber)}Vu.enable=$Ie});var SJ=w(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.enable=Wu.subscriber=void 0;var jIe=tn(),O1=Zt(),Xd=[],HIe=function(e){Xd.forEach(function(t){e.data.commandObj.command!=="info"&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",time:e.data.time,dependencyTypeName:"redis"})})};Wu.subscriber=HIe;function BIe(e,t){if(e){var n=Xd.find(function(r){return r==t});if(n)return;Xd.length===0&&O1.channel.subscribe("redis",Wu.subscriber,O1.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(jIe.StatsbeatInstrumentation.REDIS)}),Xd.push(t)}else Xd=Xd.filter(function(r){return r!=t}),Xd.length===0&&O1.channel.unsubscribe("redis",Wu.subscriber)}Wu.enable=BIe});var TJ=w(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.enable=Gu.subscriber=void 0;var VIe=tn(),N1=Zt(),Qd=[],WIe=function(e){Qd.forEach(function(t){var n=e.data.query,r=n.preparable&&n.preparable.text||n.plan||n.text||"unknown query",i=!e.data.error,o=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:o,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",time:e.data.time,dependencyTypeName:"postgres"})})};Gu.subscriber=WIe;function GIe(e,t){if(e){var n=Qd.find(function(r){return r==t});if(n)return;Qd.length===0&&N1.channel.subscribe("postgres",Gu.subscriber,N1.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(VIe.StatsbeatInstrumentation.POSTGRES)}),Qd.push(t)}else Qd=Qd.filter(function(r){return r!=t}),Qd.length===0&&N1.channel.unsubscribe("postgres",Gu.subscriber)}Gu.enable=GIe});var yh=w((F1,IJ)=>{"use strict";var MT=F1&&F1.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},gh=require("http"),vh=require("https"),UT=Mt(),L1=Yn(),zu=Gm(),zIe=hJ(),Cx=Fu(),Sx=Ud(),qT=HS(),YIe=$S(),KIe=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(t){this._isEnabled=t,this._isEnabled&&!this._isInitialized&&this._initialize(),YIe.IsInitialized&&(_J().enable(t,this._client),bJ().enable(t,this._client),CJ().enable(t,this._client),SJ().enable(t,this._client),TJ().enable(t,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=gh.request,r=vh.request,i=function(o,s){try{var a=!s[e.disableCollectionRequestOption]&&!o[e.alreadyAutoCollectedFlag],u=null;if(s.headers&&(u=s.headers["User-Agent"]||s.headers["user-agent"],u&&u.toString().indexOf("azsdk-js")!==-1&&(a=!1)),o&&s&&a&&(Cx.CorrelationContextManager.wrapEmitter(o),t._isEnabled))if(o[e.alreadyAutoCollectedFlag]=!0,Cx.CorrelationContextManager.getCurrentContext())e.trackRequest(t._client,{options:s,request:o});else{var c=null;if(Sx.w3cEnabled){var l=new qT;c=l.traceId}else{var d=Sx.generateRequestId(null);c=Sx.getRootId(d)}var p=Cx.CorrelationContextManager.generateContextObject(c);Cx.CorrelationContextManager.runWithContext(p,function(){e.trackRequest(t._client,{options:s,request:o})})}}catch(f){UT.warn("Failed to generate dependency telemetry.",L1.dumpObj(f))}};gh.request=function(o){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];var u=n.call.apply(n,MT([gh,o],s));return i(u,o),u},vh.request=function(o){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];var u=r.call.apply(r,MT([vh,o],s));return i(u,o),u},gh.get=function(o){for(var s,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];var c=(s=gh.request).call.apply(s,MT([gh,o],a));return c.end(),c},vh.get=function(o){for(var s,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];var c=(s=vh.request).call.apply(s,MT([vh,o],a));return c.end(),c}},e.trackRequest=function(t,n){if(!n.options||!n.request||!t){UT.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!n.options,!n.request,!t);return}var r=new zIe(n.options,n.request),i=Cx.CorrelationContextManager.getCurrentContext(),o,s;if(i&&i.operation&&i.operation.traceparent&&qT.isValidTraceId(i.operation.traceparent.traceId))i.operation.traceparent.updateSpanId(),o=i.operation.traceparent.getBackCompatRequestId();else if(Sx.w3cEnabled){var a=new qT;s=a.toString(),o=a.getBackCompatRequestId()}else o=i&&i.operation&&i.operation.parentId+e.requestNumber+++".";if(L1.canIncludeCorrelationHeader(t,r.getUrl())&&n.request.getHeader&&n.request.setHeader&&t.config&&t.config.correlationId){var u=n.request.getHeader(zu.requestContextHeader);try{L1.safeIncludeCorrelationHeader(t,n.request,u)}catch(d){UT.warn("Request-Context header could not be set. Correlation of requests may be lost",d)}if(i&&i.operation)try{if(n.request.setHeader(zu.requestIdHeader,o),t.config.ignoreLegacyHeaders||(n.request.setHeader(zu.parentIdHeader,i.operation.id),n.request.setHeader(zu.rootIdHeader,o)),s||i.operation.traceparent)n.request.setHeader(zu.traceparentHeader,s||i.operation.traceparent.toString());else if(Sx.w3cEnabled){var a=new qT().toString();n.request.setHeader(zu.traceparentHeader,a)}if(i.operation.tracestate){var c=i.operation.tracestate.toString();c&&n.request.setHeader(zu.traceStateHeader,c)}var l=i.customProperties.serializeToHeader();l&&n.request.setHeader(zu.correlationContextHeader,l)}catch(d){UT.warn("Correlation headers could not be set. Correlation of requests may be lost.",d)}}n.request.on&&(n.request.on("response",function(d){if(!n.isProcessed){n.isProcessed=!0,r.onResponse(d);var p=r.getDependencyTelemetry(n,o);p.contextObjects=p.contextObjects||{},p.contextObjects["http.RequestOptions"]=n.options,p.contextObjects["http.ClientRequest"]=n.request,p.contextObjects["http.ClientResponse"]=d,t.trackDependency(p)}}),n.request.on("error",function(d){if(!n.isProcessed){n.isProcessed=!0,r.onError(d);var p=r.getDependencyTelemetry(n,o);p.contextObjects=p.contextObjects||{},p.contextObjects["http.RequestOptions"]=n.options,p.contextObjects["http.ClientRequest"]=n.request,p.contextObjects.Error=d,t.trackDependency(p)}}),n.request.on("abort",function(){if(!n.isProcessed){n.isProcessed=!0,r.onError(new Error("The request has been aborted and the network socket has closed."));var d=r.getDependencyTelemetry(n,o);d.contextObjects=d.contextObjects||{},d.contextObjects["http.RequestOptions"]=n.options,d.contextObjects["http.ClientRequest"]=n.request,t.trackDependency(d)}}))},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();IJ.exports=KIe});var M1=w($T=>{"use strict";Object.defineProperty($T,"__esModule",{value:!0});$T.AzureVirtualMachine=void 0;var PJ=Mt(),XIe=Yn(),QIe=yh(),JIe="http://169.254.169.254/metadata/instance/compute",ZIe="api-version=2017-12-01",ePe="format=json",tPe="UNREACH",nPe=function(){function e(){}return e.getAzureComputeMetadata=function(t,n){var r,i=this,o={},s=JIe+"?"+ZIe+"&"+ePe,a=(r={method:"GET"},r[QIe.disableCollectionRequestOption]=!0,r.headers={Metadata:"True"},r),u=XIe.makeRequest(t,s,a,function(c){if(c.statusCode===200){o.isVM=!0;var l="";c.on("data",function(d){l+=d}),c.on("end",function(){try{var d=JSON.parse(l);o.id=d.vmId||"",o.subscriptionId=d.subscriptionId||"",o.osType=d.osType||""}catch(p){PJ.info(e.TAG,p)}n(o)})}else n(o)},!1,!1);u&&(setTimeout(function(){i._requestTimedOut=!0,u.abort()},e.HTTP_TIMEOUT),u.on("error",function(c){i._requestTimedOut&&c&&(c.name="telemetry timeout",c.message="telemetry request timed out"),c&&c.message&&c.message.indexOf(tPe)>-1?o.isVM=!1:PJ.info(e.TAG,c),n(o)}),u.end())},e.HTTP_TIMEOUT=2500,e.TAG="AzureVirtualMachine",e}();$T.AzureVirtualMachine=nPe});var xh=w((uJe,RJ)=>{"use strict";var uc=require("os"),rPe=require("fs"),iPe=require("path"),oPe=lr(),sPe=tn(),aPe=Mt(),cPe=function(){function e(t){this.keys=new oPe.ContextTagKeys,this.tags={},this._loadApplicationContext(t),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||iPe.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var n=JSON.parse(rPe.readFileSync(t,"utf8"));n&&typeof n.version=="string"&&(e.appVersion[t]=n.version)}catch(r){aPe.info("unable to read app version: ",r)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=uc&&uc.hostname(),this.tags[this.keys.deviceOSVersion]=uc&&uc.type()+" "+uc.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=uc&&uc.arch(),this.tags["ai.device.osPlatform"]=uc&&uc.platform()},e.prototype._loadInternalContext=function(){e.sdkVersion=sPe.APPLICATION_INSIGHTS_SDK_VERSION,this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();RJ.exports=cPe});var kJ=w((lJe,DJ)=>{"use strict";var uPe=require("os"),lPe=M1(),AJ=tn(),dPe=xh(),pPe=function(){function e(t){this._collectionInterval=9e5,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t}return e.prototype.enable=function(t){var n=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._handle=setInterval(function(){return n.trackHeartBeat(n._client.config,function(){})},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackHeartBeat=function(t,n){var r=this,i=!1,o={},s=dPe.sdkVersion;o.sdk=s,o.osType=uPe.type(),process.env.WEBSITE_SITE_NAME?(o.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",o.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",o.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?o.azfunction_appId=process.env.WEBSITE_HOSTNAME:t&&this._isVM===void 0&&(i=!0,lPe.AzureVirtualMachine.getAzureComputeMetadata(t,function(a){r._isVM=a.isVM,r._isVM&&(o.azInst_vmId=a.id,o.azInst_subscriptionId=a.subscriptionId,o.azInst_osType=a.osType),r._client.trackMetric({name:AJ.HeartBeatMetricName,value:0,properties:o}),n()})),i||(this._client.trackMetric({name:AJ.HeartBeatMetricName,value:0,properties:o}),n())},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();DJ.exports=pPe});var OJ=w(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.isContentTypeHeaderHtml=Se.insertSnippetByIndex=Se.getContentEncodingFromHeaders=Se.isSupportedContentEncoding=Se.findBufferEncodingType=Se.isBufferType=Se.getBrotliDecompressSync=Se.getBrotliDecompressAsync=Se.getBrotliCompressSync=Se.getBrotliCompressAsync=Se.inflateAsync=Se.deflateAsync=Se.gunzipAsync=Se.gzipAsync=Se.isBrotliSupperted=Se.bufferEncodingTypes=Se.contentEncodingMethod=void 0;var HT=require("zlib"),wh=require("util"),jT;(function(e){e.GZIP="gzip",e.DEFLATE="deflate",e.BR="br"})(jT=Se.contentEncodingMethod||(Se.contentEncodingMethod={}));Se.bufferEncodingTypes=["utf8","utf16le","latin1","base64","hex","ascii","binary","ucs2"];var fPe=function(){var e=process.versions.node.split(".")[0];return parseInt(e)>=10};Se.isBrotliSupperted=fPe;Se.gzipAsync=wh.promisify(HT.gzip);Se.gunzipAsync=wh.promisify(HT.gunzip);Se.deflateAsync=wh.promisify(HT.deflate);Se.inflateAsync=wh.promisify(HT.inflate);var mPe=function(e){var t=Se.isBrotliSupperted();return t&&typeof e.brotliCompress=="function"?wh.promisify(e.brotliCompress):null};Se.getBrotliCompressAsync=mPe;var hPe=function(e){var t=Se.isBrotliSupperted();return t&&typeof e.brotliCompressSync=="function"?e.brotliCompressSync:null};Se.getBrotliCompressSync=hPe;var gPe=function(e){var t=Se.isBrotliSupperted();return t&&typeof e.brotliDecompress=="function"?wh.promisify(e.brotliDecompress):null};Se.getBrotliDecompressAsync=gPe;var vPe=function(e){var t=Se.isBrotliSupperted();return t&&typeof e.brotliDecompressSync=="function"?e.brotliDecompressSync:null};Se.getBrotliDecompressSync=vPe;var yPe=function(e,t){var n=t||"utf8",r=!1;if(Buffer.isEncoding(n)){var i=Buffer.from(e.toString(n),n);r=i.toJSON().data.toString()===e.toJSON().data.toString()}return r};Se.isBufferType=yPe;var xPe=function(e){var t=null;for(var n in Se.bufferEncodingTypes){var r=Se.bufferEncodingTypes[n];if(Buffer.isEncoding(r)&&Se.isBufferType(e,r)){t=r;break}}return t};Se.findBufferEncodingType=xPe;var wPe=function(e){var t=null;switch(e){case"gzip":t=jT.GZIP;break;case"br":t=jT.BR;break;case"deflate":t=jT.DEFLATE;break;default:}return t};Se.isSupportedContentEncoding=wPe;var EPe=function(e){var t=[],n=e.getHeader("Content-Encoding");if(!n)return null;if(typeof n=="string"){var r=Se.isSupportedContentEncoding(n);r&&t.push(r)}return t};Se.getContentEncodingFromHeaders=EPe;var _Pe=function(e,t,n){if(e<0)return null;var r=null,i=t.substring(0,e),o=t.substring(e);return r=i+'<script type="text/javascript">'+n+"</script>"+o,r};Se.insertSnippetByIndex=_Pe;var bPe=function(e){var t=!1,n=e.getHeader("Content-Type");return n&&(typeof n=="string"?t=n.indexOf("html")>=0:t=n.toString().indexOf("html")>=0),t};Se.isContentTypeHeaderHtml=bPe});var NJ=w(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.getResourceProvider=Mn.getOsPrefix=Mn.isFunctionApp=Mn.isWebApp=Mn.isLinux=Mn.isWindows=void 0;var CPe=function(){return process.platform==="win32"};Mn.isWindows=CPe;var SPe=function(){return process.platform==="linux"};Mn.isLinux=SPe;var TPe=function(){return!!process.env.WEBSITE_SITE_NAME};Mn.isWebApp=TPe;var IPe=function(){return!!process.env.FUNCTIONS_WORKER_RUNTIME};Mn.isFunctionApp=IPe;var PPe=function(){return Mn.isWindows()?"w":Mn.isLinux()?"l":"u"};Mn.getOsPrefix=PPe;var RPe=function(){return Mn.isWebApp()?"a":Mn.isFunctionApp()?"f":"u"};Mn.getResourceProvider=RPe});var U1=w((fJe,FJ)=>{"use strict";var LJ=tn(),APe=function(){function e(){}return e.parse=function(t){if(!t)return{};var n=t.split(e._FIELDS_SEPARATOR),r=n.reduce(function(o,s){var a=s.split(e._FIELD_KEY_VALUE_SEPARATOR);if(a.length===2){var u=a[0].toLowerCase(),c=a[1];o[u]=c}return o},{});if(Object.keys(r).length>0){if(r.endpointsuffix){var i=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+i+"dc."+r.endpointsuffix,r.liveendpoint=r.liveendpoint||"https://"+i+"live."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||LJ.DEFAULT_BREEZE_ENDPOINT,r.liveendpoint=r.liveendpoint||LJ.DEFAULT_LIVEMETRICS_ENDPOINT}return r},e.isIkeyValid=function(t){if(!t||t=="")return!1;var n="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",r=new RegExp(n);return r.test(t)},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();FJ.exports=APe});var MJ={};bs(MJ,{webSnippet:()=>DPe});var DPe,UJ=S(()=>{DPe=`!function(T,l,y){var S=T.location,k="script",D="instrumentationKey",C="ingestionendpoint",I="disableExceptionTracking",E="ai.device.",b="toLowerCase",w="crossOrigin",N="POST",e="appInsightsSDK",t=y.name||"appInsights";(y.name||T[e])&&(T[e]=t);var n=T[t]||function(d){var g=!1,f=!1,m={initialize:!0,queue:[],sv:"5",version:2,config:d};function v(e,t){var n={},a="Browser";return n[E+"id"]=a[b](),n[E+"type"]=a,n["ai.operation.name"]=S&&S.pathname||"_unknown_",n["ai.internal.sdkVersion"]="javascript:snippet_"+(m.sv||m.version),{time:function(){var e=new Date;function t(e){var t=""+e;return 1===t.length&&(t="0"+t),t}return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+((e.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}(),iKey:e,name:"Microsoft.ApplicationInsights."+e.replace(/-/g,"")+"."+t,sampleRate:100,tags:n,data:{baseData:{ver:2}}}}var h=d.url||y.src;if(h){function a(e){var t,n,a,i,r,o,s,c,u,p,l;g=!0,m.queue=[],f||(f=!0,t=h,s=function(){var e={},t=d.connectionString;if(t)for(var n=t.split(";"),a=0;a<n.length;a++){var i=n[a].split("=");2===i.length&&(e[i[0][b]()]=i[1])}if(!e[C]){var r=e.endpointsuffix,o=r?e.location:null;e[C]="https://"+(o?o+".":"")+"dc."+(r||"services.visualstudio.com")}return e}(),c=s[D]||d[D]||"",u=s[C],p=u?u+"/v2/track":d.endpointUrl,(l=[]).push((n="SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)",a=t,i=p,(o=(r=v(c,"Exception")).data).baseType="ExceptionData",o.baseData.exceptions=[{typeName:"SDKLoadFailed",message:n.replace(/\\./g,"-"),hasFullStack:!1,stack:n+"\\nSnippet failed to load ["+a+"] -- Telemetry is disabled\\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\\nHost: "+(S&&S.pathname||"_unknown_")+"\\nEndpoint: "+i,parsedStack:[]}],r)),l.push(function(e,t,n,a){var i=v(c,"Message"),r=i.data;r.baseType="MessageData";var o=r.baseData;return o.message='AI (Internal): 99 message:"'+("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) ("+n+")").replace(/\\"/g,"")+'"',o.properties={endpoint:a},i}(0,0,t,p)),function(e,t){if(JSON){var n=T.fetch;if(n&&!y.useXhr)n(t,{method:N,body:JSON.stringify(e),mode:"cors"});else if(XMLHttpRequest){var a=new XMLHttpRequest;a.open(N,t),a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify(e))}}}(l,p))}function i(e,t){f||setTimeout(function(){!t&&m.core||a()},500)}var e=function(){var n=l.createElement(k);n.src=h;var e=y[w];return!e&&""!==e||"undefined"==n[w]||(n[w]=e),n.onload=i,n.onerror=a,n.onreadystatechange=function(e,t){"loaded"!==n.readyState&&"complete"!==n.readyState||i(0,t)},n}();y.ld<0?l.getElementsByTagName("head")[0].appendChild(e):setTimeout(function(){l.getElementsByTagName(k)[0].parentNode.appendChild(e)},y.ld||0)}try{m.cookie=l.cookie}catch(p){}function t(e){for(;e.length;)!function(t){m[t]=function(){var e=arguments;g||m.queue.push(function(){m[t].apply(m,e)})}}(e.pop())}var n="track",r="TrackPage",o="TrackEvent";t([n+"Event",n+"PageView",n+"Exception",n+"Trace",n+"DependencyData",n+"Metric",n+"PageViewPerformance","start"+r,"stop"+r,"start"+o,"stop"+o,"addTelemetryInitializer","setAuthenticatedUserContext","clearAuthenticatedUserContext","flush"]),m.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4};var s=(d.extensionConfig||{}).ApplicationInsightsAnalytics||{};if(!0!==d[I]&&!0!==s[I]){var c="onerror";t(["_"+c]);var u=T[c];T[c]=function(e,t,n,a,i){var r=u&&u(e,t,n,a,i);return!0!==r&&m["_"+c]({message:e,url:t,lineNumber:n,columnNumber:a,error:i}),r},d.autoExceptionInstrumented=!0}return m}(y.cfg);function a(){y.onInit&&y.onInit(n)}(T[t]=n).queue&&0===n.queue.length?(n.queue.push(a),n.trackPageView({})):a()}(window,document,{\r
src: "https://js.monitor.azure.com/scripts/b/ai.2.min.js", // The SDK URL Source\r
// name: "appInsights", // Global SDK Instance name defaults to "appInsights" when not supplied\r
// ld: 0, // Defines the load delay (in ms) before attempting to load the sdk. -1 = block page load and add to head. (default) = 0ms load after timeout,\r
// useXhr: 1, // Use XHR instead of fetch to report failures (if available),\r
// crossOrigin: "anonymous", // When supplied this will add the provided value as the cross origin attribute on the script tag\r
// onInit: null, // Once the application insights instance has loaded and initialized this callback function will be called with 1 argument -- the sdk instance (DO NOT ADD anything to the sdk.queue -- As they won't get called)\r
cfg: { // Application Insights Configuration\r
    instrumentationKey: "INSTRUMENTATION_KEY"\r
}});`});var VJ=w((mJe,BJ)=>{"use strict";var qJ=require("http"),$J=require("https"),Eh=require("zlib"),ta=Mt(),So=OJ(),jJ=NJ(),Tx=tn(),HJ=U1(),kPe=(UJ(),ui(MJ)),OPe=function(){function e(t){var n;if(this._isIkeyValid=!0,e.INSTANCE)throw new Error("Web snippet injection should be configured from the applicationInsights object");e.INSTANCE=this,e._aiUrl=Tx.WEB_INSTRUMENTATION_DEFAULT_SOURCE,e._aiDeprecatedUrl=Tx.WEB_INSTRUMENTATION_DEPRECATED_SOURCE;var r=this._getWebSnippetIkey((n=t.config)===null||n===void 0?void 0:n.webInstrumentationConnectionString);this._webInstrumentationIkey=r||t.config.instrumentationKey,this._clientWebInstrumentationConfig=t.config.webInstrumentationConfig,this._clientWebInstrumentationSrc=t.config.webInstrumentationSrc,this._statsbeat=t.getStatsbeat()}return e.prototype.enable=function(t,n){this._isEnabled=t,this._webInstrumentationIkey=this._getWebSnippetIkey(n)||this._webInstrumentationIkey,e._snippet=this._getWebInstrumentationReplacedStr(),this._isEnabled&&!this._isInitialized&&this._isIkeyValid?(this._statsbeat&&this._statsbeat.addFeature(Tx.StatsbeatFeature.WEB_SNIPPET),this._initialize()):this._isEnabled||this._statsbeat&&this._statsbeat.removeFeature(Tx.StatsbeatFeature.WEB_SNIPPET)},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._getWebSnippetIkey=function(t){var n=null;try{var r=HJ.parse(t),i=r.instrumentationkey||"";HJ.isIkeyValid(i)?(this._isIkeyValid=!0,n=i):(this._isIkeyValid=!1,ta.info("Invalid web Instrumentation connection string, web Instrumentation is not enabled."))}catch(o){ta.info("get web snippet ikey error: "+o)}return n},e.prototype._getWebInstrumentationReplacedStr=function(){var t=this._getClientWebInstrumentationConfigStr(this._clientWebInstrumentationConfig),n=jJ.getOsPrefix(),r=jJ.getResourceProvider(),i=this._webInstrumentationIkey+`",\r
`+t+` disableIkeyDeprecationMessage: true,\r
 sdkExtension: "`+r+n+"d_n_",o=kPe.webSnippet.replace("INSTRUMENTATION_KEY",i);return this._clientWebInstrumentationSrc?o.replace(Tx.WEB_INSTRUMENTATION_DEFAULT_SOURCE+".2.min.js",this._clientWebInstrumentationSrc):o},e.prototype._getClientWebInstrumentationConfigStr=function(t){var n="";try{t!=null&&t.length>0&&t.forEach(function(r){var i=r.name;if(i!==void 0){var o=r.value,s="";switch(typeof o){case"function":break;case"object":break;case"string":s=" "+i+': "'+o+`",\r
`,n+=s;break;default:s=" "+i+": "+o+`,\r
`,n+=s;break}}})}catch{this._isEnabled=!1,ta.info("Parse client web instrumentation error. Web Instrumentation is disabled")}return n},e.prototype._initialize=function(){this._isInitialized=!0;var t=qJ.createServer,n=$J.createServer,r=this._isEnabled;qJ.createServer=function(i){var o=i;return o&&(i=function(s,a){var u=a.write,c=s.method=="GET";a.write=function(p,f,m){try{if(r&&c){var h=So.getContentEncodingFromHeaders(a),g=void 0;if(typeof f=="string"&&(g=f),h==null)e.INSTANCE.ValidateInjection(a,p)&&(arguments[0]=e.INSTANCE.InjectWebSnippet(a,p,void 0,g));else if(h.length){var v=h[0];arguments[0]=e.INSTANCE.InjectWebSnippet(a,p,v)}}}catch(y){ta.warn("Inject snippet error: "+y)}return u.apply(a,arguments)};var l=a.end;return a.end=function(p,f,m){if(r&&c)try{if(r&&c){var h=So.getContentEncodingFromHeaders(a),g=void 0;if(typeof f=="string"&&(g=f),h==null)e.INSTANCE.ValidateInjection(a,p)&&(arguments[0]=e.INSTANCE.InjectWebSnippet(a,p,void 0,g));else if(h.length){var v=h[0];arguments[0]=e.INSTANCE.InjectWebSnippet(a,p,v)}}}catch(y){ta.warn("Inject snipet error: "+y)}return l.apply(a,arguments)},o(s,a)}),t(i)},$J.createServer=function(i,o){var s=o;if(s)return o=function(a,u){var c=a.method=="GET",l=u.write,d=u.end;return u.write=function(f,m,h){try{if(r&&c){var g=So.getContentEncodingFromHeaders(u),v=void 0;if(typeof m=="string"&&(v=m),g==null)e.INSTANCE.ValidateInjection(u,f)&&(arguments[0]=this.InjectWebSnippet(u,f,void 0,v));else if(g.length){var y=g[0];arguments[0]=e.INSTANCE.InjectWebSnippet(u,f,y)}}}catch(x){ta.warn("Inject snippet error: "+x)}return l.apply(u,arguments)},u.end=function(f,m,h){try{if(r&&c){var g=So.getContentEncodingFromHeaders(u),v=void 0;if(typeof m=="string"&&(v=m),g==null)e.INSTANCE.ValidateInjection(u,f)&&(arguments[0]=e.INSTANCE.InjectWebSnippet(u,f,void 0,v));else if(g.length){var y=g[0];arguments[0]=e.INSTANCE.InjectWebSnippet(u,f,y)}}}catch(x){ta.warn("Inject snippet error: "+x)}return d.apply(u,arguments)},s(a,u)},n(i,o)}},e.prototype.ValidateInjection=function(t,n){try{if(!t||!n||t.statusCode!=200)return!1;var r=So.isContentTypeHeaderHtml(t);if(!r)return!1;var i=n.slice().toString();if(i.indexOf("<head>")>=0&&i.indexOf("</head>")>=0&&i.indexOf(e._aiUrl)<0&&i.indexOf(e._aiDeprecatedUrl)<0)return!0}catch(o){ta.info("validate injections error: "+o)}return!1},e.prototype.InjectWebSnippet=function(t,n,r,i){try{var o=!!r;if(o)t.removeHeader("Content-Length"),n=this._getInjectedCompressBuffer(t,n,r),t.setHeader("Content-Length",n.length);else{var s=n.toString(),a=s.indexOf("</head>");if(a<0)return n;var u=So.insertSnippetByIndex(a,s,e._snippet);if(typeof n=="string")t.removeHeader("Content-Length"),n=u,t.setHeader("Content-Length",Buffer.byteLength(n));else if(Buffer.isBuffer(n)){var c=i||"utf8",l=So.isBufferType(n,c);if(l){t.removeHeader("Content-Length");var d=Buffer.from(u).toString(c);n=Buffer.from(d,c),t.setHeader("Content-Length",n.length)}}}}catch(p){ta.warn("Failed to inject web snippet and change content-lenght headers. Exception:"+p)}return n},e.prototype._getInjectedCompressBuffer=function(t,n,r){try{switch(r){case So.contentEncodingMethod.GZIP:var i=Eh.gunzipSync(n);if(this.ValidateInjection(t,i)){var o=this.InjectWebSnippet(t,i);n=Eh.gzipSync(o)}break;case So.contentEncodingMethod.DEFLATE:var s=Eh.inflateSync(n);if(this.ValidateInjection(t,s)){var a=this.InjectWebSnippet(t,s);n=Eh.deflateSync(a)}break;case So.contentEncodingMethod.BR:var u=So.getBrotliDecompressSync(Eh),c=So.getBrotliCompressSync(Eh);if(u&&c){var l=u(n);if(this.ValidateInjection(t,l)){var d=this.InjectWebSnippet(t,l);n=c(d)}break}}}catch(p){ta.info("get web injection compress buffer error: "+p)}return n},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();BJ.exports=OPe});var $1=w((hJe,KJ)=>{"use strict";var WJ=require("http"),GJ=require("https"),zJ=Mt(),YJ=Yn(),NPe=Gm(),q1=dF(),lc=Fu(),LPe=AT(),FPe=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(t){this._isEnabled=t,(this._isAutoCorrelating||this._isEnabled||LPe.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(t,n){t&&!this._isAutoCorrelating?lc.CorrelationContextManager.enable(n):!t&&this._isAutoCorrelating&&lc.CorrelationContextManager.disable(),this._isAutoCorrelating=t},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(t){if(!!this._isAutoCorrelating)return lc.CorrelationContextManager.generateContextObject(t.getOperationId(this._client.context.tags),t.getRequestId(),t.getOperationName(this._client.context.tags),t.getCorrelationContextHeader(),t.getTraceparent(),t.getTracestate())},e.prototype._registerRequest=function(t,n,r){var i=this,o=new q1(t),s=this._generateCorrelationContext(o);lc.CorrelationContextManager.runWithContext(s,function(){i._isEnabled&&(t[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(i._client,{request:t,response:n},o)),typeof r=="function"&&r(t,n)})},e.prototype._initialize=function(){if(this._isInitialized=!0,!e.HANDLER_READY){e.HANDLER_READY=!0;var t=function(o){if(!!o){if(typeof o!="function")throw new Error("onRequest handler must be a function");return function(s,a){var u;lc.CorrelationContextManager.wrapEmitter(s),lc.CorrelationContextManager.wrapEmitter(a);var c=s&&!s[e.alreadyAutoCollectedFlag];s&&c?(u=e.INSTANCE)===null||u===void 0||u._registerRequest(s,a,o):typeof o=="function"&&o(s,a)}}},n=function(o){var s=o.addListener.bind(o);o.addListener=function(a,u){switch(a){case"request":case"checkContinue":return s(a,t(u));default:return s(a,u)}},o.on=o.addListener},r=WJ.createServer;WJ.createServer=function(o,s){if(s&&typeof s=="function"){var a=r(o,t(s));return n(a),a}else{var a=r(t(o));return n(a),a}};var i=GJ.createServer;GJ.createServer=function(o,s){var a=i(o,t(s));return n(a),a}}},e.trackRequestSync=function(t,n){if(!n.request||!n.response||!t){zJ.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!n.request,!n.response,!t);return}n.isProcessed=!1,e.addResponseCorrelationIdHeader(t,n.response);var r=lc.CorrelationContextManager.getCurrentContext(),i=new q1(n.request,r&&r.operation.parentId);r&&(r.operation.id=i.getOperationId(t.context.tags)||r.operation.id,r.operation.name=i.getOperationName(t.context.tags)||r.operation.name,r.operation.parentId=i.getRequestId()||r.operation.parentId,r.customProperties.addHeaderData(i.getCorrelationContextHeader())),e.endRequest(t,i,n,n.duration,n.error)},e.trackRequest=function(t,n,r){if(!n.request||!n.response||!t){zJ.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!n.request,!n.response,!t);return}n.isProcessed=!1;var i=lc.CorrelationContextManager.getCurrentContext(),o=r||new q1(n.request,i&&i.operation.parentId);YJ.canIncludeCorrelationHeader(t,o.getUrl())&&e.addResponseCorrelationIdHeader(t,n.response),i&&!r&&(i.operation.id=o.getOperationId(t.context.tags)||i.operation.id,i.operation.name=o.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=o.getOperationParentId(t.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(o.getCorrelationContextHeader())),n.response.once&&n.response.once("finish",function(){e.endRequest(t,o,n,null,null)}),n.request.on&&n.request.on("error",function(s){e.endRequest(t,o,n,null,s)}),n.request.on&&n.request.on("aborted",function(){var s="The request has been aborted and the network socket has closed.";e.endRequest(t,o,n,null,s)})},e.addResponseCorrelationIdHeader=function(t,n){if(t.config&&t.config.correlationId&&n.getHeader&&n.setHeader&&!n.headersSent){var r=n.getHeader(NPe.requestContextHeader);YJ.safeIncludeCorrelationHeader(t,n,r)}},e.endRequest=function(t,n,r,i,o){if(!r.isProcessed){r.isProcessed=!0,o?n.onError(o,i):n.onResponse(r.response,i);var s=n.getRequestTelemetry(r);if(s.tagOverrides=n.getRequestTags(t.context.tags),r.tagOverrides)for(var a in r.tagOverrides)s.tagOverrides[a]=r.tagOverrides[a];var u=n.getLegacyRootId();u&&(s.properties.ai_legacyRootId=u),s.contextObjects=s.contextObjects||{},s.contextObjects["http.ServerRequest"]=r.request,s.contextObjects["http.ServerResponse"]=r.response,t.trackRequest(s)}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,lc.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.HANDLER_READY=!1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();KJ.exports=FPe});var JJ=w((H1,QJ)=>{"use strict";var To=H1&&H1.__assign||function(){return To=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},To.apply(this,arguments)},j1=require("os"),Jd=lr(),XJ=tn(),MPe=Yn(),UPe=Mt(),qPe=MPe.w3cTraceId(),$Pe=function(){function e(){}return e.createQuickPulseEnvelope=function(t,n,r,i){var o=j1&&typeof j1.hostname=="function"&&j1.hostname()||"Unknown",s=i.tags&&i.keys&&i.keys.cloudRoleInstance&&i.tags[i.keys.cloudRoleInstance]||o,a=i.tags&&i.keys&&i.keys.cloudRole&&i.tags[i.keys.cloudRole]||null,u={Documents:n.length>0?n:null,InstrumentationKey:r.instrumentationKey||"",Metrics:t.length>0?t:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:i.tags[i.keys.internalSdkVersion],StreamId:qPe,MachineName:o,Instance:s,RoleName:a};return u},e.createQuickPulseMetric=function(t){var n;return n={Name:t.name,Value:t.value,Weight:t.count||1},n},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case Jd.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case Jd.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case Jd.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case Jd.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case Jd.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData.name,i=To(To({},n),{Name:r});return i},e.createQuickPulseTraceDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData.severityLevel||0,i=To(To({},n),{Message:t.data.baseData.message,SeverityLevel:Jd.SeverityLevel[r]});return i},e.createQuickPulseExceptionDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData.exceptions,i="",o="",s="";r&&r.length>0&&(r[0].parsedStack&&r[0].parsedStack.length>0?r[0].parsedStack.forEach(function(u){i+=u.assembly+`
`}):r[0].stack&&r[0].stack.length>0&&(i=r[0].stack),o=r[0].message,s=r[0].typeName);var a=To(To({},n),{Exception:i,ExceptionMessage:o,ExceptionType:s});return a},e.createQuickPulseRequestDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData,i=To(To({},n),{Name:r.name,Success:r.success,Duration:r.duration,ResponseCode:r.responseCode,OperationName:r.name});return i},e.createQuickPulseDependencyDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData,i=To(To({},n),{Name:r.name,Target:r.target,Success:r.success,Duration:r.duration,ResultCode:r.resultCode,CommandName:r.data,OperationName:n.OperationId,DependencyTypeName:r.type});return i},e.createQuickPulseDocument=function(t){var n,r,i,o;t.data.baseType?(r=XJ.TelemetryTypeStringToQuickPulseType[t.data.baseType],n=XJ.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):UPe.warn("Document type invalid; not sending live metric document",t.data.baseType),i=t.tags[e.keys.operationId],o=e.aggregateProperties(t);var s={DocumentType:n,__type:r,OperationId:i,Version:"1.0",Properties:o};return s},e.aggregateProperties=function(t){var n=[],r=t.data.baseData.measurements||{};for(var i in r)if(r.hasOwnProperty(i)){var o=r[i],s={key:i,value:o};n.push(s)}var a=t.data.baseData.properties||{};for(var i in a)if(a.hasOwnProperty(i)){var o=a[i],s={key:i,value:o};n.push(s)}return n},e.keys=new Jd.ContextTagKeys,e}();QJ.exports=$Pe});var eZ=w((gJe,ZJ)=>{"use strict";var jPe=function(){return(Date.now()+621355968e5)*1e4};ZJ.exports={getTransmissionTime:jPe}});var iZ=w((Ix,rZ)=>{"use strict";var tZ=Ix&&Ix.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},nZ=Ix&&Ix.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},HPe=require("https"),BPe=yh(),B1=Mt(),VPe=eZ(),V1=Yn(),WPe=require("url"),Io={method:"POST",time:"x-ms-qps-transmission-time",pollingIntervalHint:"x-ms-qps-service-polling-interval-hint",endpointRedirect:"x-ms-qps-service-endpoint-redirect-v2",instanceName:"x-ms-qps-instance-name",streamId:"x-ms-qps-stream-id",machineName:"x-ms-qps-machine-name",roleName:"x-ms-qps-role-name",streamid:"x-ms-qps-stream-id",invariantVersion:"x-ms-qps-invariant-version",subscribed:"x-ms-qps-subscribed"},GPe=function(){function e(t,n){this._config=t,this._consecutiveErrors=0,this._getAuthorizationHandler=n}return e.prototype.ping=function(t,n,r){var i=[{name:Io.streamId,value:t.StreamId},{name:Io.machineName,value:t.MachineName},{name:Io.roleName,value:t.RoleName},{name:Io.instanceName,value:t.Instance},{name:Io.invariantVersion,value:t.InvariantVersion.toString()}];this._submitData(t,n,r,"ping",i)},e.prototype.post=function(t,n,r){return tZ(this,void 0,void 0,function(){return nZ(this,function(i){switch(i.label){case 0:return[4,this._submitData([t],n,r,"post")];case 1:return i.sent(),[2]}})})},e.prototype._submitData=function(t,n,r,i,o){return tZ(this,void 0,void 0,function(){var s,a,u,c,l,d,p,f,m=this;return nZ(this,function(h){switch(h.label){case 0:if(s=V1.stringify(t),a=(p={},p[BPe.disableCollectionRequestOption]=!0,p.host=n&&n.length>0?n:this._config.quickPulseHost,p.method=Io.method,p.path="/QuickPulseService.svc/"+i+"?ikey="+this._config.instrumentationKey,p.headers=(f={Expect:"100-continue"},f[Io.time]=VPe.getTransmissionTime(),f["Content-Type"]="application/json",f["Content-Length"]=Buffer.byteLength(s),f),p),o&&o.length>0&&o.forEach(function(g){return a.headers[g.name]=g.value}),i!=="post")return[3,4];if(u=this._getAuthorizationHandler?this._getAuthorizationHandler(this._config):null,!u)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,u.addAuthorizationHeader(a)];case 2:return h.sent(),[3,4];case 3:return c=h.sent(),l="Failed to get AAD bearer token for the Application. Error:",B1.info(e.TAG,l,c),[2];case 4:return this._config.httpsAgent?a.agent=this._config.httpsAgent:a.agent=V1.tlsRestrictedAgent,d=HPe.request(a,function(g){if(g.statusCode==200){var v=g.headers[Io.subscribed]==="true",y=null;try{y=g.headers[Io.endpointRedirect]?new WPe.URL(g.headers[Io.endpointRedirect].toString()).host:null}catch(E){m._onError("Failed to parse redirect header from QuickPulse: "+V1.dumpObj(E))}var x=g.headers[Io.pollingIntervalHint]?parseInt(g.headers[Io.pollingIntervalHint].toString()):null;m._consecutiveErrors=0,r(v,g,y,x)}else m._onError("StatusCode:"+g.statusCode+" StatusMessage:"+g.statusMessage),r()}),d.on("error",function(g){m._onError(g),r()}),d.write(s),d.end(),[2]}})})},e.prototype._onError=function(t){this._consecutiveErrors++;var n="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN===0?(n="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",B1.warn(e.TAG,n,t)):B1.info(e.TAG,n,t)},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();rZ.exports=GPe});var uZ=w((Px,cZ)=>{"use strict";var oZ=Px&&Px.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},sZ=Px&&Px.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},aZ=Mt(),W1=JJ(),zPe=iZ(),YPe=tn(),KPe=xh(),XPe=function(){function e(t,n,r){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=t,this.context=n||new KPe,this._sender=new zPe(this.config,r),this._isEnabled=!1}return e.prototype.addCollector=function(t){this._collectors.push(t)},e.prototype.trackMetric=function(t){this._addMetric(t)},e.prototype.addDocument=function(t){if(this._isCollectingData){var n=W1.telemetryEnvelopeToQuickPulseDocument(t);n&&this._documents.push(n)}},e.prototype.enable=function(t){t&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!t&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(t){this._collectors.forEach(function(n){n.enable(t)})},e.prototype._addMetric=function(t){var n=t.value,r=t.count||1,i=YPe.PerformanceToQuickPulseCounter[t.name];i&&(this._metrics[i]?(this._metrics[i].Value=(this._metrics[i].Value*this._metrics[i].Weight+n*r)/(this._metrics[i].Weight+r),this._metrics[i].Weight+=r):(this._metrics[i]=W1.createQuickPulseMetric(t),this._metrics[i].Name=i,this._metrics[i].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){return oZ(this,void 0,void 0,function(){var t,n,r,i,o=this;return sZ(this,function(s){switch(s.label){case 0:return t=Object.keys(this._metrics).map(function(a){return o._metrics[a]}),n=W1.createQuickPulseEnvelope(t,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(n)]:[3,2];case 1:return s.sent(),[3,3];case 2:this._ping(n),s.label=3;case 3:return r=this._pollingIntervalHint>0?this._pollingIntervalHint:e.PING_INTERVAL,i=this._isCollectingData?e.POST_INTERVAL:r,this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,i=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(i=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),i),this._handle.unref(),[2]}})})},e.prototype._ping=function(t){this._sender.ping(t,this._redirectedHost,this._quickPulseDone.bind(this))},e.prototype._post=function(t){return oZ(this,void 0,void 0,function(){return sZ(this,function(n){switch(n.label){case 0:return[4,this._sender.post(t,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return n.sent(),[2]}})})},e.prototype._quickPulseDone=function(t,n,r,i){t!=null?(this._isCollectingData!==t&&(aZ.info("Live Metrics sending data",t),this.enableCollectors(t)),this._isCollectingData=t,r&&r.length>0&&(this._redirectedHost=r,aZ.info("Redirecting endpoint to: ",r)),i&&i>0&&(this._pollingIntervalHint=i),n&&n.statusCode<300&&n.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();cZ.exports=XPe});var lZ=w(_h=>{"use strict";var BT=_h&&_h.__assign||function(){return BT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},BT.apply(this,arguments)};Object.defineProperty(_h,"__esModule",{value:!0});_h.AutoCollectNativePerformance=void 0;var Rx=xh(),QPe=Mt(),JPe=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.prototype.enable=function(t,n,r){var i=this;if(n===void 0&&(n={}),r===void 0&&(r=6e4),e._metricsAvailable==null&&t&&!this._isInitialized)try{var o=require("applicationinsights-native-metrics");e._emitter=new o,e._metricsAvailable=!0,QPe.info("Native metrics module successfully loaded!")}catch{e._metricsAvailable=!1;return}this._isEnabled=t,this._disabledMetrics=n,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,r),this._handle||(this._handle=setInterval(function(){return i._trackNativeMetrics()},r),this._handle.unref())):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(t,n){var r=n.disableAllExtendedMetrics,i=n.extendedMetricDisablers;if(r)return{isEnabled:!1,disabledMetrics:{}};if(i){var o=i.split(","),s={};if(o.length>0)for(var a=0,u=o;a<u.length;a++){var c=u[a];s[c]=!0}return typeof t=="object"?{isEnabled:!0,disabledMetrics:BT(BT({},t),s)}:{isEnabled:t,disabledMetrics:s}}return typeof t=="boolean"?{isEnabled:t,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:t}},e.prototype._trackNativeMetrics=function(){var t=!0;typeof this._isEnabled!="object"&&(t=this._isEnabled),t&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){var t;if(!this._disabledMetrics.gc){var n=e._emitter.getGCData();for(var r in n){var i=n[r].metrics,o=r+" Garbage Collection Duration",s=Math.sqrt(i.sumSquares/i.count-Math.pow(i.total/i.count,2))||0;this._client.trackMetric({name:o,value:i.total,count:i.count,max:i.max,min:i.min,stdDev:s,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+Rx.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){var t;if(!this._disabledMetrics.loop){var n=e._emitter.getLoopData(),r=n.loopUsage;if(r.count!=0){var i="Event Loop CPU Time",o=Math.sqrt(r.sumSquares/r.count-Math.pow(r.total/r.count,2))||0;this._client.trackMetric({name:i,value:r.total,count:r.count,min:r.min,max:r.max,stdDev:o,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+Rx.sdkVersion,t)})}}},e.prototype._trackHeapUsage=function(){var t,n,r;if(!this._disabledMetrics.heap){var i=process.memoryUsage(),o=i.heapUsed,s=i.heapTotal,a=i.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:o,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+Rx.sdkVersion,t)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+Rx.sdkVersion,n)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+Rx.sdkVersion,r)})}},e}();_h.AutoCollectNativePerformance=JPe});var pZ=w(Yu=>{"use strict";var VT=Yu&&Yu.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},WT=Yu&&Yu.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.AzureFunctionsHook=void 0;var G1=Mt(),dZ=Fu(),ZPe=function(){function e(t){this._client=t,this._autoGenerateIncomingRequests=!1}return e.prototype.enable=function(t){this._autoGenerateIncomingRequests=t},e.prototype.dispose=function(){this.enable(!1),this._removePreInvocationHook(),this._functionsCoreModule=void 0},e.prototype._addPreInvocationHook=function(){var t=this;this._preInvocationHook||(this._preInvocationHook=this._functionsCoreModule.registerHook("preInvocation",function(n){return VT(t,void 0,void 0,function(){var r,i=this;return WT(this,function(o){return r=n.functionCallback,n.functionCallback=function(s,a){return VT(i,void 0,void 0,function(){return WT(this,function(u){return this._propagateContext(s,a,r),[2]})})},[2]})})}))},e.prototype._propagateContext=function(t,n,r){return VT(this,void 0,void 0,function(){var i,o=this;return WT(this,function(s){i=null;try{i=dZ.CorrelationContextManager.startOperation(t,n),i.customProperties.setProperty("InvocationId",t.invocationId),t.traceContext.attributes&&(i.customProperties.setProperty("ProcessId",t.traceContext.attributes.ProcessId),i.customProperties.setProperty("LogLevel",t.traceContext.attributes.LogLevel),i.customProperties.setProperty("Category",t.traceContext.attributes.Category),i.customProperties.setProperty("HostInstanceId",t.traceContext.attributes.HostInstanceId),i.customProperties.setProperty("AzFuncLiveLogsSessionId",t.traceContext.attributes["#AzFuncLiveLogsSessionId"]))}catch(a){return G1.warn("Failed to propagate context in Azure Functions",a),r(t,n),[2]}return i?(dZ.CorrelationContextManager.wrapCallback(function(){return VT(o,void 0,void 0,function(){var a,u,c;return WT(this,function(l){a=Date.now(),r(t,n);try{this._autoGenerateIncomingRequests&&(u=200,t.res&&(t.res.statusCode?u=t.res.statusCode:t.res.status&&(u=t.res.status)),this._client.trackRequest({name:n.method+" "+n.url,resultCode:u,success:u==200,url:n.url,time:new Date(a),duration:Date.now()-a,id:(c=i.operation)===null||c===void 0?void 0:c.parentId}),this._client.flush())}catch(d){G1.warn("Error creating automatic incoming request in Azure Functions",d)}return[2]})})},i)(),[2]):(G1.warn("Failed to create context in Azure Functions"),r(t,n),[2])})})},e.prototype._removePreInvocationHook=function(){this._preInvocationHook&&(this._preInvocationHook.dispose(),this._preInvocationHook=void 0)},e}();Yu.AzureFunctionsHook=ZPe});var Y1=w((wJe,hZ)=>{"use strict";var z1=Ud(),fZ=U1(),xJe=Mt(),mZ=tn(),e0e=require("url"),t0e=$C(),n0e=function(){function e(t){var n=this;this._endpointBase=mZ.DEFAULT_BREEZE_ENDPOINT,this._mergeConfig();var r=this._connectionString,i=fZ.parse(t),o=fZ.parse(r),s=!i.instrumentationkey&&Object.keys(i).length>0?null:t,a=this._instrumentationKey;this.instrumentationKey=i.instrumentationkey||s||o.instrumentationkey||a;var u=""+(this.endpointUrl||i.ingestionendpoint||o.ingestionendpoint||this._endpointBase);u.endsWith("/")&&(u=u.slice(0,-1)),this.endpointUrl=u+"/v2.1/track",this.maxBatchSize=this.maxBatchSize||250,this.maxBatchIntervalMs=this.maxBatchIntervalMs||15e3,this.disableAppInsights=this.disableAppInsights||!1,this.samplingPercentage=this.samplingPercentage||100,this.correlationIdRetryIntervalMs=this.correlationIdRetryIntervalMs||30*1e3,this.enableWebInstrumentation=this.enableWebInstrumentation||this.enableAutoWebSnippetInjection||!1,this.webInstrumentationConfig=this.webInstrumentationConfig||null,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation,this.correlationHeaderExcludedDomains=this.correlationHeaderExcludedDomains||["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this._setCorrelationId=function(c){return n.correlationId=c},this.ignoreLegacyHeaders=this.ignoreLegacyHeaders||!1,this.profileQueryEndpoint=i.ingestionendpoint||o.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this._endpointBase,this.quickPulseHost=this.quickPulseHost||i.liveendpoint||o.liveendpoint||process.env[e.ENV_quickPulseHost]||mZ.DEFAULT_LIVEMETRICS_HOST,this.webInstrumentationConnectionString=this.webInstrumentationConnectionString||this._webInstrumentationConnectionString||"",this.webSnippetConnectionString=this.webInstrumentationConnectionString,this.quickPulseHost.match(/^https?:\/\//)&&(this.quickPulseHost=new e0e.URL(this.quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(t){z1.cancelCorrelationIdQuery(this,this._setCorrelationId),this._profileQueryEndpoint=t,this.correlationId=z1.correlationIdPrefix,z1.queryCorrelationId(this,this._setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instrumentationKey",{get:function(){return this._instrumentationKey},set:function(t){e._validateInstrumentationKey(t),this._instrumentationKey=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"webSnippetConnectionString",{get:function(){return this._webInstrumentationConnectionString},set:function(t){this._webInstrumentationConnectionString=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"webInstrumentationConnectionString",{get:function(){return this._webInstrumentationConnectionString},set:function(t){this._webInstrumentationConnectionString=t},enumerable:!1,configurable:!0}),e.prototype._mergeConfig=function(){var t=t0e.JsonConfig.getInstance();this._connectionString=t.connectionString,this._instrumentationKey=t.instrumentationKey,this.correlationHeaderExcludedDomains=t.correlationHeaderExcludedDomains,this.correlationIdRetryIntervalMs=t.correlationIdRetryIntervalMs,this.disableAllExtendedMetrics=t.disableAllExtendedMetrics,this.disableAppInsights=t.disableAppInsights,this.disableStatsbeat=t.disableStatsbeat,this.distributedTracingMode=t.distributedTracingMode,this.enableAutoCollectConsole=t.enableAutoCollectConsole,this.enableAutoCollectDependencies=t.enableAutoCollectDependencies,this.enableAutoCollectIncomingRequestAzureFunctions=t.enableAutoCollectIncomingRequestAzureFunctions,this.enableAutoCollectExceptions=t.enableAutoCollectExceptions,this.enableAutoCollectExtendedMetrics=t.enableAutoCollectExtendedMetrics,this.enableAutoCollectExternalLoggers=t.enableAutoCollectExternalLoggers,this.enableAutoCollectHeartbeat=t.enableAutoCollectHeartbeat,this.enableAutoCollectPerformance=t.enableAutoCollectPerformance,this.enableAutoCollectPreAggregatedMetrics=t.enableAutoCollectPreAggregatedMetrics,this.enableAutoCollectRequests=t.enableAutoCollectRequests,this.enableAutoDependencyCorrelation=t.enableAutoDependencyCorrelation,this.enableInternalDebugLogging=t.enableInternalDebugLogging,this.enableInternalWarningLogging=t.enableInternalWarningLogging,this.enableResendInterval=t.enableResendInterval,this.enableMaxBytesOnDisk=t.enableMaxBytesOnDisk,this.enableSendLiveMetrics=t.enableSendLiveMetrics,this.enableUseAsyncHooks=t.enableUseAsyncHooks,this.enableUseDiskRetryCaching=t.enableUseDiskRetryCaching,this.endpointUrl=t.endpointUrl,this.extendedMetricDisablers=t.extendedMetricDisablers,this.ignoreLegacyHeaders=t.ignoreLegacyHeaders,this.maxBatchIntervalMs=t.maxBatchIntervalMs,this.maxBatchSize=t.maxBatchSize,this.proxyHttpUrl=t.proxyHttpUrl,this.proxyHttpsUrl=t.proxyHttpsUrl,this.quickPulseHost=t.quickPulseHost,this.samplingPercentage=t.samplingPercentage,this.enableWebInstrumentation=t.enableWebInstrumentation,this._webInstrumentationConnectionString=t.webInstrumentationConnectionString,this.webInstrumentationConfig=t.webInstrumentationConfig,this.webInstrumentationSrc=t.webInstrumentationSrc},e._validateInstrumentationKey=function(t){var n="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",r=new RegExp(n);return r.test(t)},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e}();hZ.exports=n0e});function GT(){return bh.create()}var gZ,bh,K1=S(()=>{gZ=new Set(["Deserialize","Serialize","Retry","Sign"]),bh=class{constructor(t){var n;this._policies=[],this._policies=(n=t==null?void 0:t.slice(0))!==null&&n!==void 0?n:[],this._orderedPolicies=void 0}addPolicy(t,n={}){if(n.phase&&n.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(n.phase&&!gZ.has(n.phase))throw new Error(`Invalid phase name: ${n.phase}`);if(n.afterPhase&&!gZ.has(n.afterPhase))throw new Error(`Invalid afterPhase name: ${n.afterPhase}`);this._policies.push({policy:t,options:n}),this._orderedPolicies=void 0}removePolicy(t){let n=[];return this._policies=this._policies.filter(r=>t.name&&r.policy.name===t.name||t.phase&&r.options.phase===t.phase?(n.push(r.policy),!1):!0),this._orderedPolicies=void 0,n}sendRequest(t,n){return this.getOrderedPolicies().reduceRight((o,s)=>a=>s.sendRequest(a,o),o=>t.sendRequest(o))(n)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new bh(this._policies)}static create(){return new bh}orderPolicies(){let t=[],n=new Map;function r(m){return{name:m,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}let i=r("Serialize"),o=r("None"),s=r("Deserialize"),a=r("Retry"),u=r("Sign"),c=[i,o,s,a,u];function l(m){return m==="Retry"?a:m==="Serialize"?i:m==="Deserialize"?s:m==="Sign"?u:o}for(let m of this._policies){let h=m.policy,g=m.options,v=h.name;if(n.has(v))throw new Error("Duplicate policy names not allowed in pipeline");let y={policy:h,dependsOn:new Set,dependants:new Set};g.afterPhase&&(y.afterPhase=l(g.afterPhase),y.afterPhase.hasAfterPolicies=!0),n.set(v,y),l(g.phase).policies.add(y)}for(let m of this._policies){let{policy:h,options:g}=m,v=h.name,y=n.get(v);if(!y)throw new Error(`Missing node for policy ${v}`);if(g.afterPolicies)for(let x of g.afterPolicies){let E=n.get(x);E&&(y.dependsOn.add(E),E.dependants.add(y))}if(g.beforePolicies)for(let x of g.beforePolicies){let E=n.get(x);E&&(E.dependsOn.add(y),y.dependants.add(E))}}function d(m){m.hasRun=!0;for(let h of m.policies)if(!(h.afterPhase&&(!h.afterPhase.hasRun||h.afterPhase.policies.size))&&h.dependsOn.size===0){t.push(h.policy);for(let g of h.dependants)g.dependsOn.delete(h);n.delete(h.policy.name),m.policies.delete(h)}}function p(){for(let m of c){if(d(m),m.policies.size>0&&m!==o){o.hasRun||d(o);return}m.hasAfterPolicies&&d(o)}}let f=0;for(;n.size>0;){f++;let m=t.length;if(p(),t.length<=m&&f>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return t}}});function xZ(e,...t){process.stderr.write(`${vZ.default.format(e,...t)}${yZ.EOL}`)}var vZ,yZ,wZ=S(()=>{vZ=V(require("util")),yZ=require("os")});function J1(e){_Z=e,X1=[],Q1=[];let t=/\*/g,n=e.split(",").map(r=>r.trim().replace(t,".*?"));for(let r of n)r.startsWith("-")?Q1.push(new RegExp(`^${r.substr(1)}$`)):X1.push(new RegExp(`^${r}$`));for(let r of zT)r.enabled=Z1(r.namespace)}function Z1(e){if(e.endsWith("*"))return!0;for(let t of Q1)if(t.test(e))return!1;for(let t of X1)if(t.test(e))return!0;return!1}function r0e(){let e=_Z||"";return J1(""),e}function CZ(e){let t=Object.assign(n,{enabled:Z1(e),destroy:i0e,log:bZ.log,namespace:e,extend:o0e});function n(...r){!t.enabled||(r.length>0&&(r[0]=`${e} ${r[0]}`),t.log(...r))}return zT.push(t),t}function i0e(){let e=zT.indexOf(this);return e>=0?(zT.splice(e,1),!0):!1}function o0e(e){let t=CZ(`${this.namespace}:${e}`);return t.log=this.log,t}var EZ,_Z,X1,Q1,zT,bZ,Ch,SZ=S(()=>{wZ();EZ=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,X1=[],Q1=[],zT=[];EZ&&J1(EZ);bZ=Object.assign(e=>CZ(e),{enable:J1,enabled:Z1,disable:r0e,log:xZ});Ch=bZ});function s0e(e){if(e&&!AZ(e))throw new Error(`Unknown log level '${e}'. Acceptable values: ${nM.join(",")}`);eM=e;let t=[];for(let n of IZ)RZ(n)&&t.push(n.namespace);Ch.enable(t.join(","))}function XT(e){let t=tM.extend(e);return PZ(tM,t),{error:KT(t,"error"),warning:KT(t,"warning"),info:KT(t,"info"),verbose:KT(t,"verbose")}}function PZ(e,t){t.log=(...n)=>{e.log(...n)}}function KT(e,t){let n=Object.assign(e.extend(t),{level:t});if(PZ(e,n),RZ(n)){let r=Ch.disable();Ch.enable(r+","+n.namespace)}return IZ.add(n),n}function RZ(e){return!!(eM&&TZ[e.level]<=TZ[eM])}function AZ(e){return nM.includes(e)}var IZ,YT,eM,tM,nM,TZ,rM=S(()=>{SZ();IZ=new Set,YT=typeof process<"u"&&process.env&&process.env.AZURE_LOG_LEVEL||void 0,tM=Ch("azure");tM.log=(...e)=>{Ch.log(...e)};nM=["verbose","info","warning","error"];YT&&(AZ(YT)?s0e(YT):console.error(`AZURE_LOG_LEVEL set to unknown log level '${YT}'; logging is not enabled. Acceptable values: ${nM.join(", ")}.`));TZ={verbose:400,info:300,warning:200,error:100}});var Jn,Sh=S(()=>{rM();Jn=XT("core-rest-pipeline")});var iM,QT,DZ=S(()=>{QT=typeof process<"u"&&Boolean(process.version)&&Boolean((iM=process.versions)===null||iM===void 0?void 0:iM.node)});function oM(e){if(e.aborted)return;e.onabort&&e.onabort.call(e);let t=Th.get(e);t&&t.slice().forEach(n=>{n.call(e,{type:"abort"})}),JT.set(e,!0)}var Th,JT,Zd,kZ=S(()=>{Th=new WeakMap,JT=new WeakMap,Zd=class{constructor(){this.onabort=null,Th.set(this,[]),JT.set(this,!1)}get aborted(){if(!JT.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");return JT.get(this)}static get none(){return new Zd}addEventListener(t,n){if(!Th.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");Th.get(this).push(n)}removeEventListener(t,n){if(!Th.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");let r=Th.get(this),i=r.indexOf(n);i>-1&&r.splice(i,1)}dispatchEvent(t){throw new Error("This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.")}}});var na,Ax,OZ=S(()=>{kZ();na=class extends Error{constructor(t){super(t),this.name="AbortError"}},Ax=class{constructor(t){if(this._signal=new Zd,!!t){Array.isArray(t)||(t=arguments);for(let n of t)n.aborted?this.abort():n.addEventListener("abort",()=>{this.abort()})}}get signal(){return this._signal}abort(){oM(this._signal)}static timeout(t){let n=new Zd,r=setTimeout(oM,t,n);return typeof r.unref=="function"&&r.unref(),n}}});var ZT=S(()=>{OZ()});function sM(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var NZ=S(()=>{});function Dx(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}var aM=S(()=>{});function Ih(e){if(Dx(e)){let t=typeof e.name=="string",n=typeof e.message=="string";return t&&n}return!1}function Ph(e){if(Ih(e))return e.message;{let t;try{typeof e=="object"&&e?t=JSON.stringify(e):t=String(e)}catch{t="[unable to stringify input]"}return`Unknown error ${t}`}}var LZ=S(()=>{aM()});var Rh=S(()=>{DZ();NZ();aM();LZ()});var cM,a0e,c0e,Ah,uM=S(()=>{Rh();cM="REDACTED",a0e=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],c0e=["api-version"],Ah=class{constructor({additionalAllowedHeaderNames:t=[],additionalAllowedQueryParameters:n=[]}={}){t=a0e.concat(t),n=c0e.concat(n),this.allowedHeaderNames=new Set(t.map(r=>r.toLowerCase())),this.allowedQueryParameters=new Set(n.map(r=>r.toLowerCase()))}sanitize(t){let n=new Set;return JSON.stringify(t,(r,i)=>{if(i instanceof Error)return Object.assign(Object.assign({},i),{name:i.name,message:i.message});if(r==="headers")return this.sanitizeHeaders(i);if(r==="url")return this.sanitizeUrl(i);if(r==="query")return this.sanitizeQuery(i);if(r==="body")return;if(r==="response")return;if(r==="operationSpec")return;if(Array.isArray(i)||Dx(i)){if(n.has(i))return"[Circular]";n.add(i)}return i},2)}sanitizeHeaders(t){let n={};for(let r of Object.keys(t))this.allowedHeaderNames.has(r.toLowerCase())?n[r]=t[r]:n[r]=cM;return n}sanitizeQuery(t){if(typeof t!="object"||t===null)return t;let n={};for(let r of Object.keys(t))this.allowedQueryParameters.has(r.toLowerCase())?n[r]=t[r]:n[r]=cM;return n}sanitizeUrl(t){if(typeof t!="string"||t===null)return t;let n=new URL(t);if(!n.search)return t;for(let[r]of n.searchParams)this.allowedQueryParameters.has(r.toLowerCase())||n.searchParams.set(r,cM);return n.toString()}}});function eI(e={}){var t;let n=(t=e.logger)!==null&&t!==void 0?t:Jn.info,r=new Ah({additionalAllowedHeaderNames:e.additionalAllowedHeaderNames,additionalAllowedQueryParameters:e.additionalAllowedQueryParameters});return{name:lM,async sendRequest(i,o){if(!n.enabled)return o(i);n(`Request: ${r.sanitize(i)}`);let s=await o(i);return n(`Response status code: ${s.status}`),n(`Headers: ${r.sanitize(s.headers)}`),s}}}var lM,dM=S(()=>{Sh();uM();lM="logPolicy"});function tI(e={}){let{maxRetries:t=20}=e;return{name:pM,async sendRequest(n,r){let i=await r(n);return MZ(r,i,t)}}}async function MZ(e,t,n,r=0){let{request:i,status:o,headers:s}=t,a=s.get("location");if(a&&(o===300||o===301&&FZ.includes(i.method)||o===302&&FZ.includes(i.method)||o===303&&i.method==="POST"||o===307)&&r<n){let u=new URL(a,i.url);i.url=u.toString(),o===303&&(i.method="GET",i.headers.delete("Content-Length"),delete i.body),i.headers.delete("Authorization");let c=await e(i);return MZ(e,c,n,r+1)}return t}var pM,FZ,fM=S(()=>{pM="redirectPolicy",FZ=["GET","HEAD"]});function UZ(){return"User-Agent"}function qZ(e){e.set("Node",process.version),e.set("OS",`(${Dh.arch()}-${Dh.type()}-${Dh.release()})`)}var Dh,$Z=S(()=>{Dh=V(require("os"))});var nI,mM=S(()=>{nI="1.10.1"});function u0e(e){let t=[];for(let[n,r]of e){let i=r?`${n}/${r}`:n;t.push(i)}return t.join(" ")}function jZ(){return UZ()}function rI(e){let t=new Map;t.set("core-rest-pipeline",nI),qZ(t);let n=u0e(t);return e?`${e} ${n}`:n}var hM=S(()=>{$Z();mM()});function iI(e={}){let t=rI(e.userAgentPrefix);return{name:gM,async sendRequest(n,r){return n.headers.has(HZ)||n.headers.set(HZ,t),r(n)}}}var HZ,gM,vM=S(()=>{hM();HZ=jZ(),gM="userAgentPolicy"});function oI(){return{name:yM,async sendRequest(e,t){return e.method!=="HEAD"&&e.headers.set("Accept-Encoding","gzip,deflate"),t(e)}}}var yM,xM=S(()=>{yM="decompressResponsePolicy"});function sI(e,t,n){return new Promise((r,i)=>{let o,s,a=()=>i(new na(n!=null&&n.abortErrorMsg?n==null?void 0:n.abortErrorMsg:l0e)),u=()=>{(n==null?void 0:n.abortSignal)&&s&&n.abortSignal.removeEventListener("abort",s)};if(s=()=>(o&&clearTimeout(o),u(),a()),(n==null?void 0:n.abortSignal)&&n.abortSignal.aborted)return a();o=setTimeout(()=>{u(),r(t)},e),n!=null&&n.abortSignal&&n.abortSignal.addEventListener("abort",s)})}function BZ(e,t){let n=e.headers.get(t);if(!n)return;let r=Number(n);if(!Number.isNaN(r))return r}var l0e,aI=S(()=>{ZT();l0e="The operation was aborted."});function VZ(e){if(!!(e&&[429,503].includes(e.status)))try{for(let i of d0e){let o=BZ(e,i);if(o===0||o)return o*(i===wM?1e3:1)}let t=e.headers.get(wM);if(!t)return;let r=Date.parse(t)-Date.now();return Number.isFinite(r)?Math.max(0,r):void 0}catch{return}}function WZ(e){return Number.isFinite(VZ(e))}function cI(){return{name:"throttlingRetryStrategy",retry({response:e}){let t=VZ(e);return Number.isFinite(t)?{retryAfterInMs:t}:{skipStrategy:!0}}}}var wM,d0e,uI=S(()=>{aI();wM="Retry-After",d0e=["retry-after-ms","x-ms-retry-after-ms",wM]});function kh(e={}){var t,n;let r=(t=e.retryDelayInMs)!==null&&t!==void 0?t:p0e,i=(n=e.maxRetryDelayInMs)!==null&&n!==void 0?n:f0e,o=r;return{name:"exponentialRetryStrategy",retry({retryCount:s,response:a,responseError:u}){let c=h0e(u),l=c&&e.ignoreSystemErrors,d=m0e(a),p=d&&e.ignoreHttpStatusCodes;if(a&&(WZ(a)||!d)||p||l)return{skipStrategy:!0};if(u&&!c&&!d)return{errorToThrow:u};let m=o*Math.pow(2,s),h=Math.min(i,m);return o=h/2+sM(0,h/2),{retryAfterInMs:o}}}}function m0e(e){return Boolean(e&&e.status!==void 0&&(e.status>=500||e.status===408)&&e.status!==501&&e.status!==505)}function h0e(e){return e?e.code==="ETIMEDOUT"||e.code==="ESOCKETTIMEDOUT"||e.code==="ECONNREFUSED"||e.code==="ECONNRESET"||e.code==="ENOENT":!1}var p0e,f0e,lI=S(()=>{Rh();uI();p0e=1e3,f0e=1e3*64});function ra(e,t={maxRetries:3}){let n=t.logger||GZ;return{name:g0e,async sendRequest(r,i){var o,s;let a,u,c=-1;e:for(;;){c+=1,a=void 0,u=void 0;try{n.info(`Retry ${c}: Attempting to send request`,r.requestId),a=await i(r),n.info(`Retry ${c}: Received a response from request`,r.requestId)}catch(l){if(n.error(`Retry ${c}: Received an error from request`,r.requestId),u=l,!l||u.name!=="RestError")throw l;a=u.response}if(!((o=r.abortSignal)===null||o===void 0)&&o.aborted)throw n.error(`Retry ${c}: Request aborted.`),new na;if(c>=((s=t.maxRetries)!==null&&s!==void 0?s:3)){if(n.info(`Retry ${c}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),u)throw u;if(a)return a;throw new Error("Maximum retries reached with no response or error to throw")}n.info(`Retry ${c}: Processing ${e.length} retry strategies.`);t:for(let l of e){let d=l.logger||GZ;d.info(`Retry ${c}: Processing retry strategy ${l.name}.`);let p=l.retry({retryCount:c,response:a,responseError:u});if(p.skipStrategy){d.info(`Retry ${c}: Skipped.`);continue t}let{errorToThrow:f,retryAfterInMs:m,redirectTo:h}=p;if(f)throw d.error(`Retry ${c}: Retry strategy ${l.name} throws error:`,f),f;if(m||m===0){d.info(`Retry ${c}: Retry strategy ${l.name} retries after ${m}`),await sI(m,void 0,{abortSignal:r.abortSignal});continue e}if(h){d.info(`Retry ${c}: Retry strategy ${l.name} redirects to ${h}`),r.url=h;continue e}}if(u)throw n.info("None of the retry strategies could work with the received error. Throwing it."),u;if(a)return n.info("None of the retry strategies could work with the received response. Returning it."),a}}}}var GZ,g0e,Oh=S(()=>{aI();rM();ZT();GZ=XT("core-rest-pipeline retryPolicy"),g0e="retryPolicy"});function dI(e={}){var t;return{name:v0e,sendRequest:ra([cI(),kh(e)],{maxRetries:(t=e.maxRetries)!==null&&t!==void 0?t:3}).sendRequest}}var v0e,EM=S(()=>{lI();uI();Oh();v0e="defaultRetryPolicy"});var KZ=w((xZe,YZ)=>{var zZ=require("stream").Stream,y0e=require("util");YZ.exports=gs;function gs(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}y0e.inherits(gs,zZ);gs.create=function(e,t){var n=new this;t=t||{};for(var r in t)n[r]=t[r];n.source=e;var i=e.emit;return e.emit=function(){return n._handleEmit(arguments),i.apply(e,arguments)},e.on("error",function(){}),n.pauseStream&&e.pause(),n};Object.defineProperty(gs.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});gs.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};gs.prototype.resume=function(){this._released||this.release(),this.source.resume()};gs.prototype.pause=function(){this.source.pause()};gs.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]};gs.prototype.pipe=function(){var e=zZ.prototype.pipe.apply(this,arguments);return this.resume(),e};gs.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}e[0]==="data"&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)};gs.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}}});var ZZ=w((wZe,JZ)=>{var x0e=require("util"),QZ=require("stream").Stream,XZ=KZ();JZ.exports=nn;function nn(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}x0e.inherits(nn,QZ);nn.create=function(e){var t=new this;e=e||{};for(var n in e)t[n]=e[n];return t};nn.isStreamLike=function(e){return typeof e!="function"&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"&&!Buffer.isBuffer(e)};nn.prototype.append=function(e){var t=nn.isStreamLike(e);if(t){if(!(e instanceof XZ)){var n=XZ.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=n}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this};nn.prototype.pipe=function(e,t){return QZ.prototype.pipe.call(this,e,t),this.resume(),e};nn.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};nn.prototype._realGetNext=function(){var e=this._streams.shift();if(typeof e>"u"){this.end();return}if(typeof e!="function"){this._pipeNext(e);return}var t=e;t(function(n){var r=nn.isStreamLike(n);r&&(n.on("data",this._checkDataSize.bind(this)),this._handleErrors(n)),this._pipeNext(n)}.bind(this))};nn.prototype._pipeNext=function(e){this._currentStream=e;var t=nn.isStreamLike(e);if(t){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}var n=e;this.write(n),this._getNext()};nn.prototype._handleErrors=function(e){var t=this;e.on("error",function(n){t._emitError(n)})};nn.prototype.write=function(e){this.emit("data",e)};nn.prototype.pause=function(){!this.pauseStreams||(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};nn.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};nn.prototype.end=function(){this._reset(),this.emit("end")};nn.prototype.destroy=function(){this._reset(),this.emit("close")};nn.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};nn.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}};nn.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){!t.dataSize||(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};nn.prototype._emitError=function(e){this._reset(),this.emit("error",e)}});var eee=w((EZe,w0e)=>{w0e.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var nee=w((_Ze,tee)=>{tee.exports=eee()});var oee=w(oi=>{"use strict";var pI=nee(),E0e=require("path").extname,ree=/^\s*([^;\s]*)(?:;|\s|$)/,_0e=/^text\//i;oi.charset=iee;oi.charsets={lookup:iee};oi.contentType=b0e;oi.extension=C0e;oi.extensions=Object.create(null);oi.lookup=S0e;oi.types=Object.create(null);T0e(oi.extensions,oi.types);function iee(e){if(!e||typeof e!="string")return!1;var t=ree.exec(e),n=t&&pI[t[1].toLowerCase()];return n&&n.charset?n.charset:t&&_0e.test(t[1])?"UTF-8":!1}function b0e(e){if(!e||typeof e!="string")return!1;var t=e.indexOf("/")===-1?oi.lookup(e):e;if(!t)return!1;if(t.indexOf("charset")===-1){var n=oi.charset(t);n&&(t+="; charset="+n.toLowerCase())}return t}function C0e(e){if(!e||typeof e!="string")return!1;var t=ree.exec(e),n=t&&oi.extensions[t[1].toLowerCase()];return!n||!n.length?!1:n[0]}function S0e(e){if(!e||typeof e!="string")return!1;var t=E0e("x."+e).toLowerCase().substr(1);return t&&oi.types[t]||!1}function T0e(e,t){var n=["nginx","apache",void 0,"iana"];Object.keys(pI).forEach(function(i){var o=pI[i],s=o.extensions;if(!(!s||!s.length)){e[i]=s;for(var a=0;a<s.length;a++){var u=s[a];if(t[u]){var c=n.indexOf(pI[t[u]].source),l=n.indexOf(o.source);if(t[u]!=="application/octet-stream"&&(c>l||c===l&&t[u].substr(0,12)==="application/"))continue}t[u]=i}}})}});var aee=w((CZe,see)=>{see.exports=I0e;function I0e(e){var t=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;t?t(e):setTimeout(e,0)}});var _M=w((SZe,uee)=>{var cee=aee();uee.exports=P0e;function P0e(e){var t=!1;return cee(function(){t=!0}),function(r,i){t?e(r,i):cee(function(){e(r,i)})}}});var bM=w((TZe,lee)=>{lee.exports=R0e;function R0e(e){Object.keys(e.jobs).forEach(A0e.bind(e)),e.jobs={}}function A0e(e){typeof this.jobs[e]=="function"&&this.jobs[e]()}});var CM=w((IZe,pee)=>{var dee=_M(),D0e=bM();pee.exports=k0e;function k0e(e,t,n,r){var i=n.keyedList?n.keyedList[n.index]:n.index;n.jobs[i]=O0e(t,i,e[i],function(o,s){i in n.jobs&&(delete n.jobs[i],o?D0e(n):n.results[i]=s,r(o,n.results))})}function O0e(e,t,n,r){var i;return e.length==2?i=e(n,dee(r)):i=e(n,t,dee(r)),i}});var SM=w((PZe,fee)=>{fee.exports=N0e;function N0e(e,t){var n=!Array.isArray(e),r={index:0,keyedList:n||t?Object.keys(e):null,jobs:{},results:n?{}:[],size:n?Object.keys(e).length:e.length};return t&&r.keyedList.sort(n?t:function(i,o){return t(e[i],e[o])}),r}});var TM=w((RZe,mee)=>{var L0e=bM(),F0e=_M();mee.exports=M0e;function M0e(e){!Object.keys(this.jobs).length||(this.index=this.size,L0e(this),F0e(e)(null,this.results))}});var gee=w((AZe,hee)=>{var U0e=CM(),q0e=SM(),$0e=TM();hee.exports=j0e;function j0e(e,t,n){for(var r=q0e(e);r.index<(r.keyedList||e).length;)U0e(e,t,r,function(i,o){if(i){n(i,o);return}if(Object.keys(r.jobs).length===0){n(null,r.results);return}}),r.index++;return $0e.bind(r,n)}});var IM=w((DZe,fI)=>{var vee=CM(),H0e=SM(),B0e=TM();fI.exports=V0e;fI.exports.ascending=yee;fI.exports.descending=W0e;function V0e(e,t,n,r){var i=H0e(e,n);return vee(e,t,i,function o(s,a){if(s){r(s,a);return}if(i.index++,i.index<(i.keyedList||e).length){vee(e,t,i,o);return}r(null,i.results)}),B0e.bind(i,r)}function yee(e,t){return e<t?-1:e>t?1:0}function W0e(e,t){return-1*yee(e,t)}});var wee=w((kZe,xee)=>{var G0e=IM();xee.exports=z0e;function z0e(e,t,n){return G0e(e,t,null,n)}});var _ee=w((OZe,Eee)=>{Eee.exports={parallel:gee(),serial:wee(),serialOrdered:IM()}});var Cee=w((NZe,bee)=>{bee.exports=function(e,t){return Object.keys(t).forEach(function(n){e[n]=e[n]||t[n]}),e}});var Iee=w((LZe,Tee)=>{var DM=ZZ(),See=require("util"),PM=require("path"),Y0e=require("http"),K0e=require("https"),X0e=require("url").parse,Q0e=require("fs"),J0e=require("stream").Stream,RM=oee(),Z0e=_ee(),AM=Cee();Tee.exports=et;See.inherits(et,DM);function et(e){if(!(this instanceof et))return new et(e);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],DM.call(this),e=e||{};for(var t in e)this[t]=e[t]}et.LINE_BREAK=`\r
`;et.DEFAULT_CONTENT_TYPE="application/octet-stream";et.prototype.append=function(e,t,n){n=n||{},typeof n=="string"&&(n={filename:n});var r=DM.prototype.append.bind(this);if(typeof t=="number"&&(t=""+t),See.isArray(t)){this._error(new Error("Arrays are not supported."));return}var i=this._multiPartHeader(e,t,n),o=this._multiPartFooter();r(i),r(t),r(o),this._trackLength(i,t,n)};et.prototype._trackLength=function(e,t,n){var r=0;n.knownLength!=null?r+=+n.knownLength:Buffer.isBuffer(t)?r=t.length:typeof t=="string"&&(r=Buffer.byteLength(t)),this._valueLength+=r,this._overheadLength+=Buffer.byteLength(e)+et.LINE_BREAK.length,!(!t||!t.path&&!(t.readable&&t.hasOwnProperty("httpVersion"))&&!(t instanceof J0e))&&(n.knownLength||this._valuesToMeasure.push(t))};et.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?e.end!=null&&e.end!=1/0&&e.start!=null?t(null,e.end+1-(e.start?e.start:0)):Q0e.stat(e.path,function(n,r){var i;if(n){t(n);return}i=r.size-(e.start?e.start:0),t(null,i)}):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",function(n){e.pause(),t(null,+n.headers["content-length"])}),e.resume()):t("Unknown stream")};et.prototype._multiPartHeader=function(e,t,n){if(typeof n.header=="string")return n.header;var r=this._getContentDisposition(t,n),i=this._getContentType(t,n),o="",s={"Content-Disposition":["form-data",'name="'+e+'"'].concat(r||[]),"Content-Type":[].concat(i||[])};typeof n.header=="object"&&AM(s,n.header);var a;for(var u in s)!s.hasOwnProperty(u)||(a=s[u],a!=null&&(Array.isArray(a)||(a=[a]),a.length&&(o+=u+": "+a.join("; ")+et.LINE_BREAK)));return"--"+this.getBoundary()+et.LINE_BREAK+o+et.LINE_BREAK};et.prototype._getContentDisposition=function(e,t){var n,r;return typeof t.filepath=="string"?n=PM.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?n=PM.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(n=PM.basename(e.client._httpMessage.path||"")),n&&(r='filename="'+n+'"'),r};et.prototype._getContentType=function(e,t){var n=t.contentType;return!n&&e.name&&(n=RM.lookup(e.name)),!n&&e.path&&(n=RM.lookup(e.path)),!n&&e.readable&&e.hasOwnProperty("httpVersion")&&(n=e.headers["content-type"]),!n&&(t.filepath||t.filename)&&(n=RM.lookup(t.filepath||t.filename)),!n&&typeof e=="object"&&(n=et.DEFAULT_CONTENT_TYPE),n};et.prototype._multiPartFooter=function(){return function(e){var t=et.LINE_BREAK,n=this._streams.length===0;n&&(t+=this._lastBoundary()),e(t)}.bind(this)};et.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+et.LINE_BREAK};et.prototype.getHeaders=function(e){var t,n={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(n[t.toLowerCase()]=e[t]);return n};et.prototype.setBoundary=function(e){this._boundary=e};et.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};et.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),n=0,r=this._streams.length;n<r;n++)typeof this._streams[n]!="function"&&(Buffer.isBuffer(this._streams[n])?e=Buffer.concat([e,this._streams[n]]):e=Buffer.concat([e,Buffer.from(this._streams[n])]),(typeof this._streams[n]!="string"||this._streams[n].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(et.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])};et.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(Math.random()*10).toString(16);this._boundary=e};et.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),e};et.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e};et.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}Z0e.parallel(this._valuesToMeasure,this._lengthRetriever,function(n,r){if(n){e(n);return}r.forEach(function(i){t+=i}),e(null,t)})};et.prototype.submit=function(e,t){var n,r,i={method:"post"};return typeof e=="string"?(e=X0e(e),r=AM({port:e.port,path:e.pathname,host:e.hostname,protocol:e.protocol},i)):(r=AM(e,i),r.port||(r.port=r.protocol=="https:"?443:80)),r.headers=this.getHeaders(e.headers),r.protocol=="https:"?n=K0e.request(r):n=Y0e.request(r),this.getLength(function(o,s){if(o&&o!=="Unknown stream"){this._error(o);return}if(s&&n.setHeader("Content-Length",s),this.pipe(n),t){var a,u=function(c,l){return n.removeListener("error",u),n.removeListener("response",a),t.call(this,c,l)};a=u.bind(this,null),n.on("error",u),n.on("response",a)}}.bind(this)),n};et.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))};et.prototype.toString=function(){return"[object FormData]"}});function mI(){return{name:kM,async sendRequest(e,t){if(e.formData){let n=e.headers.get("Content-Type");n&&n.indexOf("application/x-www-form-urlencoded")!==-1?(e.body=eRe(e.formData),e.formData=void 0):await tRe(e.formData,e)}return t(e)}}}function eRe(e){let t=new URLSearchParams;for(let[n,r]of Object.entries(e))if(Array.isArray(r))for(let i of r)t.append(n,i.toString());else t.append(n,r.toString());return t.toString()}async function tRe(e,t){let n=new Pee.default;for(let i of Object.keys(e)){let o=e[i];if(Array.isArray(o))for(let s of o)n.append(i,s);else n.append(i,o)}t.body=n,t.formData=void 0;let r=t.headers.get("Content-Type");r&&r.indexOf("multipart/form-data")!==-1&&t.headers.set("Content-Type",`multipart/form-data; boundary=${n.getBoundary()}`);try{let i=await new Promise((o,s)=>{n.getLength((a,u)=>{a?s(a):o(u)})});t.headers.set("Content-Length",i)}catch{}}var Pee,kM,OM=S(()=>{Pee=V(Iee()),kM="formDataPolicy"});var Ree=w(NM=>{"use strict";Object.defineProperty(NM,"__esModule",{value:!0});function nRe(e){return function(t,n){return new Promise((r,i)=>{e.call(this,t,n,(o,s)=>{o?i(o):r(s)})})}}NM.default=nRe});var MM=w((FM,Dee)=>{"use strict";var Aee=FM&&FM.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},rRe=require("events"),iRe=Aee(Sc()),oRe=Aee(Ree()),Ox=iRe.default("agent-base");function sRe(e){return Boolean(e)&&typeof e.addRequest=="function"}function LM(){let{stack:e}=new Error;return typeof e!="string"?!1:e.split(`
`).some(t=>t.indexOf("(https.js:")!==-1||t.indexOf("node:https:")!==-1)}function hI(e,t){return new hI.Agent(e,t)}(function(e){class t extends rRe.EventEmitter{constructor(r,i){super();let o=i;typeof r=="function"?this.callback=r:r&&(o=r),this.timeout=null,o&&typeof o.timeout=="number"&&(this.timeout=o.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:LM()?443:80}set defaultPort(r){this.explicitDefaultPort=r}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:LM()?"https:":"http:"}set protocol(r){this.explicitProtocol=r}callback(r,i,o){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(r,i){let o=Object.assign({},i);typeof o.secureEndpoint!="boolean"&&(o.secureEndpoint=LM()),o.host==null&&(o.host="localhost"),o.port==null&&(o.port=o.secureEndpoint?443:80),o.protocol==null&&(o.protocol=o.secureEndpoint?"https:":"http:"),o.host&&o.path&&delete o.path,delete o.agent,delete o.hostname,delete o._defaultAgent,delete o.defaultPort,delete o.createConnection,r._last=!0,r.shouldKeepAlive=!1;let s=!1,a=null,u=o.timeout||this.timeout,c=f=>{r._hadError||(r.emit("error",f),r._hadError=!0)},l=()=>{a=null,s=!0;let f=new Error(`A "socket" was not created for HTTP request before ${u}ms`);f.code="ETIMEOUT",c(f)},d=f=>{s||(a!==null&&(clearTimeout(a),a=null),c(f))},p=f=>{if(s)return;if(a!=null&&(clearTimeout(a),a=null),sRe(f)){Ox("Callback returned another Agent instance %o",f.constructor.name),f.addRequest(r,o);return}if(f){f.once("free",()=>{this.freeSocket(f,o)}),r.onSocket(f);return}let m=new Error(`no Duplex stream was returned to agent-base for \`${r.method} ${r.path}\``);c(m)};if(typeof this.callback!="function"){c(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(Ox("Converting legacy callback function to promise"),this.promisifiedCallback=oRe.default(this.callback)):this.promisifiedCallback=this.callback),typeof u=="number"&&u>0&&(a=setTimeout(l,u)),"port"in o&&typeof o.port!="number"&&(o.port=Number(o.port));try{Ox("Resolving socket for %o request: %o",o.protocol,`${r.method} ${r.path}`),Promise.resolve(this.promisifiedCallback(r,o)).then(p,d)}catch(f){Promise.reject(f).catch(d)}}freeSocket(r,i){Ox("Freeing socket %o %o",r.constructor.name,i),r.destroy()}destroy(){Ox("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype})(hI||(hI={}));Dee.exports=hI});var kee=w(Lx=>{"use strict";var aRe=Lx&&Lx.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lx,"__esModule",{value:!0});var cRe=aRe(Sc()),Nx=cRe.default("https-proxy-agent:parse-proxy-response");function uRe(e){return new Promise((t,n)=>{let r=0,i=[];function o(){let d=e.read();d?l(d):e.once("readable",o)}function s(){e.removeListener("end",u),e.removeListener("error",c),e.removeListener("close",a),e.removeListener("readable",o)}function a(d){Nx("onclose had error %o",d)}function u(){Nx("onend")}function c(d){s(),Nx("onerror %o",d),n(d)}function l(d){i.push(d),r+=d.length;let p=Buffer.concat(i,r);if(p.indexOf(`\r
\r
`)===-1){Nx("have not received end of HTTP headers yet..."),o();return}let m=p.toString("ascii",0,p.indexOf(`\r
`)),h=+m.split(" ")[1];Nx("got proxy server response: %o",m),t({statusCode:h,buffered:p})}e.on("error",c),e.on("close",a),e.on("end",u),o()})}Lx.default=uRe});var Lee=w(ep=>{"use strict";var lRe=ep&&ep.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},Nh=ep&&ep.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ep,"__esModule",{value:!0});var Oee=Nh(require("net")),Nee=Nh(require("tls")),dRe=Nh(require("url")),pRe=Nh(require("assert")),fRe=Nh(Sc()),mRe=MM(),hRe=Nh(kee()),Fx=fRe.default("https-proxy-agent:agent"),UM=class extends mRe.Agent{constructor(t){let n;if(typeof t=="string"?n=dRe.default.parse(t):n=t,!n)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Fx("creating new HttpsProxyAgent instance: %o",n),super(n);let r=Object.assign({},n);this.secureProxy=n.secureProxy||yRe(r.protocol),r.host=r.hostname||r.host,typeof r.port=="string"&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in r)&&(r.ALPNProtocols=["http 1.1"]),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(t,n){return lRe(this,void 0,void 0,function*(){let{proxy:r,secureProxy:i}=this,o;i?(Fx("Creating `tls.Socket`: %o",r),o=Nee.default.connect(r)):(Fx("Creating `net.Socket`: %o",r),o=Oee.default.connect(r));let s=Object.assign({},r.headers),u=`CONNECT ${`${n.host}:${n.port}`} HTTP/1.1\r
`;r.auth&&(s["Proxy-Authorization"]=`Basic ${Buffer.from(r.auth).toString("base64")}`);let{host:c,port:l,secureEndpoint:d}=n;vRe(l,d)||(c+=`:${l}`),s.Host=c,s.Connection="close";for(let g of Object.keys(s))u+=`${g}: ${s[g]}\r
`;let p=hRe.default(o);o.write(`${u}\r
`);let{statusCode:f,buffered:m}=yield p;if(f===200){if(t.once("socket",gRe),n.secureEndpoint){Fx("Upgrading socket connection to TLS");let g=n.servername||n.host;return Nee.default.connect(Object.assign(Object.assign({},xRe(n,"host","hostname","path","port")),{socket:o,servername:g}))}return o}o.destroy();let h=new Oee.default.Socket({writable:!1});return h.readable=!0,t.once("socket",g=>{Fx("replaying proxy buffer for failed request"),pRe.default(g.listenerCount("data")>0),g.push(m),g.push(null)}),h})}};ep.default=UM;function gRe(e){e.resume()}function vRe(e,t){return Boolean(!t&&e===80||t&&e===443)}function yRe(e){return typeof e=="string"?/^https:?$/i.test(e):!1}function xRe(e,...t){let n={},r;for(r in e)t.includes(r)||(n[r]=e[r]);return n}});var Mee=w((jM,Fee)=>{"use strict";var wRe=jM&&jM.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},qM=wRe(Lee());function $M(e){return new qM.default(e)}(function(e){e.HttpsProxyAgent=qM.default,e.prototype=qM.default.prototype})($M||($M={}));Fee.exports=$M});var Uee=w(HM=>{"use strict";Object.defineProperty(HM,"__esModule",{value:!0});function ERe(e,t,{signal:n}={}){return new Promise((r,i)=>{function o(){n==null||n.removeEventListener("abort",o),e.removeListener(t,s),e.removeListener("error",a)}function s(...u){o(),r(u)}function a(u){o(),i(u)}n==null||n.addEventListener("abort",o),e.on(t,s),e.on("error",a)})}HM.default=ERe});var qee=w(tp=>{"use strict";var _Re=tp&&tp.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},Mx=tp&&tp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tp,"__esModule",{value:!0});var bRe=Mx(require("net")),CRe=Mx(require("tls")),BM=Mx(require("url")),SRe=Mx(Sc()),TRe=Mx(Uee()),IRe=MM(),Ku=(0,SRe.default)("http-proxy-agent");function PRe(e){return typeof e=="string"?/^https:?$/i.test(e):!1}var VM=class extends IRe.Agent{constructor(t){let n;if(typeof t=="string"?n=BM.default.parse(t):n=t,!n)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Ku("Creating new HttpProxyAgent instance: %o",n),super(n);let r=Object.assign({},n);this.secureProxy=n.secureProxy||PRe(r.protocol),r.host=r.hostname||r.host,typeof r.port=="string"&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(t,n){return _Re(this,void 0,void 0,function*(){let{proxy:r,secureProxy:i}=this,o=BM.default.parse(t.path);o.protocol||(o.protocol="http:"),o.hostname||(o.hostname=n.hostname||n.host||null),o.port==null&&typeof n.port&&(o.port=String(n.port)),o.port==="80"&&(o.port=""),t.path=BM.default.format(o),r.auth&&t.setHeader("Proxy-Authorization",`Basic ${Buffer.from(r.auth).toString("base64")}`);let s;if(i?(Ku("Creating `tls.Socket`: %o",r),s=CRe.default.connect(r)):(Ku("Creating `net.Socket`: %o",r),s=bRe.default.connect(r)),t._header){let a,u;Ku("Regenerating stored HTTP header string for request"),t._header=null,t._implicitHeader(),t.output&&t.output.length>0?(Ku("Patching connection write() output buffer with updated header"),a=t.output[0],u=a.indexOf(`\r
\r
`)+4,t.output[0]=t._header+a.substring(u),Ku("Output buffer: %o",t.output)):t.outputData&&t.outputData.length>0&&(Ku("Patching connection write() output buffer with updated header"),a=t.outputData[0].data,u=a.indexOf(`\r
\r
`)+4,t.outputData[0].data=t._header+a.substring(u),Ku("Output buffer: %o",t.outputData[0].data))}return yield(0,TRe.default)(s,"connect"),s})}};tp.default=VM});var jee=w((zM,$ee)=>{"use strict";var RRe=zM&&zM.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},WM=RRe(qee());function GM(e){return new WM.default(e)}(function(e){e.HttpProxyAgent=WM.default,e.prototype=WM.default.prototype})(GM||(GM={}));$ee.exports=GM});function gI(e){if(process.env[e])return process.env[e];if(process.env[e.toLowerCase()])return process.env[e.toLowerCase()]}function LRe(){if(!process)return;let e=gI(ARe),t=gI(kRe),n=gI(DRe);return e||t||n}function FRe(e,t,n){if(t.length===0)return!1;let r=new URL(e).hostname;if(n!=null&&n.has(r))return n.get(r);let i=!1;for(let o of t)o[0]==="."?(r.endsWith(o)||r.length===o.length-1&&r===o.slice(1))&&(i=!0):r===o&&(i=!0);return n==null||n.set(r,i),i}function MRe(){let e=gI(ORe);return Gee=!0,e?e.split(",").map(t=>t.trim()).filter(t=>t.length):[]}function KM(e){if(!e&&(e=LRe(),!e))return;let t=new URL(e);return{host:(t.protocol?t.protocol+"//":"")+t.hostname,port:Number.parseInt(t.port||"80"),username:t.username,password:t.password}}function Bee(e,{headers:t,tlsSettings:n}){let r;try{r=new URL(e.host)}catch{throw new Error(`Expecting a valid host string in proxy settings, but found "${e.host}".`)}n&&Jn.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let i={hostname:r.hostname,port:e.port,protocol:r.protocol,headers:t.toJSON()};return e.username&&e.password?i.auth=`${e.username}:${e.password}`:e.username&&(i.auth=`${e.username}`),i}function URe(e,t){if(e.agent)return;let r=new URL(e.url).protocol!=="https:",i=e.proxySettings;if(i)if(r){if(!t.httpProxyAgent){let o=Bee(i,e);t.httpProxyAgent=new Wee.HttpProxyAgent(o)}e.agent=t.httpProxyAgent}else{if(!t.httpsProxyAgent){let o=Bee(i,e);t.httpsProxyAgent=new Vee.HttpsProxyAgent(o)}e.agent=t.httpsProxyAgent}}function vI(e=KM(),t){Gee||Hee.push(...MRe());let n={};return{name:YM,async sendRequest(r,i){var o;return!r.proxySettings&&!FRe(r.url,(o=t==null?void 0:t.customNoProxyList)!==null&&o!==void 0?o:Hee,t!=null&&t.customNoProxyList?void 0:NRe)&&(r.proxySettings=e),r.proxySettings&&URe(r,n),i(r)}}}var Vee,Wee,ARe,DRe,kRe,ORe,YM,Hee,Gee,NRe,XM=S(()=>{Vee=V(Mee()),Wee=V(jee());Sh();ARe="HTTPS_PROXY",DRe="HTTP_PROXY",kRe="ALL_PROXY",ORe="NO_PROXY",YM="proxyPolicy",Hee=[],Gee=!1,NRe=new Map});function yI(e="x-ms-client-request-id"){return{name:QM,async sendRequest(t,n){return t.headers.has(e)||t.headers.set(e,t.requestId),n(t)}}}var QM,JM=S(()=>{QM="setClientRequestIdPolicy"});function xI(e){return{name:ZM,sendRequest:async(t,n)=>(t.tlsSettings||(t.tlsSettings=e),n(t))}}var ZM,eU=S(()=>{ZM="tlsPolicy"});function zee(e={}){let t=new np(e.parentContext);return e.span&&(t=t.setValue(Lh.span,e.span)),e.namespace&&(t=t.setValue(Lh.namespace,e.namespace)),t}var Lh,np,tU=S(()=>{Lh={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};np=class{constructor(t){this._contextMap=t instanceof np?new Map(t._contextMap):new Map}setValue(t,n){let r=new np(this);return r._contextMap.set(t,n),r}getValue(t){return this._contextMap.get(t)}deleteValue(t){let n=new np(this);return n._contextMap.delete(t),n}}});function qRe(){return{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{}}}function $Re(){return{createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(e,t)=>({span:qRe(),tracingContext:zee({parentContext:t.tracingContext})}),withContext(e,t,...n){return t(...n)}}}function Ux(){return nU||(nU=$Re()),nU}var nU,Yee=S(()=>{tU()});function rU(e){let{namespace:t,packageName:n,packageVersion:r}=e;function i(c,l,d){var p;let f=Ux().startSpan(c,Object.assign(Object.assign({},d),{packageName:n,packageVersion:r,tracingContext:(p=l==null?void 0:l.tracingOptions)===null||p===void 0?void 0:p.tracingContext})),m=f.tracingContext,h=f.span;m.getValue(Lh.namespace)||(m=m.setValue(Lh.namespace,t)),h.setAttribute("az.namespace",m.getValue(Lh.namespace));let g=Object.assign({},l,{tracingOptions:Object.assign(Object.assign({},l==null?void 0:l.tracingOptions),{tracingContext:m})});return{span:h,updatedOptions:g}}async function o(c,l,d,p){let{span:f,updatedOptions:m}=i(c,l,p);try{let h=await s(m.tracingOptions.tracingContext,()=>Promise.resolve(d(m,f)));return f.setStatus({status:"success"}),h}catch(h){throw f.setStatus({status:"error",error:h}),h}finally{f.end()}}function s(c,l,...d){return Ux().withContext(c,l,...d)}function a(c){return Ux().parseTraceparentHeader(c)}function u(c){return Ux().createRequestHeaders(c)}return{startSpan:i,withSpan:o,withContext:s,parseTraceparentHeader:a,createRequestHeaders:u}}var Kee=S(()=>{Yee();tU()});var Xee=S(()=>{Kee()});var Qee,Jee,Zee=S(()=>{Qee=require("util"),Jee=Qee.inspect.custom});function wI(e){return e instanceof Dr?!0:Ih(e)&&e.name==="RestError"}var jRe,Dr,EI=S(()=>{Rh();Zee();uM();jRe=new Ah,Dr=class extends Error{constructor(t,n={}){super(t),this.name="RestError",this.code=n.code,this.statusCode=n.statusCode,this.request=n.request,this.response=n.response,Object.setPrototypeOf(this,Dr.prototype)}[Jee](){return`RestError: ${this.message} 
 ${jRe.sanitize(this)}`}};Dr.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";Dr.PARSE_ERROR="PARSE_ERROR"});function _I(e={}){let t=rI(e.userAgentPrefix),n=HRe();return{name:iU,async sendRequest(r,i){var o,s;if(!n||!(!((o=r.tracingOptions)===null||o===void 0)&&o.tracingContext))return i(r);let{span:a,tracingContext:u}=(s=BRe(n,r,t))!==null&&s!==void 0?s:{};if(!a||!u)return i(r);try{let c=await n.withContext(u,i,r);return WRe(a,c),c}catch(c){throw VRe(a,c),c}}}}function HRe(){try{return rU({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:nI})}catch(e){Jn.warning(`Error when creating the TracingClient: ${Ph(e)}`);return}}function BRe(e,t,n){try{let{span:r,updatedOptions:i}=e.startSpan(`HTTP ${t.method}`,{tracingOptions:t.tracingOptions},{spanKind:"client",spanAttributes:{"http.method":t.method,"http.url":t.url,requestId:t.requestId}});if(!r.isRecording()){r.end();return}n&&r.setAttribute("http.user_agent",n);let o=e.createRequestHeaders(i.tracingOptions.tracingContext);for(let[s,a]of Object.entries(o))t.headers.set(s,a);return{span:r,tracingContext:i.tracingOptions.tracingContext}}catch(r){Jn.warning(`Skipping creating a tracing span due to an error: ${Ph(r)}`);return}}function VRe(e,t){try{e.setStatus({status:"error",error:Ih(t)?t:void 0}),wI(t)&&t.statusCode&&e.setAttribute("http.status_code",t.statusCode),e.end()}catch(n){Jn.warning(`Skipping tracing span processing due to an error: ${Ph(n)}`)}}function WRe(e,t){try{e.setAttribute("http.status_code",t.status);let n=t.headers.get("x-ms-request-id");n&&e.setAttribute("serviceRequestId",n),e.setStatus({status:"success"}),e.end()}catch(n){Jn.warning(`Skipping tracing span processing due to an error: ${Ph(n)}`)}}var iU,oU=S(()=>{Xee();mM();hM();Sh();Rh();EI();iU="tracingPolicy"});function ete(e){let t=GT();return QT&&(e.tlsOptions&&t.addPolicy(xI(e.tlsOptions)),t.addPolicy(vI(e.proxyOptions)),t.addPolicy(oI())),t.addPolicy(mI()),t.addPolicy(iI(e.userAgentOptions)),t.addPolicy(yI()),t.addPolicy(dI(e.retryOptions),{phase:"Retry"}),t.addPolicy(_I(e.userAgentOptions),{afterPhase:"Retry"}),QT&&t.addPolicy(tI(e.redirectOptions),{afterPhase:"Retry"}),t.addPolicy(eI(e.loggingOptions),{afterPhase:"Sign"}),t}var tte=S(()=>{dM();K1();fM();vM();xM();EM();OM();Rh();XM();JM();eU();oU()});function bI(e){return e.toLowerCase()}function*GRe(e){for(let t of e.values())yield[t.name,t.value]}function Fh(e){return new sU(e)}var sU,CI=S(()=>{sU=class{constructor(t){if(this._headersMap=new Map,t)for(let n of Object.keys(t))this.set(n,t[n])}set(t,n){this._headersMap.set(bI(t),{name:t,value:String(n)})}get(t){var n;return(n=this._headersMap.get(bI(t)))===null||n===void 0?void 0:n.value}has(t){return this._headersMap.has(bI(t))}delete(t){this._headersMap.delete(bI(t))}toJSON(t={}){let n={};if(t.preserveCase)for(let r of this._headersMap.values())n[r.name]=r.value;else for(let[r,i]of this._headersMap)n[r]=i.value;return n}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return GRe(this._headersMap)}}});function qx(e){return e&&typeof e.pipe=="function"}function nte(e){return new Promise(t=>{e.on("close",t),e.on("end",t),e.on("error",t)})}function ite(e){return e&&typeof e.byteLength=="number"}function YRe(e){let t=Fh();for(let n of Object.keys(e.headers)){let r=e.headers[n];Array.isArray(r)?r.length>0&&t.set(n,r[0]):r&&t.set(n,r)}return t}function KRe(e,t){let n=t.get("Content-Encoding");if(n==="gzip"){let r=TI.createGunzip();return e.pipe(r),r}else if(n==="deflate"){let r=TI.createInflate();return e.pipe(r),r}return e}function XRe(e){return new Promise((t,n)=>{let r=[];e.on("data",i=>{Buffer.isBuffer(i)?r.push(i):r.push(Buffer.from(i))}),e.on("end",()=>{t(Buffer.concat(r).toString("utf8"))}),e.on("error",i=>{i&&(i==null?void 0:i.name)==="AbortError"?n(i):n(new Dr(`Error reading response as text: ${i.message}`,{code:Dr.PARSE_ERROR}))})})}function QRe(e){return e?Buffer.isBuffer(e)?e.length:qx(e)?null:ite(e)?e.byteLength:typeof e=="string"?Buffer.from(e).length:null:0}function ote(){return new aU}var Mh,Uh,TI,rte,zRe,SI,aU,ste=S(()=>{Mh=V(require("http")),Uh=V(require("https")),TI=V(require("zlib")),rte=require("stream");ZT();CI();EI();Sh();zRe={};SI=class extends rte.Transform{constructor(t){super(),this.loadedBytes=0,this.progressCallback=t}_transform(t,n,r){this.push(t),this.loadedBytes+=t.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),r()}catch(i){r(i)}}},aU=class{constructor(){this.cachedHttpsAgents=new WeakMap}async sendRequest(t){var n,r,i;let o=new Ax,s;if(t.abortSignal){if(t.abortSignal.aborted)throw new na("The operation was aborted.");s=d=>{d.type==="abort"&&o.abort()},t.abortSignal.addEventListener("abort",s)}t.timeout>0&&setTimeout(()=>{o.abort()},t.timeout);let a=t.headers.get("Accept-Encoding"),u=(a==null?void 0:a.includes("gzip"))||(a==null?void 0:a.includes("deflate")),c=typeof t.body=="function"?t.body():t.body;if(c&&!t.headers.has("Content-Length")){let d=QRe(c);d!==null&&t.headers.set("Content-Length",d)}let l;try{if(c&&t.onUploadProgress){let g=t.onUploadProgress,v=new SI(g);v.on("error",y=>{Jn.error("Error in upload progress",y)}),qx(c)?c.pipe(v):v.end(c),c=v}let d=await this.makeRequest(t,o,c),p=YRe(d),m={status:(n=d.statusCode)!==null&&n!==void 0?n:0,headers:p,request:t};if(t.method==="HEAD")return d.resume(),m;l=u?KRe(d,p):d;let h=t.onDownloadProgress;if(h){let g=new SI(h);g.on("error",v=>{Jn.error("Error in download progress",v)}),l.pipe(g),l=g}return((r=t.streamResponseStatusCodes)===null||r===void 0?void 0:r.has(Number.POSITIVE_INFINITY))||((i=t.streamResponseStatusCodes)===null||i===void 0?void 0:i.has(m.status))?m.readableStreamBody=l:m.bodyAsText=await XRe(l),m}finally{if(t.abortSignal&&s){let d=Promise.resolve();qx(c)&&(d=nte(c));let p=Promise.resolve();qx(l)&&(p=nte(l)),Promise.all([d,p]).then(()=>{var f;s&&((f=t.abortSignal)===null||f===void 0||f.removeEventListener("abort",s))}).catch(f=>{Jn.warning("Error when cleaning up abortListener on httpRequest",f)})}}}makeRequest(t,n,r){var i;let o=new URL(t.url),s=o.protocol!=="https:";if(s&&!t.allowInsecureConnection)throw new Error(`Cannot connect to ${t.url} while allowInsecureConnection is false.`);let u={agent:(i=t.agent)!==null&&i!==void 0?i:this.getOrCreateAgent(t,s),hostname:o.hostname,path:`${o.pathname}${o.search}`,port:o.port,method:t.method,headers:t.headers.toJSON({preserveCase:!0})};return new Promise((c,l)=>{let d=s?Mh.request(u,c):Uh.request(u,c);d.once("error",p=>{var f;l(new Dr(p.message,{code:(f=p.code)!==null&&f!==void 0?f:Dr.REQUEST_SEND_ERROR,request:t}))}),n.signal.addEventListener("abort",()=>{let p=new na("The operation was aborted.");d.destroy(p),l(p)}),r&&qx(r)?r.pipe(d):r?typeof r=="string"||Buffer.isBuffer(r)?d.end(r):ite(r)?d.end(ArrayBuffer.isView(r)?Buffer.from(r.buffer):Buffer.from(r)):(Jn.error("Unrecognized body type",r),l(new Dr("Unrecognized body type"))):d.end()})}getOrCreateAgent(t,n){var r;let i=t.disableKeepAlive;if(n)return i?Mh.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new Mh.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(i&&!t.tlsSettings)return Uh.globalAgent;let o=(r=t.tlsSettings)!==null&&r!==void 0?r:zRe,s=this.cachedHttpsAgents.get(o);return s&&s.options.keepAlive===!i||(Jn.info("No cached TLS Agent exist, creating a new Agent"),s=new Uh.Agent(Object.assign({keepAlive:!i},o)),this.cachedHttpsAgents.set(o,s)),s}}}});function ate(){return ote()}var cte=S(()=>{ste()});function cU(){return II>PI.length-16&&(ute.default.randomFillSync(PI),II=0),PI.slice(II,II+=16)}var ute,PI,II,lte=S(()=>{ute=V(require("crypto")),PI=new Uint8Array(256),II=PI.length});var dte,pte=S(()=>{dte=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function JRe(e){return typeof e=="string"&&dte.test(e)}var fte,mte=S(()=>{pte();fte=JRe});function ZRe(e,t=0){let n=(Zn[e[t+0]]+Zn[e[t+1]]+Zn[e[t+2]]+Zn[e[t+3]]+"-"+Zn[e[t+4]]+Zn[e[t+5]]+"-"+Zn[e[t+6]]+Zn[e[t+7]]+"-"+Zn[e[t+8]]+Zn[e[t+9]]+"-"+Zn[e[t+10]]+Zn[e[t+11]]+Zn[e[t+12]]+Zn[e[t+13]]+Zn[e[t+14]]+Zn[e[t+15]]).toLowerCase();if(!fte(n))throw TypeError("Stringified UUID is invalid");return n}var Zn,hte,gte=S(()=>{mte();Zn=[];for(let e=0;e<256;++e)Zn.push((e+256).toString(16).substr(1));hte=ZRe});function eAe(e,t,n){e=e||{};let r=e.random||(e.rng||cU)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return hte(r)}var uU,vte=S(()=>{lte();gte();uU=eAe});var yte=S(()=>{vte()});function xte(){return uU()}var wte=S(()=>{yte()});function Ete(e){return new lU(e)}var lU,_te=S(()=>{CI();wte();lU=class{constructor(t){var n,r,i,o,s,a,u;this.url=t.url,this.body=t.body,this.headers=(n=t.headers)!==null&&n!==void 0?n:Fh(),this.method=(r=t.method)!==null&&r!==void 0?r:"GET",this.timeout=(i=t.timeout)!==null&&i!==void 0?i:0,this.formData=t.formData,this.disableKeepAlive=(o=t.disableKeepAlive)!==null&&o!==void 0?o:!1,this.proxySettings=t.proxySettings,this.streamResponseStatusCodes=t.streamResponseStatusCodes,this.withCredentials=(s=t.withCredentials)!==null&&s!==void 0?s:!1,this.abortSignal=t.abortSignal,this.tracingOptions=t.tracingOptions,this.onUploadProgress=t.onUploadProgress,this.onDownloadProgress=t.onDownloadProgress,this.requestId=t.requestId||xte(),this.allowInsecureConnection=(a=t.allowInsecureConnection)!==null&&a!==void 0?a:!1,this.enableBrowserStreams=(u=t.enableBrowserStreams)!==null&&u!==void 0?u:!1}}});function Cte(e={}){var t;return ra([kh(Object.assign(Object.assign({},e),{ignoreSystemErrors:!0}))],{maxRetries:(t=e.maxRetries)!==null&&t!==void 0?t:3})}var bte,Ste=S(()=>{lI();Oh();bte="exponentialRetryPolicy"});function Tte(e={}){var t;return{name:dU,sendRequest:ra([kh(Object.assign(Object.assign({},e),{ignoreHttpStatusCodes:!0}))],{maxRetries:(t=e.maxRetries)!==null&&t!==void 0?t:3}).sendRequest}}var dU,Ite=S(()=>{lI();Oh();dU="systemErrorRetryPolicy"});function Pte(e={}){var t;return{name:pU,sendRequest:ra([cI()],{maxRetries:(t=e.maxRetries)!==null&&t!==void 0?t:3}).sendRequest}}var pU,Rte=S(()=>{uI();Oh();pU="throttlingRetryPolicy"});async function nAe(e,t,n){async function r(){if(Date.now()<n)try{return await e()}catch{return null}else{let o=await e();if(o===null)throw new Error("Failed to refresh access token.");return o}}let i=await r();for(;i===null;)await sI(t),i=await r();return i}function Ate(e,t){let n=null,r=null,i,o=Object.assign(Object.assign({},tAe),t),s={get isRefreshing(){return n!==null},get shouldRefresh(){var u;return!s.isRefreshing&&((u=r==null?void 0:r.expiresOnTimestamp)!==null&&u!==void 0?u:0)-o.refreshWindowInMs<Date.now()},get mustRefresh(){return r===null||r.expiresOnTimestamp-o.forcedRefreshWindowInMs<Date.now()}};function a(u,c){var l;return s.isRefreshing||(n=nAe(()=>e.getToken(u,c),o.retryIntervalInMs,(l=r==null?void 0:r.expiresOnTimestamp)!==null&&l!==void 0?l:Date.now()).then(p=>(n=null,r=p,i=c.tenantId,r)).catch(p=>{throw n=null,r=null,i=void 0,p})),n}return async(u,c)=>i!==c.tenantId||Boolean(c.claims)||s.mustRefresh?a(u,c):(s.shouldRefresh&&a(u,c),r)}var tAe,Dte=S(()=>{aI();tAe={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2}});async function rAe(e){let{scopes:t,getAccessToken:n,request:r}=e,i={abortSignal:r.abortSignal,tracingOptions:r.tracingOptions},o=await n(t,i);o&&e.request.headers.set("Authorization",`Bearer ${o.token}`)}function iAe(e){let t=e.headers.get("WWW-Authenticate");if(e.status===401&&t)return t}function kte(e){var t;let{credential:n,scopes:r,challengeCallbacks:i}=e,o=e.logger||Jn,s=Object.assign({authorizeRequest:(t=i==null?void 0:i.authorizeRequest)!==null&&t!==void 0?t:rAe,authorizeRequestOnChallenge:i==null?void 0:i.authorizeRequestOnChallenge},i),a=n?Ate(n):()=>Promise.resolve(null);return{name:fU,async sendRequest(u,c){if(!u.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await s.authorizeRequest({scopes:Array.isArray(r)?r:[r],request:u,getAccessToken:a,logger:o});let l,d;try{l=await c(u)}catch(p){d=p,l=p.response}if(s.authorizeRequestOnChallenge&&(l==null?void 0:l.status)===401&&iAe(l)&&await s.authorizeRequestOnChallenge({scopes:Array.isArray(r)?r:[r],request:u,response:l,getAccessToken:a,logger:o}))return c(u);if(d)throw d;return l}}}var fU,Ote=S(()=>{Dte();Sh();fU="bearerTokenAuthenticationPolicy"});function Nte(){return{name:mU,async sendRequest(e,t){if(typeof e.body=="string"&&e.body.startsWith("[")){let n=JSON.parse(e.body);Array.isArray(n)&&(e.body=n.map(r=>JSON.stringify(r)+`
`).join(""))}return t(e)}}}var mU,Lte=S(()=>{mU="ndJsonPolicy"});var Fte={};bs(Fte,{RestError:()=>Dr,bearerTokenAuthenticationPolicy:()=>kte,bearerTokenAuthenticationPolicyName:()=>fU,createDefaultHttpClient:()=>ate,createEmptyPipeline:()=>GT,createHttpHeaders:()=>Fh,createPipelineFromOptions:()=>ete,createPipelineRequest:()=>Ete,decompressResponsePolicy:()=>oI,decompressResponsePolicyName:()=>yM,defaultRetryPolicy:()=>dI,exponentialRetryPolicy:()=>Cte,exponentialRetryPolicyName:()=>bte,formDataPolicy:()=>mI,formDataPolicyName:()=>kM,getDefaultProxySettings:()=>KM,isRestError:()=>wI,logPolicy:()=>eI,logPolicyName:()=>lM,ndJsonPolicy:()=>Nte,ndJsonPolicyName:()=>mU,proxyPolicy:()=>vI,proxyPolicyName:()=>YM,redirectPolicy:()=>tI,redirectPolicyName:()=>pM,retryPolicy:()=>ra,setClientRequestIdPolicy:()=>yI,setClientRequestIdPolicyName:()=>QM,systemErrorRetryPolicy:()=>Tte,systemErrorRetryPolicyName:()=>dU,throttlingRetryPolicy:()=>Pte,throttlingRetryPolicyName:()=>pU,tlsPolicy:()=>xI,tlsPolicyName:()=>ZM,tracingPolicy:()=>_I,tracingPolicyName:()=>iU,userAgentPolicy:()=>iI,userAgentPolicyName:()=>gM});var Mte=S(()=>{K1();tte();cte();CI();_te();EI();xM();Ste();JM();dM();XM();fM();Ite();Rte();Oh();oU();EM();vM();eU();OM();Ote();Lte()});var $te=w(($x,qte)=>{"use strict";var oAe=$x&&$x.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},sAe=$x&&$x.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ute=(Mte(),ui(Fte)),aAe="https://monitor.azure.com//.default";function cAe(e){return null}var uAe=function(){function e(t){var n=[aAe];this._azureTokenPolicy=Ute.bearerTokenAuthenticationPolicy({credential:t,scopes:n})}return e.prototype.addAuthorizationHeader=function(t){return oAe(this,void 0,void 0,function(){var n,r;return sAe(this,function(i){switch(i.label){case 0:return n="authorization",r=Ute.createPipelineRequest({url:"https://"}),[4,this._azureTokenPolicy.sendRequest(r,cAe)];case 1:return i.sent(),console.log("#### webResource",r),t.headers[n]=r.headers.get(n),[2]}})})},e}();qte.exports=uAe});var Hte=w((Ntt,jte)=>{"use strict";var lAe=Mt(),dAe=Yn(),pAe=function(){function e(t,n,r,i){this._buffer=[],this._lastSend=0,this._isDisabled=t,this._getBatchSize=n,this._getBatchIntervalMs=r,this._sender=i}return e.prototype.setUseDiskRetryCaching=function(t,n,r){this._sender.setDiskRetryMode(t,n,r)},e.prototype.send=function(t){var n=this;if(!this._isDisabled()){if(!t){lAe.warn("Cannot send null/undefined telemetry");return}if(this._buffer.push(t),this._buffer.length>=this._getBatchSize()){this.triggerSend(!1);return}!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){n._timeoutHandle=null,n.triggerSend(!1)},this._getBatchIntervalMs()))}},e.prototype.triggerSend=function(t,n){var r=this._buffer.length<1;r||(t||dAe.isNodeExit?(this._sender.saveOnCrash(this._buffer),typeof n=="function"&&n("data saved on crash")):this._sender.send(this._buffer,n)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,r&&typeof n=="function"&&n("no data to send")},e}();jte.exports=pAe});var Bte=w(RI=>{"use strict";Object.defineProperty(RI,"__esModule",{value:!0});RI.azureRoleEnvironmentTelemetryProcessor=void 0;function fAe(e,t){process.env.WEBSITE_SITE_NAME&&(e.tags[t.keys.cloudRole]=process.env.WEBSITE_SITE_NAME),process.env.WEBSITE_INSTANCE_ID&&(e.tags[t.keys.cloudRoleInstance]=process.env.WEBSITE_INSTANCE_ID)}RI.azureRoleEnvironmentTelemetryProcessor=fAe});var Gte=w(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.getSamplingHashCode=qh.samplingTelemetryProcessor=void 0;var Vte=lr();function mAe(e,t){var n=e.sampleRate,r=!1;return n==null||n>=100||e.data&&Vte.TelemetryType.Metric===Vte.baseTypeToTelemetryType(e.data.baseType)?!0:(t.correlationContext&&t.correlationContext.operation?r=Wte(t.correlationContext.operation.id)<n:r=Math.random()*100<n,r)}qh.samplingTelemetryProcessor=mAe;function Wte(e){var t=-2147483648,n=2147483647,r=5381;if(!e)return 0;for(;e.length<8;)e=e+e;for(var i=0;i<e.length;i++)r=((r<<5)+r|0)+e.charCodeAt(i)|0;return r=r<=t?n:Math.abs(r),r/n*100}qh.getSamplingHashCode=Wte});var zte=w(AI=>{"use strict";Object.defineProperty(AI,"__esModule",{value:!0});AI.performanceMetricsTelemetryProcessor=void 0;var hU=AT(),gU=lr();function hAe(e,t){switch(t&&t.addDocument(e),e.data.baseType){case gU.TelemetryTypeString.Exception:hU.countException();break;case gU.TelemetryTypeString.Request:var n=e.data.baseData;hU.countRequest(n.duration,n.success);break;case gU.TelemetryTypeString.Dependency:var r=e.data.baseData;hU.countDependency(r.duration,r.success);break}return!0}AI.performanceMetricsTelemetryProcessor=hAe});var Yte=w($h=>{"use strict";var ia=$h&&$h.__assign||function(){return ia=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ia.apply(this,arguments)};Object.defineProperty($h,"__esModule",{value:!0});$h.preAggregatedMetricsTelemetryProcessor=void 0;var gAe=lr(),jx=S1(),DI=lr();function vAe(e,t){if(jx.isEnabled())switch(e.data.baseType){case DI.TelemetryTypeString.Exception:var n=e.data.baseData;n.properties=ia(ia({},n.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var r={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole]};jx.countException(r);break;case DI.TelemetryTypeString.Trace:var i=e.data.baseData;i.properties=ia(ia({},i.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var o={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole],traceSeverityLevel:gAe.SeverityLevel[i.severity]};jx.countTrace(o);break;case DI.TelemetryTypeString.Request:var s=e.data.baseData;s.properties=ia(ia({},s.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var a={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole],operationSynthetic:e.tags[t.keys.operationSyntheticSource],requestSuccess:s.success,requestResultCode:s.responseCode};jx.countRequest(s.duration,a);break;case DI.TelemetryTypeString.Dependency:var u=e.data.baseData;u.properties=ia(ia({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var c={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole],operationSynthetic:e.tags[t.keys.operationSyntheticSource],dependencySuccess:u.success,dependencyType:u.type,dependencyTarget:u.target,dependencyResultCode:u.resultCode};jx.countDependency(u.duration,c);break}return!0}$h.preAggregatedMetricsTelemetryProcessor=vAe});var Kte=w(oa=>{"use strict";var yAe=oa&&oa.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),kI=oa&&oa.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&yAe(t,e,n)};Object.defineProperty(oa,"__esModule",{value:!0});kI(Bte(),oa);kI(Gte(),oa);kI(zte(),oa);kI(Yte(),oa)});var vU=w(($tt,Jte)=>{"use strict";var Ee=lr(),Po=Yn(),Xte=Fu(),xAe=function(){function e(){}return e.createEnvelope=function(t,n,r,i,o){var s=null;switch(n){case Ee.TelemetryType.Trace:s=e.createTraceData(t);break;case Ee.TelemetryType.Dependency:s=e.createDependencyData(t);break;case Ee.TelemetryType.Event:s=e.createEventData(t);break;case Ee.TelemetryType.Exception:s=e.createExceptionData(t);break;case Ee.TelemetryType.Request:s=e.createRequestData(t);break;case Ee.TelemetryType.Metric:s=e.createMetricData(t);break;case Ee.TelemetryType.Availability:s=e.createAvailabilityData(t);break;case Ee.TelemetryType.PageView:s=e.createPageViewData(t);break}if(s&&s.baseData&&Ee.domainSupportsProperties(s.baseData)){if(r)if(!s.baseData.properties)s.baseData.properties=r;else for(var a in r)s.baseData.properties[a]||(s.baseData.properties[a]=r[a]);e.addAzureFunctionsCorrelationProperties(s.baseData.properties),s.baseData.properties&&(s.baseData.properties=Po.validateStringMap(s.baseData.properties))}var u=o&&o.instrumentationKey||"",c=new Ee.Envelope;return c.data=s,c.iKey=u,c.name="Microsoft.ApplicationInsights."+u.replace(/-/g,"")+"."+s.baseType.substr(0,s.baseType.length-4),c.tags=this.getTags(i,t.tagOverrides),c.time=new Date().toISOString(),c.ver=1,c.sampleRate=o?o.samplingPercentage:100,n===Ee.TelemetryType.Metric&&(c.sampleRate=100),c},e.addAzureFunctionsCorrelationProperties=function(t){var n=Xte.CorrelationContextManager.getCurrentContext();if(n&&n.customProperties&&n.customProperties.getProperty instanceof Function){t=t||{};var r=n.customProperties.getProperty("InvocationId");r&&(t.InvocationId=r),r=n.customProperties.getProperty("ProcessId"),r&&(t.ProcessId=r),r=n.customProperties.getProperty("LogLevel"),r&&(t.LogLevel=r),r=n.customProperties.getProperty("Category"),r&&(t.Category=r),r=n.customProperties.getProperty("HostInstanceId"),r&&(t.HostInstanceId=r),r=n.customProperties.getProperty("AzFuncLiveLogsSessionId"),r&&(t.AzFuncLiveLogsSessionId=r)}},e.createTraceData=function(t){var n=new Ee.MessageData;n.message=t.message,n.properties=t.properties,isNaN(t.severity)?n.severityLevel=Ee.SeverityLevel.Information:n.severityLevel=t.severity;var r=new Ee.Data;return r.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.Trace),r.baseData=n,r},e.createDependencyData=function(t){var n=new Ee.RemoteDependencyData;typeof t.name=="string"&&(n.name=t.name.length>1024?t.name.slice(0,1021)+"...":t.name),n.data=t.data,n.target=t.target,n.duration=Po.msToTimeSpan(t.duration),n.success=t.success,n.type=t.dependencyTypeName,n.properties=t.properties,n.resultCode=t.resultCode?t.resultCode.toString():"0",t.id?n.id=t.id:n.id=Po.w3cTraceId();var r=new Ee.Data;return r.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.Dependency),r.baseData=n,r},e.createEventData=function(t){var n=new Ee.EventData;n.name=t.name,n.properties=t.properties,n.measurements=t.measurements;var r=new Ee.Data;return r.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.Event),r.baseData=n,r},e.createExceptionData=function(t){var n=new Ee.ExceptionData;n.properties=t.properties,isNaN(t.severity)?n.severityLevel=Ee.SeverityLevel.Error:n.severityLevel=t.severity,n.measurements=t.measurements,n.exceptions=[];var r=t.exception.stack,i=new Ee.ExceptionDetails;i.message=t.exception.message,i.typeName=t.exception.name,i.parsedStack=this.parseStack(r),i.hasFullStack=Po.isArray(i.parsedStack)&&i.parsedStack.length>0,n.exceptions.push(i);var o=new Ee.Data;return o.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.Exception),o.baseData=n,o},e.createRequestData=function(t){var n=new Ee.RequestData;t.id?n.id=t.id:n.id=Po.w3cTraceId(),n.name=t.name,n.url=t.url,n.source=t.source,n.duration=Po.msToTimeSpan(t.duration),n.responseCode=t.resultCode?t.resultCode.toString():"0",n.success=t.success,n.properties=t.properties,n.measurements=t.measurements;var r=new Ee.Data;return r.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.Request),r.baseData=n,r},e.createMetricData=function(t){var n=new Ee.MetricData;n.metrics=[];var r=new Ee.DataPoint;r.count=isNaN(t.count)?1:t.count,r.kind=Ee.DataPointType.Aggregation,r.max=isNaN(t.max)?t.value:t.max,r.min=isNaN(t.min)?t.value:t.min,r.name=t.name,r.stdDev=isNaN(t.stdDev)?0:t.stdDev,r.value=t.value,r.ns=t.namespace,n.metrics.push(r),n.properties=t.properties;var i=new Ee.Data;return i.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.Metric),i.baseData=n,i},e.createAvailabilityData=function(t){var n=new Ee.AvailabilityData;t.id?n.id=t.id:n.id=Po.w3cTraceId(),n.name=t.name,n.duration=Po.msToTimeSpan(t.duration),n.success=t.success,n.runLocation=t.runLocation,n.message=t.message,n.measurements=t.measurements,n.properties=t.properties;var r=new Ee.Data;return r.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.Availability),r.baseData=n,r},e.createPageViewData=function(t){var n=new Ee.PageViewData;n.name=t.name,n.duration=Po.msToTimeSpan(t.duration),n.url=t.url,n.measurements=t.measurements,n.properties=t.properties;var r=new Ee.Data;return r.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.PageView),r.baseData=n,r},e.getTags=function(t,n){var r=Xte.CorrelationContextManager.getCurrentContext(),i={};if(t&&t.tags)for(var o in t.tags)i[o]=t.tags[o];if(n)for(var o in n)i[o]=n[o];return r&&(i[t.keys.operationId]=i[t.keys.operationId]||r.operation.id,i[t.keys.operationName]=i[t.keys.operationName]||r.operation.name,i[t.keys.operationParentId]=i[t.keys.operationParentId]||r.operation.parentId),i},e.parseStack=function(t){var n=void 0;if(typeof t=="string"){var r=t.split(`
`);n=[];for(var i=0,o=0,s=0;s<=r.length;s++){var a=r[s];if(Qte.regex.test(a)){var u=new Qte(r[s],i++);o+=u.sizeInBytes,n.push(u)}}var c=32*1024;if(o>c)for(var l=0,d=n.length-1,p=0,f=l,m=d;l<d;){var h=n[l].sizeInBytes,g=n[d].sizeInBytes;if(p+=h+g,p>c){var v=m-f+1;n.splice(f,v);break}f=l,m=d,l++,d--}}return n},e}(),Qte=function(){function e(t,n){this.sizeInBytes=0,this.level=n,this.method="<no_method>",this.assembly=Po.trim(t);var r=t.match(e.regex);r&&r.length>=5&&(this.method=Po.trim(r[2])||this.method,this.fileName=Po.trim(r[4])||"<no_filename>",this.line=parseInt(r[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,e.baseSize=58,e}();Jte.exports=xAe});var Zte=w(Xu=>{"use strict";var wAe=Xu&&Xu.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},EAe=Xu&&Xu.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.FileAccessControl=void 0;var _Ae=require("fs"),bAe=require("os"),jh=require("child_process"),CAe=Mt(),SAe=function(){function e(){}return e.checkFileProtection=function(){if(!e.OS_PROVIDES_FILE_PROTECTION&&!e.OS_FILE_PROTECTION_CHECKED)if(e.OS_FILE_PROTECTION_CHECKED=!0,e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=_Ae.existsSync(e.ICACLS_PATH)}catch{}e.OS_PROVIDES_FILE_PROTECTION||CAe.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0},e.applyACLRules=function(t){return wAe(this,void 0,void 0,function(){var n,r;return EAe(this,function(i){switch(i.label){case 0:if(!e.USE_ICACLS)return[3,7];if(e.ACLED_DIRECTORIES[t]!==void 0)return[3,6];e.ACLED_DIRECTORIES[t]=!1,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,this._getACLIdentity()];case 2:return n=i.sent(),[4,this._runICACLS(this._getACLArguments(t,n))];case 3:return i.sent(),e.ACLED_DIRECTORIES[t]=!0,[3,5];case 4:throw r=i.sent(),e.ACLED_DIRECTORIES[t]=!1,r;case 5:return[3,7];case 6:if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)");i.label=7;case 7:return[2]}})})},e.applyACLRulesSync=function(t){if(e.USE_ICACLS){if(e.ACLED_DIRECTORIES[t]===void 0){this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),e.ACLED_DIRECTORIES[t]=!0;return}else if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e._runICACLS=function(t){return new Promise(function(n,r){var i=jh.spawn(e.ICACLS_PATH,t,{windowsHide:!0});i.on("error",function(o){return r(o)}),i.on("close",function(o,s){o===0?n():r(new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+o+")"))})})},e._runICACLSSync=function(t){if(jh.spawnSync){var n=jh.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(n.error)throw n.error;if(n.status!==0)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+n.status+")")}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")},e._getACLIdentity=function(){return new Promise(function(t,n){e.ACL_IDENTITY&&t(e.ACL_IDENTITY);var r=jh.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),i="";r.stdout.on("data",function(o){return i+=o}),r.on("error",function(o){return n(o)}),r.on("close",function(o,s){e.ACL_IDENTITY=i&&i.trim(),o===0?t(e.ACL_IDENTITY):n(new Error("Getting ACL identity did not succeed (PS returned code "+o+")"))})})},e._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(jh.spawnSync){var t=jh.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(t.status!==0)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e._getACLArguments=function(t,n){return[t,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",n+":(OI)(CI)F","/inheritance:r"]},e.TAG="FileAccessControl",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.OS_FILE_PROTECTION_CHECKED=!1,e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS=bAe.type()==="Windows_NT",e}();Xu.FileAccessControl=SAe});var xU=w((Bx,tne)=>{"use strict";var OI=Bx&&Bx.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},NI=Bx&&Bx.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},yU=require("fs"),TAe=require("os"),rp=require("path"),IAe=require("zlib"),Qu=tn(),PAe=yh(),dc=WO(),si=Yn(),RAe=require("url"),ene=Mt(),Hx=Zte(),AAe=439,DAe=402,kAe=[200,206,402,408,429,439,500],OAe=function(){function e(t,n,r,i,o,s,a){this._redirectedHost=null,this._config=t,this._onSuccess=r,this._onError=i,this._statsbeat=o,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._getAuthorizationHandler=n,this._fileCleanupTimer=null,this._tempDir=rp.join(TAe.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey),this._isStatsbeatSender=s||!1,this._shutdownStatsbeat=a,this._failedToIngestCounter=0,this._statsbeatHasReachedIngestionAtLeastOnce=!1}return e.prototype.setDiskRetryMode=function(t,n,r){var i=this;t&&Hx.FileAccessControl.checkFileProtection(),this._enableDiskRetryMode=Hx.FileAccessControl.OS_PROVIDES_FILE_PROTECTION&&t,typeof n=="number"&&n>=0&&(this._resendInterval=Math.floor(n)),typeof r=="number"&&r>=0&&(this._maxBytesOnDisk=Math.floor(r)),t&&!Hx.FileAccessControl.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,this._logWarn("Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?(this._statsbeat&&this._statsbeat.addFeature(Qu.StatsbeatFeature.DISK_RETRY),this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(function(){i._fileCleanupTask()},e.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref())):(this._statsbeat&&this._statsbeat.removeFeature(Qu.StatsbeatFeature.DISK_RETRY),this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer))},e.prototype.send=function(t,n){return OI(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,d=this;return NI(this,function(p){switch(p.label){case 0:if(!t)return[3,5];if(r=this._redirectedHost||this._config.endpointUrl,i=new RAe.URL(r).hostname,o={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},s=this._getAuthorizationHandler?this._getAuthorizationHandler(this._config):null,!s)return[3,4];this._statsbeat&&this._statsbeat.addFeature(Qu.StatsbeatFeature.AAD_HANDLING),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,s.addAuthorizationHeader(o)];case 2:return p.sent(),[3,4];case 3:return a=p.sent(),u="Failed to get AAD bearer token for the Application.",this._enableDiskRetryMode&&(u+="This batch of telemetry items will be retried. ",this._storeToDisk(t)),u+="Error:"+a.toString(),this._logWarn(u),typeof n=="function"&&n(u),[2];case 4:c="",t.forEach(function(f){var m=si.stringify(f);typeof m=="string"&&(c+=m+`
`)}),c.length>0&&(c=c.substring(0,c.length-1)),l=Buffer.from?Buffer.from(c):new Buffer(c),IAe.gzip(l,function(f,m){var h=m;f?(d._logWarn(si.dumpObj(f)),h=l,o.headers["Content-Length"]=l.length.toString()):(o.headers["Content-Encoding"]="gzip",o.headers["Content-Length"]=m.length.toString()),d._logInfo(si.dumpObj(o)),o[PAe.disableCollectionRequestOption]=!0;var g=+new Date,v=function(x){x.setEncoding("utf-8");var E="";x.on("data",function(_){E+=_}),x.on("end",function(){var _=+new Date,C=_-g;if(d._numConsecutiveFailures=0,d._isStatsbeatSender&&!d._statsbeatHasReachedIngestionAtLeastOnce&&(kAe.includes(x.statusCode)?d._statsbeatHasReachedIngestionAtLeastOnce=!0:d._statsbeatFailedToIngest()),d._statsbeat&&(x.statusCode==DAe||x.statusCode==AAe?d._statsbeat.countThrottle(Qu.StatsbeatNetworkCategory.Breeze,i,x.statusCode):d._statsbeat.countRequest(Qu.StatsbeatNetworkCategory.Breeze,i,C,x.statusCode===200,x.statusCode)),d._enableDiskRetryMode){if(x.statusCode===200)d._resendTimer||(d._resendTimer=setTimeout(function(){d._resendTimer=null,d._sendFirstFileOnDisk()},d._resendInterval),d._resendTimer.unref());else if(d._isRetriable(x.statusCode))try{d._statsbeat&&d._statsbeat.countRetry(Qu.StatsbeatNetworkCategory.Breeze,i,x.statusCode);var P=JSON.parse(E),T=[];P.errors&&(P.errors.forEach(function(D){(D.statusCode==429||D.statusCode==500||D.statusCode==503)&&T.push(t[D.index])}),T.length>0&&d._storeToDisk(T))}catch{d._storeToDisk(t)}}if(x.statusCode===307||x.statusCode===308)if(d._numConsecutiveRedirects++,d._numConsecutiveRedirects<10){var b=x.headers.location?x.headers.location.toString():null;b&&(d._redirectedHost=b,d.send(t,n))}else{var R={name:"Circular Redirect",message:"Error sending telemetry because of circular redirects."};d._statsbeat&&d._statsbeat.countException(Qu.StatsbeatNetworkCategory.Breeze,i,R),typeof n=="function"&&n("Error sending telemetry because of circular redirects.")}else d._numConsecutiveRedirects=0,typeof n=="function"&&n(E),d._logInfo(E),typeof d._onSuccess=="function"&&d._onSuccess(E)})},y=si.makeRequest(d._config,r,o,v);y.setTimeout(e.HTTP_TIMEOUT,function(){d._requestTimedOut=!0,y.abort()}),y.on("error",function(x){if(d._isStatsbeatSender&&!d._statsbeatHasReachedIngestionAtLeastOnce&&d._statsbeatFailedToIngest(),d._numConsecutiveFailures++,d._statsbeat&&d._statsbeat.countException(Qu.StatsbeatNetworkCategory.Breeze,i,x),!d._enableDiskRetryMode||d._numConsecutiveFailures>0&&d._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN===0){var E="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";d._enableDiskRetryMode&&(E="Ingestion endpoint could not be reached "+d._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),d._logWarn(E,si.dumpObj(x))}else{var E="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";d._logInfo(E,si.dumpObj(x))}d._onErrorHelper(x),typeof n=="function"&&(x?(d._requestTimedOut&&(x.name="telemetry timeout",x.message="telemetry request timed out"),n(si.dumpObj(x))):n("Error sending telemetry")),d._enableDiskRetryMode&&d._storeToDisk(t)}),y.write(h),y.end()}),p.label=5;case 5:return[2]}})})},e.prototype.saveOnCrash=function(t){this._enableDiskRetryMode&&this._storeToDiskSync(si.stringify(t))},e.prototype._isRetriable=function(t){return t===206||t===401||t===403||t===408||t===429||t===500||t===502||t===503||t===504},e.prototype._logInfo=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._isStatsbeatSender||ene.info(e.TAG,t,n)},e.prototype._logWarn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._isStatsbeatSender||ene.warn(e.TAG,t,n)},e.prototype._statsbeatFailedToIngest=function(){this._shutdownStatsbeat&&(this._failedToIngestCounter++,this._failedToIngestCounter>=3&&this._shutdownStatsbeat())},e.prototype._storeToDisk=function(t){return OI(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return NI(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),this._logInfo("Checking existence of data storage directory: "+this._tempDir),[4,dc.confirmDirExists(this._tempDir)];case 1:return c.sent(),[3,3];case 2:return n=c.sent(),this._logWarn("Failed to create folder to put telemetry: "+si.dumpObj(n)),this._onErrorHelper(n),[2];case 3:return c.trys.push([3,5,,6]),[4,Hx.FileAccessControl.applyACLRules(this._tempDir)];case 4:return c.sent(),[3,6];case 5:return r=c.sent(),this._logWarn("Failed to apply file access control to folder: "+si.dumpObj(r)),this._onErrorHelper(r),[2];case 6:return c.trys.push([6,8,,9]),[4,dc.getShallowDirectorySize(this._tempDir)];case 7:return i=c.sent(),i>this._maxBytesOnDisk?(this._logWarn("Not saving data due to max size limit being met. Directory size in bytes is: "+i),[2]):[3,9];case 8:return o=c.sent(),this._logWarn("Failed to read directory for retriable telemetry: "+si.dumpObj(o)),this._onErrorHelper(o),[2];case 9:return c.trys.push([9,11,,12]),s=new Date().getTime()+".ai.json",a=rp.join(this._tempDir,s),this._logInfo("saving data to disk at: "+a),[4,dc.writeFileAsync(a,si.stringify(t),{mode:384})];case 10:return c.sent(),[3,12];case 11:return u=c.sent(),this._logWarn("Failed to persist telemetry to disk: "+si.dumpObj(u)),this._onErrorHelper(u),[2];case 12:return[2]}})})},e.prototype._storeToDiskSync=function(t){try{this._logInfo("Checking existence of data storage directory: "+this._tempDir),yU.existsSync(this._tempDir)||yU.mkdirSync(this._tempDir),Hx.FileAccessControl.applyACLRulesSync(this._tempDir);var n=dc.getShallowDirectorySizeSync(this._tempDir);if(n>this._maxBytesOnDisk){this._logInfo("Not saving data due to max size limit being met. Directory size in bytes is: "+n);return}var r=new Date().getTime()+".ai.json",i=rp.join(this._tempDir,r);this._logInfo("saving data before crash to disk at: "+i),yU.writeFileSync(i,t,{mode:384})}catch(o){this._logWarn("Error while saving data to disk: "+si.dumpObj(o)),this._onErrorHelper(o)}},e.prototype._sendFirstFileOnDisk=function(){return OI(this,void 0,void 0,function(){var t,n,r,i,o,s;return NI(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),[4,dc.readdirAsync(this._tempDir)];case 1:return t=a.sent(),t=t.filter(function(u){return rp.basename(u).indexOf(".ai.json")>-1}),t.length>0?(n=t[0],r=rp.join(this._tempDir,n),[4,dc.readFileAsync(r)]):[3,5];case 2:return i=a.sent(),[4,dc.unlinkAsync(r)];case 3:return a.sent(),o=JSON.parse(i.toString()),[4,this.send(o)];case 4:a.sent(),a.label=5;case 5:return[3,7];case 6:return s=a.sent(),this._onErrorHelper(s),[3,7];case 7:return[2]}})})},e.prototype._onErrorHelper=function(t){typeof this._onError=="function"&&this._onError(t)},e.prototype._fileCleanupTask=function(){return OI(this,void 0,void 0,function(){var t,n,r,i,o,s,a=this;return NI(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),[4,dc.readdirAsync(this._tempDir)];case 1:if(t=u.sent(),t=t.filter(function(c){return rp.basename(c).indexOf(".ai.json")>-1}),!(t.length>0))return[3,5];n=0,u.label=2;case 2:return n<t.length?(r=new Date(parseInt(t[n].split(".ai.json")[0])),i=new Date(+new Date-e.FILE_RETEMPTION_PERIOD)>r,i?(o=rp.join(this._tempDir,t[n]),[4,dc.unlinkAsync(o).catch(function(c){a._onErrorHelper(c)})]):[3,4]):[3,5];case 3:u.sent(),u.label=4;case 4:return n++,[3,2];case 5:return[3,7];case 6:return s=u.sent(),s.code!="ENOENT"&&this._onErrorHelper(s),[3,7];case 7:return[2]}})})},e.TAG="Sender",e.WAIT_BETWEEN_RESEND=60*1e3,e.MAX_BYTES_ON_DISK=50*1024*1024,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.CLEANUP_TIMEOUT=60*60*1e3,e.FILE_RETEMPTION_PERIOD=7*24*60*60*1e3,e.TEMPDIR_PREFIX="appInsights-node",e.HTTP_TIMEOUT=2e4,e}();tne.exports=OAe});var nne=w(LI=>{"use strict";Object.defineProperty(LI,"__esModule",{value:!0});LI.NetworkStatsbeat=void 0;var NAe=function(){function e(t,n){this.endpoint=t,this.host=n,this.totalRequestCount=0,this.totalSuccesfulRequestCount=0,this.totalFailedRequestCount=[],this.retryCount=[],this.exceptionCount=[],this.throttleCount=[],this.intervalRequestExecutionTime=0,this.lastIntervalRequestExecutionTime=0,this.lastTime=+new Date,this.lastRequestCount=0}return e}();LI.NetworkStatsbeat=NAe});var ane=w((ip,sne)=>{"use strict";var sa=ip&&ip.__assign||function(){return sa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},sa.apply(this,arguments)},wU=ip&&ip.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},EU=ip&&ip.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},LAe=require("os"),FAe=vU(),rne=Mt(),MAe=xU(),qt=tn(),UAe=lr(),qAe=M1(),$Ae=Y1(),ine=xh(),jAe=nne(),one=Yn(),HAe="node",BAe=function(){function e(t,n){this._attach=qt.StatsbeatAttach.sdk,this._feature=qt.StatsbeatFeature.NONE,this._instrumentation=qt.StatsbeatInstrumentation.NONE,this._isInitialized=!1,this._statbeatMetrics=[],this._networkStatsbeatCollection=[],this._config=t,this._context=n||new ine;var r=this._getConnectionString(t);this._statsbeatConfig=new $Ae(r),this._statsbeatConfig.samplingPercentage=100,this._sender=new MAe(this._statsbeatConfig,null,null,null,null,!0,this._shutdownStatsbeat.bind(this))}return e.prototype.enable=function(t){var n=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._getCustomProperties(),this._isInitialized=!0),t?(this._handle||(this._handle=setInterval(function(){n.trackShortIntervalStatsbeats()},e.STATS_COLLECTION_SHORT_INTERVAL),this._handle.unref()),this._longHandle||(this.trackLongIntervalStatsbeats(),this._longHandle=setInterval(function(){n.trackLongIntervalStatsbeats()},e.STATS_COLLECTION_LONG_INTERVAL),this._longHandle.unref())):(this._handle&&(clearInterval(this._handle),this._handle=null),this._longHandle&&(clearInterval(this._longHandle),this._longHandle=null))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isEnabled=function(){return this._isEnabled},e.prototype.setCodelessAttach=function(){this._attach=qt.StatsbeatAttach.codeless},e.prototype.addFeature=function(t){this._feature|=t},e.prototype.removeFeature=function(t){this._feature&=~t},e.prototype.addInstrumentation=function(t){this._instrumentation|=t},e.prototype.removeInstrumentation=function(t){this._instrumentation&=~t},e.prototype.countRequest=function(t,n,r,i,o){if(!!this.isEnabled()){var s=this._getNetworkStatsbeatCounter(t,n);if(s.totalRequestCount++,s.intervalRequestExecutionTime+=r,i===!1){if(!o)return;var a=s.totalFailedRequestCount.find(function(u){return o===u.statusCode});a?a.count++:s.totalFailedRequestCount.push({statusCode:o,count:1})}else s.totalSuccesfulRequestCount++}},e.prototype.countException=function(t,n,r){if(!!this.isEnabled()){var i=this._getNetworkStatsbeatCounter(t,n),o=i.exceptionCount.find(function(s){return r.name===s.exceptionType});o?o.count++:i.exceptionCount.push({exceptionType:r.name,count:1})}},e.prototype.countThrottle=function(t,n,r){if(!!this.isEnabled()){var i=this._getNetworkStatsbeatCounter(t,n),o=i.throttleCount.find(function(s){return r===s.statusCode});o?o.count++:i.throttleCount.push({statusCode:r,count:1})}},e.prototype.countRetry=function(t,n,r){if(!!this.isEnabled()){var i=this._getNetworkStatsbeatCounter(t,n),o=i.retryCount.find(function(s){return r===s.statusCode});o?o.count++:i.retryCount.push({statusCode:r,count:1})}},e.prototype.trackShortIntervalStatsbeats=function(){return wU(this,void 0,void 0,function(){var t,n;return EU(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this._getResourceProvider()];case 1:return r.sent(),t={os:this._os,rp:this._resourceProvider,cikey:this._cikey,runtimeVersion:this._runtimeVersion,language:this._language,version:this._sdkVersion,attach:this._attach},this._trackRequestDuration(t),this._trackRequestsCount(t),[4,this._sendStatsbeats()];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),rne.info(e.TAG,"Failed to send Statsbeat metrics: "+one.dumpObj(n)),[3,4];case 4:return[2]}})})},e.prototype.trackLongIntervalStatsbeats=function(){return wU(this,void 0,void 0,function(){var t,n,r,i,o;return EU(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,this._getResourceProvider()];case 1:return s.sent(),t={os:this._os,rp:this._resourceProvider,cikey:this._cikey,runtimeVersion:this._runtimeVersion,language:this._language,version:this._sdkVersion,attach:this._attach},n=Object.assign({rpId:this._resourceIdentifier},t),this._statbeatMetrics.push({name:qt.StatsbeatCounter.ATTACH,value:1,properties:n}),this._instrumentation!=qt.StatsbeatInstrumentation.NONE&&(r=Object.assign({feature:this._instrumentation,type:qt.StatsbeatFeatureType.Instrumentation},t),this._statbeatMetrics.push({name:qt.StatsbeatCounter.FEATURE,value:1,properties:r})),this._feature!=qt.StatsbeatFeature.NONE&&(i=Object.assign({feature:this._feature,type:qt.StatsbeatFeatureType.Feature},t),this._statbeatMetrics.push({name:qt.StatsbeatCounter.FEATURE,value:1,properties:i})),[4,this._sendStatsbeats()];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),rne.info(e.TAG,"Failed to send Statsbeat metrics: "+one.dumpObj(o)),[3,4];case 4:return[2]}})})},e.prototype._getNetworkStatsbeatCounter=function(t,n){for(var r=this._getShortHost(n),i=0;i<this._networkStatsbeatCollection.length;i++)if(t===this._networkStatsbeatCollection[i].endpoint&&r===this._networkStatsbeatCollection[i].host)return this._networkStatsbeatCollection[i];var o=new jAe.NetworkStatsbeat(t,r);return this._networkStatsbeatCollection.push(o),o},e.prototype._trackRequestDuration=function(t){for(var n=0;n<this._networkStatsbeatCollection.length;n++){var r=this._networkStatsbeatCollection[n];r.time=+new Date;var i=r.totalRequestCount-r.lastRequestCount||0,o=r.intervalRequestExecutionTime-r.lastIntervalRequestExecutionTime,s=o>0&&o/i||0;if(r.lastIntervalRequestExecutionTime=r.intervalRequestExecutionTime,i>0){var a=Object.assign({endpoint:this._networkStatsbeatCollection[n].endpoint,host:this._networkStatsbeatCollection[n].host},t);this._statbeatMetrics.push({name:qt.StatsbeatCounter.REQUEST_DURATION,value:s,properties:a})}r.lastRequestCount=r.totalRequestCount,r.lastTime=r.time}},e.prototype._getShortHost=function(t){var n=t;try{var r=new RegExp(/^https?:\/\/(?:www\.)?([^\/.-]+)/),i=r.exec(t);i!=null&&i.length>1&&(n=i[1]),n=n.replace(".in.applicationinsights.azure.com","")}catch{}return n},e.prototype._trackRequestsCount=function(t){for(var n=this,r=function(a){o=i._networkStatsbeatCollection[a];var u=Object.assign({endpoint:o.endpoint,host:o.host},t);o.totalSuccesfulRequestCount>0&&(i._statbeatMetrics.push({name:qt.StatsbeatCounter.REQUEST_SUCCESS,value:o.totalSuccesfulRequestCount,properties:u}),o.totalSuccesfulRequestCount=0),o.totalFailedRequestCount.length>0&&(o.totalFailedRequestCount.forEach(function(c){u=Object.assign(sa(sa({},u),{statusCode:c.statusCode})),n._statbeatMetrics.push({name:qt.StatsbeatCounter.REQUEST_FAILURE,value:c.count,properties:u})}),o.totalFailedRequestCount=[]),o.retryCount.length>0&&(o.retryCount.forEach(function(c){u=Object.assign(sa(sa({},u),{statusCode:c.statusCode})),n._statbeatMetrics.push({name:qt.StatsbeatCounter.RETRY_COUNT,value:c.count,properties:u})}),o.retryCount=[]),o.throttleCount.length>0&&(o.throttleCount.forEach(function(c){u=Object.assign(sa(sa({},u),{statusCode:c.statusCode})),n._statbeatMetrics.push({name:qt.StatsbeatCounter.THROTTLE_COUNT,value:c.count,properties:u})}),o.throttleCount=[]),o.exceptionCount.length>0&&(o.exceptionCount.forEach(function(c){u=Object.assign(sa(sa({},u),{exceptionType:c.exceptionType})),n._statbeatMetrics.push({name:qt.StatsbeatCounter.EXCEPTION_COUNT,value:c.count,properties:u})}),o.exceptionCount=[])},i=this,o,s=0;s<this._networkStatsbeatCollection.length;s++)r(s)},e.prototype._sendStatsbeats=function(){return wU(this,void 0,void 0,function(){var t,n,r,i;return EU(this,function(o){switch(o.label){case 0:for(t=[],n=0;n<this._statbeatMetrics.length;n++)r={name:this._statbeatMetrics[n].name,value:this._statbeatMetrics[n].value,properties:this._statbeatMetrics[n].properties},i=FAe.createEnvelope(r,UAe.TelemetryType.Metric,null,this._context,this._statsbeatConfig),i.name=qt.StatsbeatTelemetryName,t.push(i);return this._statbeatMetrics=[],[4,this._sender.send(t)];case 1:return o.sent(),[2]}})})},e.prototype._getCustomProperties=function(){this._language=HAe,this._cikey=this._config.instrumentationKey,this._sdkVersion=ine.sdkVersion,this._os=LAe.type(),this._runtimeVersion=process.version},e.prototype._getResourceProvider=function(){var t=this;return new Promise(function(n,r){var i=!1;t._resourceProvider=qt.StatsbeatResourceProvider.unknown,t._resourceIdentifier=qt.StatsbeatResourceProvider.unknown,process.env.WEBSITE_SITE_NAME?(t._resourceProvider=qt.StatsbeatResourceProvider.appsvc,t._resourceIdentifier=process.env.WEBSITE_SITE_NAME,process.env.WEBSITE_HOME_STAMPNAME&&(t._resourceIdentifier+="/"+process.env.WEBSITE_HOME_STAMPNAME)):process.env.FUNCTIONS_WORKER_RUNTIME?(t._resourceProvider=qt.StatsbeatResourceProvider.functions,process.env.WEBSITE_HOSTNAME&&(t._resourceIdentifier=process.env.WEBSITE_HOSTNAME)):t._config&&(t._isVM===void 0||t._isVM==!0?(i=!0,qAe.AzureVirtualMachine.getAzureComputeMetadata(t._config,function(o){t._isVM=o.isVM,t._isVM&&(t._resourceProvider=qt.StatsbeatResourceProvider.vm,t._resourceIdentifier=o.id+"/"+o.subscriptionId,o.osType&&(t._os=o.osType)),n()})):t._resourceProvider=qt.StatsbeatResourceProvider.unknown),i||n()})},e.prototype._shutdownStatsbeat=function(){this.enable(!1)},e.prototype._getConnectionString=function(t){for(var n=t.endpointUrl,r=["westeurope","northeurope","francecentral","francesouth","germanywestcentral","norwayeast","norwaywest","swedencentral","switzerlandnorth","switzerlandwest","uksouth","ukwest"],i=0;i<r.length;i++)if(n.indexOf(r[i])>-1)return e.EU_CONNECTION_STRING;return e.NON_EU_CONNECTION_STRING},e.NON_EU_CONNECTION_STRING="InstrumentationKey=c4a29126-a7cb-47e5-b348-11414998b11e;IngestionEndpoint=https://westus-0.in.applicationinsights.azure.com",e.EU_CONNECTION_STRING="InstrumentationKey=7dc56bab-3c0c-4e9f-9ebb-d1acadee8d0f;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com",e.STATS_COLLECTION_SHORT_INTERVAL=9e5,e.STATS_COLLECTION_LONG_INTERVAL=864e5,e.TAG="Statsbeat",e}();sne.exports=BAe});var lne=w((Btt,une)=>{"use strict";var VAe=require("url"),WAe=Y1(),GAe=$te(),zAe=xh(),pc=lr(),YAe=Hte(),FI=Kte(),cne=Fu(),KAe=ane(),XAe=xU(),_U=Yn(),MI=Mt(),QAe=vU(),JAe=function(){function e(t){this._telemetryProcessors=[],this._enableAzureProperties=!1;var n=new WAe(t);if(this.config=n,!this.config.instrumentationKey||this.config.instrumentationKey=="")throw new Error("Instrumentation key not found, please provide a connection string before starting Application Insights SDK.");this.context=new zAe,this.commonProperties={},this.authorizationHandler=null,this.config.disableStatsbeat||(this._statsbeat=new KAe(this.config,this.context),this._statsbeat.enable(!0));var r=new XAe(this.config,this.getAuthorizationHandler,null,null,this._statsbeat);this.channel=new YAe(function(){return n.disableAppInsights},function(){return n.maxBatchSize},function(){return n.maxBatchIntervalMs},r)}return e.prototype.trackAvailability=function(t){this.track(t,pc.TelemetryType.Availability)},e.prototype.trackPageView=function(t){this.track(t,pc.TelemetryType.PageView)},e.prototype.trackTrace=function(t){this.track(t,pc.TelemetryType.Trace)},e.prototype.trackMetric=function(t){this.track(t,pc.TelemetryType.Metric)},e.prototype.trackException=function(t){t&&t.exception&&!_U.isError(t.exception)&&(t.exception=new Error(t.exception.toString())),this.track(t,pc.TelemetryType.Exception)},e.prototype.trackEvent=function(t){this.track(t,pc.TelemetryType.Event)},e.prototype.trackRequest=function(t){this.track(t,pc.TelemetryType.Request)},e.prototype.trackDependency=function(t){if(t&&!t.target&&t.data)try{t.target=new VAe.URL(t.data).host}catch(n){t.target=null,MI.warn(e.TAG,"The URL object is failed to create.",n)}this.track(t,pc.TelemetryType.Dependency)},e.prototype.flush=function(t){this.channel.triggerSend(t?!!t.isAppCrashing:!1,t?t.callback:void 0)},e.prototype.track=function(t,n){if(t&&pc.telemetryTypeToBaseType(n)){var r=QAe.createEnvelope(t,n,this.commonProperties,this.context,this.config);t.time&&(r.time=t.time.toISOString()),this._enableAzureProperties&&FI.azureRoleEnvironmentTelemetryProcessor(r,this.context);var i=this.runTelemetryProcessors(r,t.contextObjects);i=i&&FI.samplingTelemetryProcessor(r,{correlationContext:cne.CorrelationContextManager.getCurrentContext()}),FI.preAggregatedMetricsTelemetryProcessor(r,this.context),i&&(FI.performanceMetricsTelemetryProcessor(r,this.quickPulseClient),this.channel.send(r))}else MI.warn(e.TAG,"track() requires telemetry object and telemetryType to be specified.")},e.prototype.setAutoPopulateAzureProperties=function(t){this._enableAzureProperties=t},e.prototype.getAuthorizationHandler=function(t){return t&&t.aadTokenCredential?(this.authorizationHandler||(MI.info(e.TAG,"Adding authorization handler"),this.authorizationHandler=new GAe(t.aadTokenCredential)),this.authorizationHandler):null},e.prototype.addTelemetryProcessor=function(t){this._telemetryProcessors.push(t)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(t,n){var r=!0,i=this._telemetryProcessors.length;if(i===0)return r;n=n||{},n.correlationContext=cne.CorrelationContextManager.getCurrentContext();for(var o=0;o<i;++o)try{var s=this._telemetryProcessors[o];if(s&&s.apply(null,[t,n])===!1){r=!1;break}}catch(a){r=!0,MI.warn(e.TAG,"One of telemetry processors failed, telemetry item will be sent.",a,t)}return r&&(t&&t.tags&&(t.tags=_U.validateStringMap(t.tags)),t&&t.data&&t.data.baseData&&t.data.baseData.properties&&(t.data.baseData.properties=_U.validateStringMap(t.data.baseData.properties))),r},e.prototype.getStatsbeat=function(){return this._statsbeat},e.TAG="TelemetryClient",e}();une.exports=JAe});var fne=w((bU,pne)=>{"use strict";var ZAe=bU&&bU.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),eDe=lne(),dne=$1(),tDe=yh(),UI=Mt(),nDe=function(e){ZAe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.trackNodeHttpRequestSync=function(n){n&&n.request&&n.response&&n.duration?dne.trackRequestSync(this,n):UI.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(n){(n.duration||n.error)&&UI.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),n&&n.request&&n.response?dne.trackRequest(this,n):UI.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(n){n&&n.request?tDe.trackRequest(this,n):UI.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(eDe);pne.exports=nDe});var hne=w(mne=>{"use strict";Object.defineProperty(mne,"__esModule",{value:!0})});var Ene=w(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.dispose=J.Configuration=J.wrapWithCorrelationContext=J.startOperation=J.getCorrelationContext=J.start=J.setup=J.liveMetricsClient=J.defaultClient=J.DistributedTracingModes=void 0;var IU=Fu(),rDe=aJ(),iDe=uJ(),vne=AT(),oDe=S1(),sDe=kJ(),aDe=VJ(),cDe=yh(),uDe=$1(),yne=Ud(),Wx=Mt(),lDe=uZ(),PU=lZ(),dDe=pZ();J.TelemetryClient=fne();J.Contracts=lr();J.azureFunctionsTypes=hne();var xne;(function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C"})(xne=J.DistributedTracingModes||(J.DistributedTracingModes={}));var ai=pDe(),qI=ai.isConsole(),$I=ai.isConsoleLog(),jI=ai.isExceptions(),HI=ai.isPerformance(),BI=ai.isPreAggregatedMetrics(),VI=ai.isHeartBeat(),WI=ai.isRequests(),GI=ai.isDependencies(),CU=ai.isDiskRetry(),Gx=ai.isCorrelating(),zI,YI=ai.isSendingLiveMetrics(),RU=ai.isNativePerformance(),AU,op=ai.isSnippetInjection(),KI=ai.isAzureFunctions();function pDe(){return{isConsole:function(){return!0},isConsoleLog:function(){return!1},isExceptions:function(){return!0},isPerformance:function(){return!0},isPreAggregatedMetrics:function(){return!0},isHeartBeat:function(){return!1},isRequests:function(){return!0},isDependencies:function(){return!0},isDiskRetry:function(){return!0},isCorrelating:function(){return!0},isSendingLiveMetrics:function(){return!1},isNativePerformance:function(){return!0},isSnippetInjection:function(){return!1},isAzureFunctions:function(){return!0}}}var SU=void 0,TU=void 0,Vx=void 0,zx,Yx,Kx,Xx,Qx,Hh,Bh,sp,Jx,Zx,Fi=!1,gne;function fDe(e){return J.defaultClient?Wx.info("The default client is already setup"):(J.defaultClient=new J.TelemetryClient(e),mDe(),zx=new rDe(J.defaultClient),Yx=new iDe(J.defaultClient),Kx=new vne(J.defaultClient),Xx=new oDe(J.defaultClient),Qx=new sDe(J.defaultClient),Hh=new aDe(J.defaultClient),sp=new uDe(J.defaultClient),Jx=new cDe(J.defaultClient),Bh||(Bh=new PU.AutoCollectNativePerformance(J.defaultClient)),Zx=new dDe.AzureFunctionsHook(J.defaultClient)),J.defaultClient&&J.defaultClient.channel&&J.defaultClient.channel.setUseDiskRetryCaching(CU,SU,TU),DU}J.setup=fDe;function wne(){return J.defaultClient?(Fi=!0,zx.enable(qI,$I),Yx.enable(jI),Kx.enable(HI),Xx.enable(BI),Qx.enable(VI),Bh.enable(RU,AU),sp.useAutoCorrelation(Gx,zI),sp.enable(WI),Jx.enable(GI),Hh.enable(op,Vx),J.liveMetricsClient&&YI&&J.liveMetricsClient.enable(YI),Zx.enable(KI)):Wx.warn("Start cannot be called before setup"),DU}J.start=wne;function mDe(){qI=J.defaultClient.config.enableAutoCollectExternalLoggers!==void 0?J.defaultClient.config.enableAutoCollectExternalLoggers:qI,$I=J.defaultClient.config.enableAutoCollectConsole!==void 0?J.defaultClient.config.enableAutoCollectConsole:$I,jI=J.defaultClient.config.enableAutoCollectExceptions!==void 0?J.defaultClient.config.enableAutoCollectExceptions:jI,HI=J.defaultClient.config.enableAutoCollectPerformance!==void 0?J.defaultClient.config.enableAutoCollectPerformance:HI,BI=J.defaultClient.config.enableAutoCollectPreAggregatedMetrics!==void 0?J.defaultClient.config.enableAutoCollectPreAggregatedMetrics:BI,VI=J.defaultClient.config.enableAutoCollectHeartbeat!==void 0?J.defaultClient.config.enableAutoCollectHeartbeat:VI,WI=J.defaultClient.config.enableAutoCollectRequests!==void 0?J.defaultClient.config.enableAutoCollectRequests:WI,GI=J.defaultClient.config.enableAutoDependencyCorrelation!==void 0?J.defaultClient.config.enableAutoDependencyCorrelation:GI,Gx=J.defaultClient.config.enableAutoDependencyCorrelation!==void 0?J.defaultClient.config.enableAutoDependencyCorrelation:Gx,zI=J.defaultClient.config.enableUseAsyncHooks!==void 0?J.defaultClient.config.enableUseAsyncHooks:zI,op=J.defaultClient.config.enableWebInstrumentation!==void 0?J.defaultClient.config.enableWebInstrumentation:op,op=J.defaultClient.config.enableAutoWebSnippetInjection===!0?!0:op,KI=J.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions!==void 0?J.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions:KI;var e=PU.AutoCollectNativePerformance.parseEnabled(J.defaultClient.config.enableAutoCollectExtendedMetrics,J.defaultClient.config);RU=e.isEnabled,AU=e.disabledMetrics}function hDe(){return Gx?IU.CorrelationContextManager.getCurrentContext():null}J.getCorrelationContext=hDe;function gDe(e,t){return IU.CorrelationContextManager.startOperation(e,t)}J.startOperation=gDe;function vDe(e,t){return IU.CorrelationContextManager.wrapCallback(e,t)}J.wrapWithCorrelationContext=vDe;var DU=function(){function e(){}return e.setDistributedTracingMode=function(t){return yne.w3cEnabled=t===xne.AI_AND_W3C,e},e.setAutoCollectConsole=function(t,n){return n===void 0&&(n=!1),qI=t,$I=n,Fi&&zx.enable(t,n),e},e.setAutoCollectExceptions=function(t){return jI=t,Fi&&Yx.enable(t),e},e.setAutoCollectPerformance=function(t,n){n===void 0&&(n=!0),HI=t;var r=PU.AutoCollectNativePerformance.parseEnabled(n,J.defaultClient.config);return RU=r.isEnabled,AU=r.disabledMetrics,Fi&&(Kx.enable(t),Bh.enable(r.isEnabled,r.disabledMetrics)),e},e.setAutoCollectPreAggregatedMetrics=function(t){return BI=t,Fi&&Xx.enable(t),e},e.setAutoCollectHeartbeat=function(t){return VI=t,Fi&&Qx.enable(t),e},e.enableAutoWebSnippetInjection=function(t,n){return op=t,Vx=n,Fi&&Hh.enable(t,Vx),e},e.enableWebInstrumentation=function(t,n){return op=t,Vx=n,Fi&&Hh.enable(t,Vx),e},e.setAutoCollectRequests=function(t){return WI=t,Fi&&sp.enable(t),e},e.setAutoCollectDependencies=function(t){return GI=t,Fi&&Jx.enable(t),e},e.setAutoDependencyCorrelation=function(t,n){return Gx=t,zI=n,Fi&&sp.useAutoCorrelation(t,n),e},e.setUseDiskRetryCaching=function(t,n,r){return CU=t,SU=n,TU=r,J.defaultClient&&J.defaultClient.channel&&J.defaultClient.channel.setUseDiskRetryCaching(CU,SU,TU),e},e.setInternalLogging=function(t,n){return t===void 0&&(t=!1),n===void 0&&(n=!0),Wx.enableDebug=t,Wx.disableWarnings=!n,e},e.setAutoCollectIncomingRequestAzureFunctions=function(t){return KI=t,Fi&&Zx.enable(t),e},e.setSendLiveMetrics=function(t){return t===void 0&&(t=!1),J.defaultClient?(!J.liveMetricsClient&&t?(J.liveMetricsClient=new lDe(J.defaultClient.config,J.defaultClient.context,J.defaultClient.getAuthorizationHandler),gne=new vne(J.liveMetricsClient,1e3,!0),J.liveMetricsClient.addCollector(gne),J.defaultClient.quickPulseClient=J.liveMetricsClient):J.liveMetricsClient&&J.liveMetricsClient.enable(t),YI=t,e):(Wx.warn("Live metrics client cannot be setup without the default client"),e)},e.start=wne,e}();J.Configuration=DU;function yDe(){yne.w3cEnabled=!0,J.defaultClient=null,Fi=!1,zx&&zx.dispose(),Yx&&Yx.dispose(),Kx&&Kx.dispose(),Xx&&Xx.dispose(),Qx&&Qx.dispose(),Hh&&Hh.dispose(),Bh&&Bh.dispose(),sp&&sp.dispose(),Jx&&Jx.dispose(),J.liveMetricsClient&&(J.liveMetricsClient.enable(!1),YI=!1,J.liveMetricsClient=void 0),Zx&&Zx.dispose()}J.dispose=yDe});var _ne=w(fc=>{"use strict";var xDe=fc&&fc.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),wDe=fc&&fc.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),XI=fc&&fc.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&xDe(t,e,n);return wDe(t,e),t};Object.defineProperty(fc,"__esModule",{value:!0});var kU=XI(require("os")),Ju=XI(require("vscode")),EDe=XI(require("https")),_De=Bz(),bDe=Vz(),ew=Wz(),CDe=N6(),SDe=async(e,t)=>{let n;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let i=await Promise.resolve().then(()=>XI(Ene()));i.defaultClient?(n=new i.TelemetryClient(e),n.channel.setUseDiskRetryCaching(!0)):(i.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),n=i.defaultClient),Ju&&Ju.env&&(n.context.tags[n.context.keys.userId]=Ju.env.machineId,n.context.tags[n.context.keys.sessionId]=Ju.env.sessionId,n.context.tags[n.context.keys.cloudRole]=Ju.env.appName,n.context.tags[n.context.keys.cloudRoleInstance]=Ju.env.appName)}catch(i){return Promise.reject(`Failed to initialize app insights!
`+i.message)}return t!=null&&t.length&&TDe(n,t),{logEvent:(i,o)=>{try{n==null||n.trackEvent({name:i,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements})}catch(s){throw new Error(`Failed to log event to app insights!
`+s.message)}},flush:async()=>{try{n==null||n.flush()}catch(i){throw new Error(`Failed to flush app insights!
`+i.message)}}}};function TDe(e,t){e.addTelemetryProcessor(n=>(Array.isArray(n.tags)?n.tags.forEach(r=>ew.TelemetryUtil.applyReplacements(r,t)):n.tags&&ew.TelemetryUtil.applyReplacements(n.tags,t),n.data.baseData&&ew.TelemetryUtil.applyReplacements(n.data.baseData,t),!0))}function IDe(){return{sendPOST:(t,n)=>{let r={method:"POST",headers:{...t.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(t.data)}};try{let i=EDe.request(t.urlString,r,o=>{o.on("data",function(s){n(o.statusCode??200,o.headers,s.toString())}),o.on("error",function(){n(0,{})})});i.write(t.data),i.end()}catch{n(0,{})}}}}var OU=class extends _De.BaseTelemetryReporter{constructor(t,n){let r=s=>SDe(s,n);ew.TelemetryUtil.shouldUseOneDataSystemSDK(t)&&(r=s=>(0,CDe.oneDataSystemClientFactory)(s,Ju,IDe()));let i={release:kU.release(),platform:kU.platform(),architecture:kU.arch()},o=new bDe.BaseTelemetrySender(t,r);if(t&&t.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,Ju,{additionalCommonProperties:ew.TelemetryUtil.getAdditionalCommonProperties(i)})}};fc.default=OU});var NU=w(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});var QI=require("vscode"),Vh=class{constructor(t,n,r){this.extensionName=t,this.extensionVersion=n,this.targetPopulation=r}static trimVersionSuffix(t){let n=/\-[a-zA-Z0-9]+$/;return t.split(n)[0]}getFilterValue(t){switch(t){case mc.ApplicationVersion:return Vh.trimVersionSuffix(QI.version);case mc.Build:return QI.env.appName;case mc.ClientId:return QI.env.machineId;case mc.ExtensionName:return this.extensionName;case mc.ExtensionVersion:return Vh.trimVersionSuffix(this.extensionVersion);case mc.Language:return QI.env.language;case mc.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let t=new Map,n=Object.values(mc);for(let r of n)t.set(r,this.getFilterValue(r));return t}};ap.VSCodeFilterProvider=Vh;var mc;(function(e){e.Market="X-MSEdge-Market",e.CorpNet="X-FD-Corpnet",e.ApplicationVersion="X-VSCode-AppVersion",e.Build="X-VSCode-Build",e.ClientId="X-MSEdge-ClientId",e.ExtensionName="X-VSCode-ExtensionName",e.ExtensionVersion="X-VSCode-ExtensionVersion",e.Language="X-VSCode-Language",e.TargetPopulation="X-VSCode-TargetPopulation"})(mc=ap.Filters||(ap.Filters={}));var PDe;(function(e){e.Team="team",e.Internal="internal",e.Insiders="insider",e.Public="public"})(PDe=ap.TargetPopulation||(ap.TargetPopulation={}))});var bne=w(FU=>{"use strict";Object.defineProperty(FU,"__esModule",{value:!0});var LU=class{constructor(t){this.telemetry=t,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let t=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,t}};FU.BaseFeatureProvider=LU});var Cne=w(UU=>{"use strict";Object.defineProperty(UU,"__esModule",{value:!0});var RDe=bne(),MU=class extends RDe.BaseFeatureProvider{constructor(t,n){super(t),this.telemetry=t,this.filterProviders=n,this.cachedTelemetryEvents=[]}getFilters(){let t=new Map;for(let n of this.filterProviders){let r=n.getFilters();for(let i of r.keys()){let o=r.get(i);t.set(i,o)}}return t}PostEventToTelemetry(t){if(this.cachedTelemetryEvents.includes(t))return;let n=JSON.stringify(t);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",n]])),this.cachedTelemetryEvents.push(t)}};UU.FilteredFeatureProvider=MU});var Sne=w(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});var ADe=Cne();Wh.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";var qU="ErrorType",$U=class extends ADe.FilteredFeatureProvider{constructor(t,n,r){super(n,r),this.httpClient=t,this.telemetry=n,this.filterProviders=r}async fetch(){let t=this.getFilters(),n={};for(let a of t.keys()){let u=t.get(a);n[a]=u}let r;try{r=await this.httpClient.get({headers:n})}catch(a){let u=a,c=new Map;u.response?c.set(qU,"ServerError"):u.request?c.set(qU,"NoResponse"):c.set(qU,"GenericError"),this.telemetry.postEvent(Wh.TASAPI_FETCHERROR_EVENTNAME,c)}if(!r)throw Error(Wh.TASAPI_FETCHERROR_EVENTNAME);t.keys.length>0&&this.PostEventToTelemetry(n);let i=r.data,o=i.Configs,s=[];for(let a of o)if(!!a.Parameters)for(let u of Object.keys(a.Parameters)){let c=u+(a.Parameters[u]?"":"cf");s.includes(c)||s.push(c)}return{features:s,assignmentContext:i.AssignmentContext,configs:o}}};Wh.TasApiFeatureProvider=$U});var jU=w((Qtt,Tne)=>{"use strict";Tne.exports=function(t,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(n,i)}}});var fr=w((Jtt,Ane)=>{"use strict";var DDe=jU(),Zu=Object.prototype.toString;function VU(e){return Array.isArray(e)}function HU(e){return typeof e>"u"}function kDe(e){return e!==null&&!HU(e)&&e.constructor!==null&&!HU(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Ine(e){return Zu.call(e)==="[object ArrayBuffer]"}function ODe(e){return Zu.call(e)==="[object FormData]"}function NDe(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ine(e.buffer),t}function LDe(e){return typeof e=="string"}function FDe(e){return typeof e=="number"}function Pne(e){return e!==null&&typeof e=="object"}function JI(e){if(Zu.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function MDe(e){return Zu.call(e)==="[object Date]"}function UDe(e){return Zu.call(e)==="[object File]"}function qDe(e){return Zu.call(e)==="[object Blob]"}function Rne(e){return Zu.call(e)==="[object Function]"}function $De(e){return Pne(e)&&Rne(e.pipe)}function jDe(e){return Zu.call(e)==="[object URLSearchParams]"}function HDe(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function BDe(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function WU(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),VU(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function BU(){var e={};function t(i,o){JI(e[o])&&JI(i)?e[o]=BU(e[o],i):JI(i)?e[o]=BU({},i):VU(i)?e[o]=i.slice():e[o]=i}for(var n=0,r=arguments.length;n<r;n++)WU(arguments[n],t);return e}function VDe(e,t,n){return WU(t,function(i,o){n&&typeof i=="function"?e[o]=DDe(i,n):e[o]=i}),e}function WDe(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}Ane.exports={isArray:VU,isArrayBuffer:Ine,isBuffer:kDe,isFormData:ODe,isArrayBufferView:NDe,isString:LDe,isNumber:FDe,isObject:Pne,isPlainObject:JI,isUndefined:HU,isDate:MDe,isFile:UDe,isBlob:qDe,isFunction:Rne,isStream:$De,isURLSearchParams:jDe,isStandardBrowserEnv:BDe,forEach:WU,merge:BU,extend:VDe,trim:HDe,stripBOM:WDe}});var ZI=w((Ztt,kne)=>{"use strict";var Gh=fr();function Dne(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}kne.exports=function(t,n,r){if(!n)return t;var i;if(r)i=r(n);else if(Gh.isURLSearchParams(n))i=n.toString();else{var o=[];Gh.forEach(n,function(u,c){u===null||typeof u>"u"||(Gh.isArray(u)?c=c+"[]":u=[u],Gh.forEach(u,function(d){Gh.isDate(d)?d=d.toISOString():Gh.isObject(d)&&(d=JSON.stringify(d)),o.push(Dne(c)+"="+Dne(d))}))}),i=o.join("&")}if(i){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}});var Nne=w((ent,One)=>{"use strict";var GDe=fr();function eP(){this.handlers=[]}eP.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};eP.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};eP.prototype.forEach=function(t){GDe.forEach(this.handlers,function(r){r!==null&&t(r)})};One.exports=eP});var Fne=w((tnt,Lne)=>{"use strict";var zDe=fr();Lne.exports=function(t,n){zDe.forEach(t,function(i,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[o])})}});var tP=w((nnt,Mne)=>{"use strict";Mne.exports=function(t,n,r,i,o){return t.config=n,r&&(t.code=r),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}});var nP=w((rnt,Une)=>{"use strict";Une.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var rP=w((int,qne)=>{"use strict";var YDe=tP();qne.exports=function(t,n,r,i,o){var s=new Error(t);return YDe(s,n,r,i,o)}});var GU=w((ont,$ne)=>{"use strict";var KDe=rP();$ne.exports=function(t,n,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):n(KDe("Request failed with status code "+r.status,r.config,null,r.request,r))}});var Hne=w((snt,jne)=>{"use strict";var iP=fr();jne.exports=iP.isStandardBrowserEnv()?function(){return{write:function(n,r,i,o,s,a){var u=[];u.push(n+"="+encodeURIComponent(r)),iP.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),iP.isString(o)&&u.push("path="+o),iP.isString(s)&&u.push("domain="+s),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var Vne=w((ant,Bne)=>{"use strict";Bne.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}});var Gne=w((cnt,Wne)=>{"use strict";Wne.exports=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}});var zU=w((unt,zne)=>{"use strict";var XDe=Vne(),QDe=Gne();zne.exports=function(t,n){return t&&!XDe(n)?QDe(t,n):n}});var Kne=w((lnt,Yne)=>{"use strict";var YU=fr(),JDe=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];Yne.exports=function(t){var n={},r,i,o;return t&&YU.forEach(t.split(`
`),function(a){if(o=a.indexOf(":"),r=YU.trim(a.substr(0,o)).toLowerCase(),i=YU.trim(a.substr(o+1)),r){if(n[r]&&JDe.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([i]):n[r]=n[r]?n[r]+", "+i:i}}),n}});var Jne=w((dnt,Qne)=>{"use strict";var Xne=fr();Qne.exports=Xne.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function i(o){var s=o;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){var a=Xne.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}()});var zh=w((pnt,Zne)=>{"use strict";function KU(e){this.message=e}KU.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};KU.prototype.__CANCEL__=!0;Zne.exports=KU});var tre=w((fnt,ere)=>{"use strict";var oP=fr(),ZDe=GU(),eke=Hne(),tke=ZI(),nke=zU(),rke=Kne(),ike=Jne(),XU=rP(),oke=nP(),ske=zh();ere.exports=function(t){return new Promise(function(r,i){var o=t.data,s=t.headers,a=t.responseType,u;function c(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}oP.isFormData(o)&&delete s["Content-Type"];var l=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.Authorization="Basic "+btoa(d+":"+p)}var f=nke(t.baseURL,t.url);l.open(t.method.toUpperCase(),tke(f,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function m(){if(!!l){var g="getAllResponseHeaders"in l?rke(l.getAllResponseHeaders()):null,v=!a||a==="text"||a==="json"?l.responseText:l.response,y={data:v,status:l.status,statusText:l.statusText,headers:g,config:t,request:l};ZDe(function(E){r(E),c()},function(E){i(E),c()},y),l=null}}if("onloadend"in l?l.onloadend=m:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(m)},l.onabort=function(){!l||(i(XU("Request aborted",t,"ECONNABORTED",l)),l=null)},l.onerror=function(){i(XU("Network Error",t,null,l)),l=null},l.ontimeout=function(){var v=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",y=t.transitional||oke;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),i(XU(v,t,y.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",l)),l=null},oP.isStandardBrowserEnv()){var h=(t.withCredentials||ike(f))&&t.xsrfCookieName?eke.read(t.xsrfCookieName):void 0;h&&(s[t.xsrfHeaderName]=h)}"setRequestHeader"in l&&oP.forEach(s,function(v,y){typeof o>"u"&&y.toLowerCase()==="content-type"?delete s[y]:l.setRequestHeader(y,v)}),oP.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),a&&a!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(u=function(g){!l||(i(!g||g&&g.type?new ske("canceled"):g),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u))),o||(o=null),l.send(o)})}});var sP=w((mnt,nre)=>{nre.exports={version:"0.26.1"}});var ure=w((hnt,cre)=>{"use strict";var tw=fr(),rre=GU(),ake=zU(),ire=ZI(),cke=require("http"),uke=require("https"),lke=kp().http,dke=kp().https,ore=require("url"),pke=require("zlib"),fke=sP().version,Yh=rP(),aP=tP(),mke=nP(),hke=zh(),sre=/https:?/;function are(e,t,n){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=n,t.auth){var r=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+r}e.beforeRedirect=function(o){o.headers.host=o.host,are(o,t,o.href)}}cre.exports=function(t){return new Promise(function(r,i){var o;function s(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}var a=function(B){s(),r(B)},u=!1,c=function(B){s(),u=!0,i(B)},l=t.data,d=t.headers,p={};if(Object.keys(d).forEach(function(B){p[B.toLowerCase()]=B}),"user-agent"in p?d[p["user-agent"]]||delete d[p["user-agent"]]:d["User-Agent"]="axios/"+fke,l&&!tw.isStream(l)){if(!Buffer.isBuffer(l))if(tw.isArrayBuffer(l))l=Buffer.from(new Uint8Array(l));else if(tw.isString(l))l=Buffer.from(l,"utf-8");else return c(Yh("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));if(t.maxBodyLength>-1&&l.length>t.maxBodyLength)return c(Yh("Request body larger than maxBodyLength limit",t));p["content-length"]||(d["Content-Length"]=l.length)}var f=void 0;if(t.auth){var m=t.auth.username||"",h=t.auth.password||"";f=m+":"+h}var g=ake(t.baseURL,t.url),v=ore.parse(g),y=v.protocol||"http:";if(!f&&v.auth){var x=v.auth.split(":"),E=x[0]||"",_=x[1]||"";f=E+":"+_}f&&p.authorization&&delete d[p.authorization];var C=sre.test(y),P=C?t.httpsAgent:t.httpAgent;try{ire(v.path,t.params,t.paramsSerializer).replace(/^\?/,"")}catch(ee){var T=new Error(ee.message);T.config=t,T.url=t.url,T.exists=!0,c(T)}var b={path:ire(v.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method.toUpperCase(),headers:d,agent:P,agents:{http:t.httpAgent,https:t.httpsAgent},auth:f};t.socketPath?b.socketPath=t.socketPath:(b.hostname=v.hostname,b.port=v.port);var R=t.proxy;if(!R&&R!==!1){var D=y.slice(0,-1)+"_proxy",I=process.env[D]||process.env[D.toUpperCase()];if(I){var L=ore.parse(I),q=process.env.no_proxy||process.env.NO_PROXY,k=!0;if(q){var N=q.split(",").map(function(B){return B.trim()});k=!N.some(function(B){return B?B==="*"||B[0]==="."&&v.hostname.substr(v.hostname.length-B.length)===B?!0:v.hostname===B:!1})}if(k&&(R={host:L.hostname,port:L.port,protocol:L.protocol},L.auth)){var U=L.auth.split(":");R.auth={username:U[0],password:U[1]}}}}R&&(b.headers.host=v.hostname+(v.port?":"+v.port:""),are(b,R,y+"//"+v.hostname+(v.port?":"+v.port:"")+b.path));var H,oe=C&&(R?sre.test(R.protocol):!0);t.transport?H=t.transport:t.maxRedirects===0?H=oe?uke:cke:(t.maxRedirects&&(b.maxRedirects=t.maxRedirects),H=oe?dke:lke),t.maxBodyLength>-1&&(b.maxBodyLength=t.maxBodyLength),t.insecureHTTPParser&&(b.insecureHTTPParser=t.insecureHTTPParser);var O=H.request(b,function(B){if(!O.aborted){var fe=B,Fe=B.req||O;if(B.statusCode!==204&&Fe.method!=="HEAD"&&t.decompress!==!1)switch(B.headers["content-encoding"]){case"gzip":case"compress":case"deflate":fe=fe.pipe(pke.createUnzip()),delete B.headers["content-encoding"];break}var _e={status:B.statusCode,statusText:B.statusMessage,headers:B.headers,config:t,request:Fe};if(t.responseType==="stream")_e.data=fe,rre(a,c,_e);else{var He=[],$t=0;fe.on("data",function(kt){He.push(kt),$t+=kt.length,t.maxContentLength>-1&&$t>t.maxContentLength&&(u=!0,fe.destroy(),c(Yh("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,Fe)))}),fe.on("aborted",function(){u||(fe.destroy(),c(Yh("error request aborted",t,"ERR_REQUEST_ABORTED",Fe)))}),fe.on("error",function(kt){O.aborted||c(aP(kt,t,null,Fe))}),fe.on("end",function(){try{var kt=He.length===1?He[0]:Buffer.concat(He);t.responseType!=="arraybuffer"&&(kt=kt.toString(t.responseEncoding),(!t.responseEncoding||t.responseEncoding==="utf8")&&(kt=tw.stripBOM(kt))),_e.data=kt}catch(Bi){c(aP(Bi,t,Bi.code,_e.request,_e))}rre(a,c,_e)})}}});if(O.on("error",function(B){O.aborted&&B.code!=="ERR_FR_TOO_MANY_REDIRECTS"||c(aP(B,t,null,O))}),O.on("socket",function(B){B.setKeepAlive(!0,1e3*60)}),t.timeout){var Q=parseInt(t.timeout,10);if(isNaN(Q)){c(Yh("error trying to parse `config.timeout` to int",t,"ERR_PARSE_TIMEOUT",O));return}O.setTimeout(Q,function(){O.abort();var B="";t.timeoutErrorMessage?B=t.timeoutErrorMessage:B="timeout of "+t.timeout+"ms exceeded";var fe=t.transitional||mke;c(Yh(B,t,fe.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",O))})}(t.cancelToken||t.signal)&&(o=function(ee){O.aborted||(O.abort(),c(!ee||ee&&ee.type?new hke("canceled"):ee))},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o))),tw.isStream(l)?l.on("error",function(B){c(aP(B,t,null,O))}).pipe(O):O.end(l)})}});var uP=w((gnt,pre)=>{"use strict";var er=fr(),lre=Fne(),gke=tP(),vke=nP(),yke={"Content-Type":"application/x-www-form-urlencoded"};function dre(e,t){!er.isUndefined(e)&&er.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function xke(){var e;return typeof XMLHttpRequest<"u"?e=tre():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(e=ure()),e}function wke(e,t,n){if(er.isString(e))try{return(t||JSON.parse)(e),er.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var cP={transitional:vke,adapter:xke(),transformRequest:[function(t,n){return lre(n,"Accept"),lre(n,"Content-Type"),er.isFormData(t)||er.isArrayBuffer(t)||er.isBuffer(t)||er.isStream(t)||er.isFile(t)||er.isBlob(t)?t:er.isArrayBufferView(t)?t.buffer:er.isURLSearchParams(t)?(dre(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):er.isObject(t)||n&&n["Content-Type"]==="application/json"?(dre(n,"application/json"),wke(t)):t}],transformResponse:[function(t){var n=this.transitional||cP.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||i&&er.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?gke(s,this,"E_JSON_PARSE"):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};er.forEach(["delete","get","head"],function(t){cP.headers[t]={}});er.forEach(["post","put","patch"],function(t){cP.headers[t]=er.merge(yke)});pre.exports=cP});var mre=w((vnt,fre)=>{"use strict";var Eke=fr(),_ke=uP();fre.exports=function(t,n,r){var i=this||_ke;return Eke.forEach(r,function(s){t=s.call(i,t,n)}),t}});var QU=w((ynt,hre)=>{"use strict";hre.exports=function(t){return!!(t&&t.__CANCEL__)}});var yre=w((xnt,vre)=>{"use strict";var gre=fr(),JU=mre(),bke=QU(),Cke=uP(),Ske=zh();function ZU(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ske("canceled")}vre.exports=function(t){ZU(t),t.headers=t.headers||{},t.data=JU.call(t,t.data,t.headers,t.transformRequest),t.headers=gre.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),gre.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var n=t.adapter||Cke.adapter;return n(t).then(function(i){return ZU(t),i.data=JU.call(t,i.data,i.headers,t.transformResponse),i},function(i){return bke(i)||(ZU(t),i&&i.response&&(i.response.data=JU.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})}});var eq=w((wnt,xre)=>{"use strict";var Mi=fr();xre.exports=function(t,n){n=n||{};var r={};function i(l,d){return Mi.isPlainObject(l)&&Mi.isPlainObject(d)?Mi.merge(l,d):Mi.isPlainObject(d)?Mi.merge({},d):Mi.isArray(d)?d.slice():d}function o(l){if(Mi.isUndefined(n[l])){if(!Mi.isUndefined(t[l]))return i(void 0,t[l])}else return i(t[l],n[l])}function s(l){if(!Mi.isUndefined(n[l]))return i(void 0,n[l])}function a(l){if(Mi.isUndefined(n[l])){if(!Mi.isUndefined(t[l]))return i(void 0,t[l])}else return i(void 0,n[l])}function u(l){if(l in n)return i(t[l],n[l]);if(l in t)return i(void 0,t[l])}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return Mi.forEach(Object.keys(t).concat(Object.keys(n)),function(d){var p=c[d]||o,f=p(d);Mi.isUndefined(f)&&p!==u||(r[d]=f)}),r}});var _re=w((Ent,Ere)=>{"use strict";var Tke=sP().version,tq={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){tq[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var wre={};tq.transitional=function(t,n,r){function i(o,s){return"[Axios v"+Tke+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return function(o,s,a){if(t===!1)throw new Error(i(s," has been removed"+(n?" in "+n:"")));return n&&!wre[s]&&(wre[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,a):!0}};function Ike(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],u=a===void 0||s(a,o,e);if(u!==!0)throw new TypeError("option "+o+" must be "+u);continue}if(n!==!0)throw Error("Unknown option "+o)}}Ere.exports={assertOptions:Ike,validators:tq}});var Pre=w((_nt,Ire)=>{"use strict";var Sre=fr(),Pke=ZI(),bre=Nne(),Cre=yre(),lP=eq(),Tre=_re(),Kh=Tre.validators;function nw(e){this.defaults=e,this.interceptors={request:new bre,response:new bre}}nw.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=lP(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&Tre.assertOptions(r,{silentJSONParsing:Kh.transitional(Kh.boolean),forcedJSONParsing:Kh.transitional(Kh.boolean),clarifyTimeoutError:Kh.transitional(Kh.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(n)===!1||(o=o&&f.synchronous,i.unshift(f.fulfilled,f.rejected))});var s=[];this.interceptors.response.forEach(function(f){s.push(f.fulfilled,f.rejected)});var a;if(!o){var u=[Cre,void 0];for(Array.prototype.unshift.apply(u,i),u=u.concat(s),a=Promise.resolve(n);u.length;)a=a.then(u.shift(),u.shift());return a}for(var c=n;i.length;){var l=i.shift(),d=i.shift();try{c=l(c)}catch(p){d(p);break}}try{a=Cre(c)}catch(p){return Promise.reject(p)}for(;s.length;)a=a.then(s.shift(),s.shift());return a};nw.prototype.getUri=function(t){return t=lP(this.defaults,t),Pke(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};Sre.forEach(["delete","get","head","options"],function(t){nw.prototype[t]=function(n,r){return this.request(lP(r||{},{method:t,url:n,data:(r||{}).data}))}});Sre.forEach(["post","put","patch"],function(t){nw.prototype[t]=function(n,r,i){return this.request(lP(i||{},{method:t,url:n,data:r}))}});Ire.exports=nw});var Are=w((bnt,Rre)=>{"use strict";var Rke=zh();function Xh(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var n=this;this.promise.then(function(r){if(!!n._listeners){var i,o=n._listeners.length;for(i=0;i<o;i++)n._listeners[i](r);n._listeners=null}}),this.promise.then=function(r){var i,o=new Promise(function(s){n.subscribe(s),i=s}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i){n.reason||(n.reason=new Rke(i),t(n.reason))})}Xh.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Xh.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Xh.prototype.unsubscribe=function(t){if(!!this._listeners){var n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}};Xh.source=function(){var t,n=new Xh(function(i){t=i});return{token:n,cancel:t}};Rre.exports=Xh});var kre=w((Cnt,Dre)=>{"use strict";Dre.exports=function(t){return function(r){return t.apply(null,r)}}});var Nre=w((Snt,Ore)=>{"use strict";var Ake=fr();Ore.exports=function(t){return Ake.isObject(t)&&t.isAxiosError===!0}});var Mre=w((Tnt,nq)=>{"use strict";var Lre=fr(),Dke=jU(),dP=Pre(),kke=eq(),Oke=uP();function Fre(e){var t=new dP(e),n=Dke(dP.prototype.request,t);return Lre.extend(n,dP.prototype,t),Lre.extend(n,t),n.create=function(i){return Fre(kke(e,i))},n}var aa=Fre(Oke);aa.Axios=dP;aa.Cancel=zh();aa.CancelToken=Are();aa.isCancel=QU();aa.VERSION=sP().version;aa.all=function(t){return Promise.all(t)};aa.spread=kre();aa.isAxiosError=Nre();nq.exports=aa;nq.exports.default=aa});var qre=w((Int,Ure)=>{Ure.exports=Mre()});var $re=w(iq=>{"use strict";Object.defineProperty(iq,"__esModule",{value:!0});var Nke=qre(),rq=class{constructor(t){this.endpoint=t}get(t){return Nke.default.get(this.endpoint,Object.assign(Object.assign({},t),{proxy:!1}))}};iq.AxiosHttpClient=rq});var jre=w(sq=>{"use strict";Object.defineProperty(sq,"__esModule",{value:!0});var oq=class{constructor(){this.storage=new Map}async getValue(t,n){return this.storage.has(t)?await Promise.resolve(this.storage.get(t)):await Promise.resolve(n||void 0)}setValue(t,n){this.storage.set(t,n)}};sq.MemoryKeyValueStorage=oq});var Hre=w(cq=>{"use strict";Object.defineProperty(cq,"__esModule",{value:!0});var Lke=jre(),aq=class{constructor(t,n,r,i,o){this.telemetry=t,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=r,this.storageKey=i,this.storage=o,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(o=new Lke.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((s,a)=>{this.resolveInitialFetchPromise=s})}get features(){return this._features}set features(t){this._features=t,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}async getFeaturesAsync(t=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async r=>await r.getFeatures()));let n=await this.fetchPromise;this.updateFeatures(n,t)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(t,n=!1){let r={features:[],assignmentContext:"",configs:[]};for(let i of t){for(let o of i.features)r.features.includes(o)||r.features.push(o);for(let o of i.configs){let s=r.configs.find(a=>a.Id===o.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),o.Parameters):r.configs.push(o)}r.assignmentContext+=i.assignmentContext}(n||!this.featuresConsumed)&&(this.features=r),this.storage&&this.storage.setValue(this.storageKey,r)}async loadCachedFeatureData(){let t;this.storage&&(t=await this.storage.getValue(this.storageKey),t!==void 0&&t.configs===void 0&&(t.configs=[])),this.features.features.length===0&&(this.features=t||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(t){return this.featuresConsumed=!0,this.PostEventToTelemetry(t),this.features.features.includes(t)}async isCachedFlightEnabled(t){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(t),this.features.features.includes(t)}async isFlightEnabledAsync(t){let n=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(t),n.features.includes(t)}getTreatmentVariable(t,n){var r;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${t}.${n}`),(r=this.features.configs.find(o=>o.Id===t))===null||r===void 0?void 0:r.Parameters[n]}async getTreatmentVariableAsync(t,n,r){if(r){let i=this.featuresConsumed,o=this.getTreatmentVariable(t,n);if(o===void 0)this.featuresConsumed=i;else return o}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(t,n)}PostEventToTelemetry(t){this.cachedTelemetryEvents.includes(t)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",t]])),this.cachedTelemetryEvents.push(t))}invokeInit(){this.init()}addFeatureProvider(...t){if(!(t==null||this.featureProviders==null))for(let n of t)this.featureProviders.push(n)}};cq.ExperimentationServiceBase=aq});var Bre=w(lq=>{"use strict";Object.defineProperty(lq,"__esModule",{value:!0});var uq=class{constructor(t){this.fetchInterval=t}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(t){this.onTick=t}StartPolling(t=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(t&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};lq.PollingService=uq});var Vre=w(pq=>{"use strict";Object.defineProperty(pq,"__esModule",{value:!0});var Fke=Hre(),Mke=Bre(),dq=class extends Fke.ExperimentationServiceBase{constructor(t,n,r,i,o,s,a){if(super(t,i,o,s,a),this.telemetry=t,this.filterProviders=n,this.refreshRateMs=r,this.assignmentContextTelemetryPropertyName=i,this.telemetryEventName=o,this.storageKey=s,this.storage=a,r<1e3&&r!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");r>0&&(this.pollingService=new Mke.PollingService(r),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(t=!1){if(this.pollingService){this.pollingService.StopPolling();let n=await super.getFeaturesAsync(t);return this.pollingService.StartPolling(),n}else return await super.getFeaturesAsync(t)}};pq.ExperimentationServiceAutoPolling=dq});var Wre=w(fq=>{"use strict";Object.defineProperty(fq,"__esModule",{value:!0});var Uke=Sne(),qke=$re(),$ke=Vre(),pP=class extends $ke.ExperimentationServiceAutoPolling{constructor(t){super(t.telemetry,t.filterProviders||[],t.refetchInterval!=null?t.refetchInterval:0,t.assignmentContextTelemetryPropertyName,t.telemetryEventName,t.storageKey,t.keyValueStorage),this.options=t,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new Uke.TasApiFeatureProvider(new qke.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};fq.ExperimentationService=pP;pP.REFRESH_RATE_IN_MINUTES=30});var Gre=w(mq=>{"use strict";Object.defineProperty(mq,"__esModule",{value:!0});var jke=Wre();mq.ExperimentationService=jke.ExperimentationService});var zre=w(gq=>{"use strict";Object.defineProperty(gq,"__esModule",{value:!0});var hq=class{constructor(t){this.mementoGlobalStorage=t}async getValue(t,n){return await this.mementoGlobalStorage.get(t)||n}setValue(t,n){this.mementoGlobalStorage.update(t,n)}};gq.MementoKeyValueStorage=hq});var Yre=w(yq=>{"use strict";Object.defineProperty(yq,"__esModule",{value:!0});var vq=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(t){return!1}isCachedFlightEnabled(t){return Promise.resolve(!1)}isFlightEnabledAsync(t){return Promise.resolve(!1)}getTreatmentVariable(t,n){}getTreatmentVariableAsync(t,n){return Promise.resolve(void 0)}};yq.default=vq});var Xre=w(fP=>{"use strict";Object.defineProperty(fP,"__esModule",{value:!0});var Hke=NU(),Bke=Gre(),xq=require("vscode"),Vke=zre(),Wke=Yre(),Gke="https://default.exp-tas.com/vscode/ab",zke="query-expfeature",Yke="abexp.assignmentcontext",Kke="VSCode.ABExp.FeatureData",Xke=1e3*60*30;function Kre(e,t,n,r,i,...o){if(!i)throw new Error("Memento storage was not provided.");let s=xq.workspace.getConfiguration("telemetry");if(!(xq.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):xq.env.isTelemetryEnabled))return new Wke.default;let c=[new Hke.VSCodeFilterProvider(e,t,n),...o],l=new Vke.MementoKeyValueStorage(i);return new Bke.ExperimentationService({filterProviders:c,telemetry:r,storageKey:Kke,keyValueStorage:l,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:Yke,telemetryEventName:zke,endpoint:Gke,refetchInterval:Xke})}fP.getExperimentationService=Kre;async function Qke(e,t,n,r,i,...o){let s=Kre(e,t,n,r,i,...o);return await s.initializePromise,s}fP.getExperimentationServiceAsync=Qke});var Jre=w(rw=>{"use strict";Object.defineProperty(rw,"__esModule",{value:!0});var Qre=Xre();rw.getExperimentationService=Qre.getExperimentationService;rw.getExperimentationServiceAsync=Qre.getExperimentationServiceAsync;var Jke=NU();rw.TargetPopulation=Jke.TargetPopulation});var fw=w((Urt,_ie)=>{var SOe="2.0.0",TOe=Number.MAX_SAFE_INTEGER||9007199254740991,IOe=16;_ie.exports={SEMVER_SPEC_VERSION:SOe,MAX_LENGTH:256,MAX_SAFE_INTEGER:TOe,MAX_SAFE_COMPONENT_LENGTH:IOe}});var mw=w((qrt,bie)=>{var POe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};bie.exports=POe});var hp=w((rl,Cie)=>{var{MAX_SAFE_COMPONENT_LENGTH:Mq}=fw(),ROe=mw();rl=Cie.exports={};var AOe=rl.re=[],le=rl.src=[],de=rl.t={},DOe=0,Le=(e,t,n)=>{let r=DOe++;ROe(e,r,t),de[e]=r,le[r]=t,AOe[r]=new RegExp(t,n?"g":void 0)};Le("NUMERICIDENTIFIER","0|[1-9]\\d*");Le("NUMERICIDENTIFIERLOOSE","[0-9]+");Le("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Le("MAINVERSION",`(${le[de.NUMERICIDENTIFIER]})\\.(${le[de.NUMERICIDENTIFIER]})\\.(${le[de.NUMERICIDENTIFIER]})`);Le("MAINVERSIONLOOSE",`(${le[de.NUMERICIDENTIFIERLOOSE]})\\.(${le[de.NUMERICIDENTIFIERLOOSE]})\\.(${le[de.NUMERICIDENTIFIERLOOSE]})`);Le("PRERELEASEIDENTIFIER",`(?:${le[de.NUMERICIDENTIFIER]}|${le[de.NONNUMERICIDENTIFIER]})`);Le("PRERELEASEIDENTIFIERLOOSE",`(?:${le[de.NUMERICIDENTIFIERLOOSE]}|${le[de.NONNUMERICIDENTIFIER]})`);Le("PRERELEASE",`(?:-(${le[de.PRERELEASEIDENTIFIER]}(?:\\.${le[de.PRERELEASEIDENTIFIER]})*))`);Le("PRERELEASELOOSE",`(?:-?(${le[de.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${le[de.PRERELEASEIDENTIFIERLOOSE]})*))`);Le("BUILDIDENTIFIER","[0-9A-Za-z-]+");Le("BUILD",`(?:\\+(${le[de.BUILDIDENTIFIER]}(?:\\.${le[de.BUILDIDENTIFIER]})*))`);Le("FULLPLAIN",`v?${le[de.MAINVERSION]}${le[de.PRERELEASE]}?${le[de.BUILD]}?`);Le("FULL",`^${le[de.FULLPLAIN]}$`);Le("LOOSEPLAIN",`[v=\\s]*${le[de.MAINVERSIONLOOSE]}${le[de.PRERELEASELOOSE]}?${le[de.BUILD]}?`);Le("LOOSE",`^${le[de.LOOSEPLAIN]}$`);Le("GTLT","((?:<|>)?=?)");Le("XRANGEIDENTIFIERLOOSE",`${le[de.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Le("XRANGEIDENTIFIER",`${le[de.NUMERICIDENTIFIER]}|x|X|\\*`);Le("XRANGEPLAIN",`[v=\\s]*(${le[de.XRANGEIDENTIFIER]})(?:\\.(${le[de.XRANGEIDENTIFIER]})(?:\\.(${le[de.XRANGEIDENTIFIER]})(?:${le[de.PRERELEASE]})?${le[de.BUILD]}?)?)?`);Le("XRANGEPLAINLOOSE",`[v=\\s]*(${le[de.XRANGEIDENTIFIERLOOSE]})(?:\\.(${le[de.XRANGEIDENTIFIERLOOSE]})(?:\\.(${le[de.XRANGEIDENTIFIERLOOSE]})(?:${le[de.PRERELEASELOOSE]})?${le[de.BUILD]}?)?)?`);Le("XRANGE",`^${le[de.GTLT]}\\s*${le[de.XRANGEPLAIN]}$`);Le("XRANGELOOSE",`^${le[de.GTLT]}\\s*${le[de.XRANGEPLAINLOOSE]}$`);Le("COERCE",`(^|[^\\d])(\\d{1,${Mq}})(?:\\.(\\d{1,${Mq}}))?(?:\\.(\\d{1,${Mq}}))?(?:$|[^\\d])`);Le("COERCERTL",le[de.COERCE],!0);Le("LONETILDE","(?:~>?)");Le("TILDETRIM",`(\\s*)${le[de.LONETILDE]}\\s+`,!0);rl.tildeTrimReplace="$1~";Le("TILDE",`^${le[de.LONETILDE]}${le[de.XRANGEPLAIN]}$`);Le("TILDELOOSE",`^${le[de.LONETILDE]}${le[de.XRANGEPLAINLOOSE]}$`);Le("LONECARET","(?:\\^)");Le("CARETTRIM",`(\\s*)${le[de.LONECARET]}\\s+`,!0);rl.caretTrimReplace="$1^";Le("CARET",`^${le[de.LONECARET]}${le[de.XRANGEPLAIN]}$`);Le("CARETLOOSE",`^${le[de.LONECARET]}${le[de.XRANGEPLAINLOOSE]}$`);Le("COMPARATORLOOSE",`^${le[de.GTLT]}\\s*(${le[de.LOOSEPLAIN]})$|^$`);Le("COMPARATOR",`^${le[de.GTLT]}\\s*(${le[de.FULLPLAIN]})$|^$`);Le("COMPARATORTRIM",`(\\s*)${le[de.GTLT]}\\s*(${le[de.LOOSEPLAIN]}|${le[de.XRANGEPLAIN]})`,!0);rl.comparatorTrimReplace="$1$2$3";Le("HYPHENRANGE",`^\\s*(${le[de.XRANGEPLAIN]})\\s+-\\s+(${le[de.XRANGEPLAIN]})\\s*$`);Le("HYPHENRANGELOOSE",`^\\s*(${le[de.XRANGEPLAINLOOSE]})\\s+-\\s+(${le[de.XRANGEPLAINLOOSE]})\\s*$`);Le("STAR","(<|>)?=?\\s*\\*");Le("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Le("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var hw=w(($rt,Sie)=>{var kOe=["includePrerelease","loose","rtl"],OOe=e=>e?typeof e!="object"?{loose:!0}:kOe.filter(t=>e[t]).reduce((t,n)=>(t[n]=!0,t),{}):{};Sie.exports=OOe});var Uq=w((jrt,Pie)=>{var Tie=/^[0-9]+$/,Iie=(e,t)=>{let n=Tie.test(e),r=Tie.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},NOe=(e,t)=>Iie(t,e);Pie.exports={compareIdentifiers:Iie,rcompareIdentifiers:NOe}});var hr=w((Hrt,kie)=>{var SP=mw(),{MAX_LENGTH:Rie,MAX_SAFE_INTEGER:TP}=fw(),{re:Aie,t:Die}=hp(),LOe=hw(),{compareIdentifiers:ng}=Uq(),$i=class{constructor(t,n){if(n=LOe(n),t instanceof $i){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>Rie)throw new TypeError(`version is longer than ${Rie} characters`);SP("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=t.trim().match(n.loose?Aie[Die.LOOSE]:Aie[Die.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>TP||this.major<0)throw new TypeError("Invalid major version");if(this.minor>TP||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>TP||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<TP)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(SP("SemVer.compare",this.version,this.options,t),!(t instanceof $i)){if(typeof t=="string"&&t===this.version)return 0;t=new $i(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof $i||(t=new $i(t,this.options)),ng(this.major,t.major)||ng(this.minor,t.minor)||ng(this.patch,t.patch)}comparePre(t){if(t instanceof $i||(t=new $i(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=t.prerelease[n];if(SP("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return ng(r,i)}while(++n)}compareBuild(t){t instanceof $i||(t=new $i(t,this.options));let n=0;do{let r=this.build[n],i=t.build[n];if(SP("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return ng(r,i)}while(++n)}inc(t,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(ng(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};kie.exports=$i});var gp=w((Brt,Fie)=>{var{MAX_LENGTH:FOe}=fw(),{re:Oie,t:Nie}=hp(),Lie=hr(),MOe=hw(),UOe=(e,t)=>{if(t=MOe(t),e instanceof Lie)return e;if(typeof e!="string"||e.length>FOe||!(t.loose?Oie[Nie.LOOSE]:Oie[Nie.FULL]).test(e))return null;try{return new Lie(e,t)}catch{return null}};Fie.exports=UOe});var Uie=w((Vrt,Mie)=>{var qOe=gp(),$Oe=(e,t)=>{let n=qOe(e,t);return n?n.version:null};Mie.exports=$Oe});var $ie=w((Wrt,qie)=>{var jOe=gp(),HOe=(e,t)=>{let n=jOe(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};qie.exports=HOe});var Bie=w((Grt,Hie)=>{var jie=hr(),BOe=(e,t,n,r)=>{typeof n=="string"&&(r=n,n=void 0);try{return new jie(e instanceof jie?e.version:e,n).inc(t,r).version}catch{return null}};Hie.exports=BOe});var Ro=w((zrt,Wie)=>{var Vie=hr(),VOe=(e,t,n)=>new Vie(e,n).compare(new Vie(t,n));Wie.exports=VOe});var IP=w((Yrt,Gie)=>{var WOe=Ro(),GOe=(e,t,n)=>WOe(e,t,n)===0;Gie.exports=GOe});var Kie=w((Krt,Yie)=>{var zie=gp(),zOe=IP(),YOe=(e,t)=>{if(zOe(e,t))return null;{let n=zie(e),r=zie(t),i=n.prerelease.length||r.prerelease.length,o=i?"pre":"",s=i?"prerelease":"";for(let a in n)if((a==="major"||a==="minor"||a==="patch")&&n[a]!==r[a])return o+a;return s}};Yie.exports=YOe});var Qie=w((Xrt,Xie)=>{var KOe=hr(),XOe=(e,t)=>new KOe(e,t).major;Xie.exports=XOe});var Zie=w((Qrt,Jie)=>{var QOe=hr(),JOe=(e,t)=>new QOe(e,t).minor;Jie.exports=JOe});var toe=w((Jrt,eoe)=>{var ZOe=hr(),eNe=(e,t)=>new ZOe(e,t).patch;eoe.exports=eNe});var roe=w((Zrt,noe)=>{var tNe=gp(),nNe=(e,t)=>{let n=tNe(e,t);return n&&n.prerelease.length?n.prerelease:null};noe.exports=nNe});var ooe=w((eit,ioe)=>{var rNe=Ro(),iNe=(e,t,n)=>rNe(t,e,n);ioe.exports=iNe});var aoe=w((tit,soe)=>{var oNe=Ro(),sNe=(e,t)=>oNe(e,t,!0);soe.exports=sNe});var PP=w((nit,uoe)=>{var coe=hr(),aNe=(e,t,n)=>{let r=new coe(e,n),i=new coe(t,n);return r.compare(i)||r.compareBuild(i)};uoe.exports=aNe});var doe=w((rit,loe)=>{var cNe=PP(),uNe=(e,t)=>e.sort((n,r)=>cNe(n,r,t));loe.exports=uNe});var foe=w((iit,poe)=>{var lNe=PP(),dNe=(e,t)=>e.sort((n,r)=>lNe(r,n,t));poe.exports=dNe});var gw=w((oit,moe)=>{var pNe=Ro(),fNe=(e,t,n)=>pNe(e,t,n)>0;moe.exports=fNe});var RP=w((sit,hoe)=>{var mNe=Ro(),hNe=(e,t,n)=>mNe(e,t,n)<0;hoe.exports=hNe});var qq=w((ait,goe)=>{var gNe=Ro(),vNe=(e,t,n)=>gNe(e,t,n)!==0;goe.exports=vNe});var AP=w((cit,voe)=>{var yNe=Ro(),xNe=(e,t,n)=>yNe(e,t,n)>=0;voe.exports=xNe});var DP=w((uit,yoe)=>{var wNe=Ro(),ENe=(e,t,n)=>wNe(e,t,n)<=0;yoe.exports=ENe});var $q=w((lit,xoe)=>{var _Ne=IP(),bNe=qq(),CNe=gw(),SNe=AP(),TNe=RP(),INe=DP(),PNe=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return _Ne(e,n,r);case"!=":return bNe(e,n,r);case">":return CNe(e,n,r);case">=":return SNe(e,n,r);case"<":return TNe(e,n,r);case"<=":return INe(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};xoe.exports=PNe});var Eoe=w((dit,woe)=>{var RNe=hr(),ANe=gp(),{re:kP,t:OP}=hp(),DNe=(e,t)=>{if(e instanceof RNe)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(kP[OP.COERCE]);else{let r;for(;(r=kP[OP.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||r.index+r[0].length!==n.index+n[0].length)&&(n=r),kP[OP.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;kP[OP.COERCERTL].lastIndex=-1}return n===null?null:ANe(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)};woe.exports=DNe});var Toe=w((pit,Soe)=>{"use strict";var kNe=mE(),vp=Symbol("max"),xc=Symbol("length"),rg=Symbol("lengthCalculator"),yw=Symbol("allowStale"),yp=Symbol("maxAge"),yc=Symbol("dispose"),_oe=Symbol("noDisposeOnSet"),Un=Symbol("lruList"),xs=Symbol("cache"),Coe=Symbol("updateAgeOnGet"),jq=()=>1,Bq=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let n=this[vp]=t.max||1/0,r=t.length||jq;if(this[rg]=typeof r!="function"?jq:r,this[yw]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[yp]=t.maxAge||0,this[yc]=t.dispose,this[_oe]=t.noDisposeOnSet||!1,this[Coe]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[vp]=t||1/0,vw(this)}get max(){return this[vp]}set allowStale(t){this[yw]=!!t}get allowStale(){return this[yw]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[yp]=t,vw(this)}get maxAge(){return this[yp]}set lengthCalculator(t){typeof t!="function"&&(t=jq),t!==this[rg]&&(this[rg]=t,this[xc]=0,this[Un].forEach(n=>{n.length=this[rg](n.value,n.key),this[xc]+=n.length})),vw(this)}get lengthCalculator(){return this[rg]}get length(){return this[xc]}get itemCount(){return this[Un].length}rforEach(t,n){n=n||this;for(let r=this[Un].tail;r!==null;){let i=r.prev;boe(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[Un].head;r!==null;){let i=r.next;boe(this,t,r,n),r=i}}keys(){return this[Un].toArray().map(t=>t.key)}values(){return this[Un].toArray().map(t=>t.value)}reset(){this[yc]&&this[Un]&&this[Un].length&&this[Un].forEach(t=>this[yc](t.key,t.value)),this[xs]=new Map,this[Un]=new kNe,this[xc]=0}dump(){return this[Un].map(t=>NP(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Un]}set(t,n,r){if(r=r||this[yp],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let i=r?Date.now():0,o=this[rg](n,t);if(this[xs].has(t)){if(o>this[vp])return ig(this,this[xs].get(t)),!1;let u=this[xs].get(t).value;return this[yc]&&(this[_oe]||this[yc](t,u.value)),u.now=i,u.maxAge=r,u.value=n,this[xc]+=o-u.length,u.length=o,this.get(t),vw(this),!0}let s=new Vq(t,n,o,i,r);return s.length>this[vp]?(this[yc]&&this[yc](t,n),!1):(this[xc]+=s.length,this[Un].unshift(s),this[xs].set(t,this[Un].head),vw(this),!0)}has(t){if(!this[xs].has(t))return!1;let n=this[xs].get(t).value;return!NP(this,n)}get(t){return Hq(this,t,!0)}peek(t){return Hq(this,t,!1)}pop(){let t=this[Un].tail;return t?(ig(this,t),t.value):null}del(t){ig(this,this[xs].get(t))}load(t){this.reset();let n=Date.now();for(let r=t.length-1;r>=0;r--){let i=t[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[xs].forEach((t,n)=>Hq(this,n,!1))}},Hq=(e,t,n)=>{let r=e[xs].get(t);if(r){let i=r.value;if(NP(e,i)){if(ig(e,r),!e[yw])return}else n&&(e[Coe]&&(r.value.now=Date.now()),e[Un].unshiftNode(r));return i.value}},NP=(e,t)=>{if(!t||!t.maxAge&&!e[yp])return!1;let n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[yp]&&n>e[yp]},vw=e=>{if(e[xc]>e[vp])for(let t=e[Un].tail;e[xc]>e[vp]&&t!==null;){let n=t.prev;ig(e,t),t=n}},ig=(e,t)=>{if(t){let n=t.value;e[yc]&&e[yc](n.key,n.value),e[xc]-=n.length,e[xs].delete(n.key),e[Un].removeNode(t)}},Vq=class{constructor(t,n,r,i,o){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}},boe=(e,t,n,r)=>{let i=n.value;NP(e,i)&&(ig(e,n),e[yw]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};Soe.exports=Bq});var Ao=w((fit,Aoe)=>{var xp=class{constructor(t,n){if(n=NNe(n),t instanceof xp)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new xp(t.raw,n);if(t instanceof Wq)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t,this.set=t.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!Poe(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&qNe(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();let r=`parseRange:${Object.keys(this.options).join(",")}:${t}`,i=Ioe.get(r);if(i)return i;let o=this.options.loose,s=o?ci[Nr.HYPHENRANGELOOSE]:ci[Nr.HYPHENRANGE];t=t.replace(s,KNe(this.options.includePrerelease)),Kt("hyphen replace",t),t=t.replace(ci[Nr.COMPARATORTRIM],FNe),Kt("comparator trim",t),t=t.replace(ci[Nr.TILDETRIM],MNe),t=t.replace(ci[Nr.CARETTRIM],UNe),t=t.split(/\s+/).join(" ");let a=t.split(" ").map(d=>$Ne(d,this.options)).join(" ").split(/\s+/).map(d=>YNe(d,this.options));o&&(a=a.filter(d=>(Kt("loose invalid filter",d,this.options),!!d.match(ci[Nr.COMPARATORLOOSE])))),Kt("range list",a);let u=new Map,c=a.map(d=>new Wq(d,this.options));for(let d of c){if(Poe(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let l=[...u.values()];return Ioe.set(r,l),l}intersects(t,n){if(!(t instanceof xp))throw new TypeError("a Range is required");return this.set.some(r=>Roe(r,n)&&t.set.some(i=>Roe(i,n)&&r.every(o=>i.every(s=>o.intersects(s,n)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new LNe(t,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(XNe(this.set[n],t,this.options))return!0;return!1}};Aoe.exports=xp;var ONe=Toe(),Ioe=new ONe({max:1e3}),NNe=hw(),Wq=xw(),Kt=mw(),LNe=hr(),{re:ci,t:Nr,comparatorTrimReplace:FNe,tildeTrimReplace:MNe,caretTrimReplace:UNe}=hp(),Poe=e=>e.value==="<0.0.0-0",qNe=e=>e.value==="",Roe=(e,t)=>{let n=!0,r=e.slice(),i=r.pop();for(;n&&r.length;)n=r.every(o=>i.intersects(o,t)),i=r.pop();return n},$Ne=(e,t)=>(Kt("comp",e,t),e=BNe(e,t),Kt("caret",e),e=jNe(e,t),Kt("tildes",e),e=WNe(e,t),Kt("xrange",e),e=zNe(e,t),Kt("stars",e),e),Lr=e=>!e||e.toLowerCase()==="x"||e==="*",jNe=(e,t)=>e.trim().split(/\s+/).map(n=>HNe(n,t)).join(" "),HNe=(e,t)=>{let n=t.loose?ci[Nr.TILDELOOSE]:ci[Nr.TILDE];return e.replace(n,(r,i,o,s,a)=>{Kt("tilde",e,r,i,o,s,a);let u;return Lr(i)?u="":Lr(o)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:Lr(s)?u=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Kt("replaceTilde pr",a),u=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):u=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Kt("tilde return",u),u})},BNe=(e,t)=>e.trim().split(/\s+/).map(n=>VNe(n,t)).join(" "),VNe=(e,t)=>{Kt("caret",e,t);let n=t.loose?ci[Nr.CARETLOOSE]:ci[Nr.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(i,o,s,a,u)=>{Kt("caret",e,i,o,s,a,u);let c;return Lr(o)?c="":Lr(s)?c=`>=${o}.0.0${r} <${+o+1}.0.0-0`:Lr(a)?o==="0"?c=`>=${o}.${s}.0${r} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.0${r} <${+o+1}.0.0-0`:u?(Kt("replaceCaret pr",u),o==="0"?s==="0"?c=`>=${o}.${s}.${a}-${u} <${o}.${s}.${+a+1}-0`:c=`>=${o}.${s}.${a}-${u} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.${a}-${u} <${+o+1}.0.0-0`):(Kt("no pr"),o==="0"?s==="0"?c=`>=${o}.${s}.${a}${r} <${o}.${s}.${+a+1}-0`:c=`>=${o}.${s}.${a}${r} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Kt("caret return",c),c})},WNe=(e,t)=>(Kt("replaceXRanges",e,t),e.split(/\s+/).map(n=>GNe(n,t)).join(" ")),GNe=(e,t)=>{e=e.trim();let n=t.loose?ci[Nr.XRANGELOOSE]:ci[Nr.XRANGE];return e.replace(n,(r,i,o,s,a,u)=>{Kt("xRange",e,r,i,o,s,a,u);let c=Lr(o),l=c||Lr(s),d=l||Lr(a),p=d;return i==="="&&p&&(i=""),u=t.includePrerelease?"-0":"",c?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&p?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(u="-0"),r=`${i+o}.${s}.${a}${u}`):l?r=`>=${o}.0.0${u} <${+o+1}.0.0-0`:d&&(r=`>=${o}.${s}.0${u} <${o}.${+s+1}.0-0`),Kt("xRange return",r),r})},zNe=(e,t)=>(Kt("replaceStars",e,t),e.trim().replace(ci[Nr.STAR],"")),YNe=(e,t)=>(Kt("replaceGTE0",e,t),e.trim().replace(ci[t.includePrerelease?Nr.GTE0PRE:Nr.GTE0],"")),KNe=e=>(t,n,r,i,o,s,a,u,c,l,d,p,f)=>(Lr(r)?n="":Lr(i)?n=`>=${r}.0.0${e?"-0":""}`:Lr(o)?n=`>=${r}.${i}.0${e?"-0":""}`:s?n=`>=${n}`:n=`>=${n}${e?"-0":""}`,Lr(c)?u="":Lr(l)?u=`<${+c+1}.0.0-0`:Lr(d)?u=`<${c}.${+l+1}.0-0`:p?u=`<=${c}.${l}.${d}-${p}`:e?u=`<${c}.${l}.${+d+1}-0`:u=`<=${u}`,`${n} ${u}`.trim()),XNe=(e,t,n)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let r=0;r<e.length;r++)if(Kt(e[r].semver),e[r].semver!==Wq.ANY&&e[r].semver.prerelease.length>0){let i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}});var xw=w((mit,Loe)=>{var ww=Symbol("SemVer ANY"),og=class{static get ANY(){return ww}constructor(t,n){if(n=QNe(n),t instanceof og){if(t.loose===!!n.loose)return t;t=t.value}zq("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===ww?this.value="":this.value=this.operator+this.semver.version,zq("comp",this)}parse(t){let n=this.options.loose?Doe[koe.COMPARATORLOOSE]:Doe[koe.COMPARATOR],r=t.match(n);if(!r)throw new TypeError(`Invalid comparator: ${t}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Ooe(r[2],this.options.loose):this.semver=ww}toString(){return this.value}test(t){if(zq("Comparator.test",t,this.options.loose),this.semver===ww||t===ww)return!0;if(typeof t=="string")try{t=new Ooe(t,this.options)}catch{return!1}return Gq(t,this.operator,this.semver,this.options)}intersects(t,n){if(!(t instanceof og))throw new TypeError("a Comparator is required");if((!n||typeof n!="object")&&(n={loose:!!n,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new Noe(t.value,n).test(this.value);if(t.operator==="")return t.value===""?!0:new Noe(this.value,n).test(t.semver);let r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),o=this.semver.version===t.semver.version,s=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=Gq(this.semver,"<",t.semver,n)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),u=Gq(this.semver,">",t.semver,n)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||i||o&&s||a||u}};Loe.exports=og;var QNe=hw(),{re:Doe,t:koe}=hp(),Gq=$q(),zq=mw(),Ooe=hr(),Noe=Ao()});var Ew=w((hit,Foe)=>{var JNe=Ao(),ZNe=(e,t,n)=>{try{t=new JNe(t,n)}catch{return!1}return t.test(e)};Foe.exports=ZNe});var Uoe=w((git,Moe)=>{var eLe=Ao(),tLe=(e,t)=>new eLe(e,t).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));Moe.exports=tLe});var $oe=w((vit,qoe)=>{var nLe=hr(),rLe=Ao(),iLe=(e,t,n)=>{let r=null,i=null,o=null;try{o=new rLe(t,n)}catch{return null}return e.forEach(s=>{o.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new nLe(r,n))}),r};qoe.exports=iLe});var Hoe=w((yit,joe)=>{var oLe=hr(),sLe=Ao(),aLe=(e,t,n)=>{let r=null,i=null,o=null;try{o=new sLe(t,n)}catch{return null}return e.forEach(s=>{o.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new oLe(r,n))}),r};joe.exports=aLe});var Woe=w((xit,Voe)=>{var Yq=hr(),cLe=Ao(),Boe=gw(),uLe=(e,t)=>{e=new cLe(e,t);let n=new Yq("0.0.0");if(e.test(n)||(n=new Yq("0.0.0-0"),e.test(n)))return n;n=null;for(let r=0;r<e.set.length;++r){let i=e.set[r],o=null;i.forEach(s=>{let a=new Yq(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||Boe(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!n||Boe(n,o))&&(n=o)}return n&&e.test(n)?n:null};Voe.exports=uLe});var zoe=w((wit,Goe)=>{var lLe=Ao(),dLe=(e,t)=>{try{return new lLe(e,t).range||"*"}catch{return null}};Goe.exports=dLe});var LP=w((Eit,Qoe)=>{var pLe=hr(),Xoe=xw(),{ANY:fLe}=Xoe,mLe=Ao(),hLe=Ew(),Yoe=gw(),Koe=RP(),gLe=DP(),vLe=AP(),yLe=(e,t,n,r)=>{e=new pLe(e,r),t=new mLe(t,r);let i,o,s,a,u;switch(n){case">":i=Yoe,o=gLe,s=Koe,a=">",u=">=";break;case"<":i=Koe,o=vLe,s=Yoe,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(hLe(e,t,r))return!1;for(let c=0;c<t.set.length;++c){let l=t.set[c],d=null,p=null;if(l.forEach(f=>{f.semver===fLe&&(f=new Xoe(">=0.0.0")),d=d||f,p=p||f,i(f.semver,d.semver,r)?d=f:s(f.semver,p.semver,r)&&(p=f)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===u&&s(e,p.semver))return!1}return!0};Qoe.exports=yLe});var Zoe=w((_it,Joe)=>{var xLe=LP(),wLe=(e,t,n)=>xLe(e,t,">",n);Joe.exports=wLe});var tse=w((bit,ese)=>{var ELe=LP(),_Le=(e,t,n)=>ELe(e,t,"<",n);ese.exports=_Le});var ise=w((Cit,rse)=>{var nse=Ao(),bLe=(e,t,n)=>(e=new nse(e,n),t=new nse(t,n),e.intersects(t));rse.exports=bLe});var sse=w((Sit,ose)=>{var CLe=Ew(),SLe=Ro();ose.exports=(e,t,n)=>{let r=[],i=null,o=null,s=e.sort((l,d)=>SLe(l,d,n));for(let l of s)CLe(l,t,n)?(o=l,i||(i=l)):(o&&r.push([i,o]),o=null,i=null);i&&r.push([i,null]);let a=[];for(let[l,d]of r)l===d?a.push(l):!d&&l===s[0]?a.push("*"):d?l===s[0]?a.push(`<=${d}`):a.push(`${l} - ${d}`):a.push(`>=${l}`);let u=a.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return u.length<c.length?u:t}});var dse=w((Tit,lse)=>{var ase=Ao(),FP=xw(),{ANY:Kq}=FP,_w=Ew(),Xq=Ro(),TLe=(e,t,n={})=>{if(e===t)return!0;e=new ase(e,n),t=new ase(t,n);let r=!1;e:for(let i of e.set){for(let o of t.set){let s=ILe(i,o,n);if(r=r||s!==null,s)continue e}if(r)return!1}return!0},ILe=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Kq){if(t.length===1&&t[0].semver===Kq)return!0;n.includePrerelease?e=[new FP(">=0.0.0-0")]:e=[new FP(">=0.0.0")]}if(t.length===1&&t[0].semver===Kq){if(n.includePrerelease)return!0;t=[new FP(">=0.0.0")]}let r=new Set,i,o;for(let f of e)f.operator===">"||f.operator===">="?i=cse(i,f,n):f.operator==="<"||f.operator==="<="?o=use(o,f,n):r.add(f.semver);if(r.size>1)return null;let s;if(i&&o){if(s=Xq(i.semver,o.semver,n),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let f of r){if(i&&!_w(f,String(i),n)||o&&!_w(f,String(o),n))return null;for(let m of t)if(!_w(f,String(m),n))return!1;return!0}let a,u,c,l,d=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1,p=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let f of t){if(l=l||f.operator===">"||f.operator===">=",c=c||f.operator==="<"||f.operator==="<=",i){if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),f.operator===">"||f.operator===">="){if(a=cse(i,f,n),a===f&&a!==i)return!1}else if(i.operator===">="&&!_w(i.semver,String(f),n))return!1}if(o){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator==="<"||f.operator==="<="){if(u=use(o,f,n),u===f&&u!==o)return!1}else if(o.operator==="<="&&!_w(o.semver,String(f),n))return!1}if(!f.operator&&(o||i)&&s!==0)return!1}return!(i&&c&&!o&&s!==0||o&&l&&!i&&s!==0||p||d)},cse=(e,t,n)=>{if(!e)return t;let r=Xq(e.semver,t.semver,n);return r>0?e:r<0||t.operator===">"&&e.operator===">="?t:e},use=(e,t,n)=>{if(!e)return t;let r=Xq(e.semver,t.semver,n);return r<0?e:r>0||t.operator==="<"&&e.operator==="<="?t:e};lse.exports=TLe});var mse=w((Iit,fse)=>{var Qq=hp(),PLe=fw(),RLe=hr(),pse=Uq(),ALe=gp(),DLe=Uie(),kLe=$ie(),OLe=Bie(),NLe=Kie(),LLe=Qie(),FLe=Zie(),MLe=toe(),ULe=roe(),qLe=Ro(),$Le=ooe(),jLe=aoe(),HLe=PP(),BLe=doe(),VLe=foe(),WLe=gw(),GLe=RP(),zLe=IP(),YLe=qq(),KLe=AP(),XLe=DP(),QLe=$q(),JLe=Eoe(),ZLe=xw(),eFe=Ao(),tFe=Ew(),nFe=Uoe(),rFe=$oe(),iFe=Hoe(),oFe=Woe(),sFe=zoe(),aFe=LP(),cFe=Zoe(),uFe=tse(),lFe=ise(),dFe=sse(),pFe=dse();fse.exports={parse:ALe,valid:DLe,clean:kLe,inc:OLe,diff:NLe,major:LLe,minor:FLe,patch:MLe,prerelease:ULe,compare:qLe,rcompare:$Le,compareLoose:jLe,compareBuild:HLe,sort:BLe,rsort:VLe,gt:WLe,lt:GLe,eq:zLe,neq:YLe,gte:KLe,lte:XLe,cmp:QLe,coerce:JLe,Comparator:ZLe,Range:eFe,satisfies:tFe,toComparators:nFe,maxSatisfying:rFe,minSatisfying:iFe,minVersion:oFe,validRange:sFe,outside:aFe,gtr:cFe,ltr:uFe,intersects:lFe,simplifyRange:dFe,subset:pFe,SemVer:RLe,re:Qq.re,src:Qq.src,tokens:Qq.t,SEMVER_SPEC_VERSION:PLe.SEMVER_SPEC_VERSION,compareIdentifiers:pse.compareIdentifiers,rcompareIdentifiers:pse.rcompareIdentifiers}});var Eae=w((oct,h1e)=>{h1e.exports={name:"remote-containers",displayName:"Dev Containers",description:"Open any folder or repository inside a Docker container and take advantage of Visual Studio Code's full feature set.",version:"0.282.0",preview:!0,publisher:"ms-vscode-remote",icon:"resources/dev-containers.png",repository:{type:"git",url:"https://github.com/Microsoft/vscode-remote-release.git"},bugs:{url:"https://github.com/Microsoft/vscode-remote-release/issues"},license:"SEE LICENSE IN LICENSE.txt",engines:{vscode:"^1.75.0"},extensionKind:["ui"],capabilities:{untrustedWorkspaces:{supported:"limited",description:"Opening a folder in a container requires workspace trust."},virtualWorkspaces:!0},categories:["Other"],keywords:["remote","docker","containers","remote development","dev container","development container","continueOn"],aiKey:"0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255",activationEvents:["onStartupFinished","workspaceContains:.devcontainer/devcontainer.json","workspaceContains:.devcontainer.json","onResolveRemoteAuthority:dev-container","onResolveRemoteAuthority:attached-container","onResolveRemoteAuthority:k8s-container","onDebugResolve:extensionHost"],main:"./dist/extension/extension",enabledApiProposals:["resolvers","tunnels","workspaceTrust","terminalDimensions","contribEditSessions","contribViewsRemote","contribRemoteHelp"],contributes:{continueEditSession:[{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",group:"0_local@2",when:"!isWeb && remoteHub:hasVirtualFolders",qualifiedName:"Continue Working in Container Volume",remoteGroup:"remote_30_dev-container_2_actions@8"},{command:"remote-containers.openRepositoryFromGitWithEditSession",group:"0_local@2",when:"git.state == initialized && gitOpenRepositoryCount != 0 && remoteName =~ /(codespaces*.*|tunnel)/ && false",qualifiedName:"Continue Working in Container Volume",remoteGroup:"remote_30_dev-container_2_actions@8"}],languages:[{id:"jsonc",filenames:["devcontainer-feature.json"]}],jsonValidation:[{fileMatch:"devcontainer-feature.json",url:"https://raw.githubusercontent.com/devcontainers/spec/main/schemas/devContainerFeature.schema.json"}],configuration:{title:"Dev Containers",properties:{"remote.containers.defaultExtensions":{scope:"application",deprecationMessage:"Use 'dev.containers.defaultExtensions' instead.",markdownDeprecationMessage:"Use `#dev.containers.defaultExtensions#` instead."},"dev.containers.defaultExtensions":{scope:"application",type:"array",description:"Configures the list of extensions to always install while creating a container.",default:[],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"Expected format '${publisher}.${name}'. Example: 'vscode.csharp'."}},"dev.containers.defaultFeatures":{scope:"application",type:"object",description:"Configures the list of features to always install while creating a container.",default:{}},"remote.containers.workspaceMountConsistency":{scope:"application",deprecationMessage:"Use 'dev.containers.workspaceMountConsistency' instead.",markdownDeprecationMessage:"Use `#dev.containers.workspaceMountConsistency#` instead."},"dev.containers.workspaceMountConsistency":{scope:"application",type:"string",enum:["consistent","cached","delegated"],enumDescriptions:["Perfect consistency.","The host\u2019s view is authoritative.","The container\u2019s view is authoritative."],description:"The consistency level used for the workspace mount (existing containers must be rebuilt to take effect).",default:"cached"},"remote.containers.cacheVolume":{scope:"application",deprecationMessage:"Use 'dev.containers.cacheVolume' instead.",markdownDeprecationMessage:"Use `#dev.containers.cacheVolume#` instead."},"dev.containers.cacheVolume":{scope:"application",type:"boolean",description:"Controls whether a Docker volume should be used to cache the VS Code server and extensions. Currently only applies to single container and not Docker Compose configurations.",default:!0},"remote.containers.copyGitConfig":{scope:"machine",deprecationMessage:"Use 'dev.containers.copyGitConfig' instead.",markdownDeprecationMessage:"Use `#dev.containers.copyGitConfig#` instead."},"dev.containers.copyGitConfig":{scope:"machine",type:"boolean",markdownDescription:"Controls whether the Git configuration (`~/.gitconfig`) should be copied into the container. This is done after installing any `#dotfiles.repository#` and will not overwrite an existing Git configuration file.",default:!0},"remote.containers.gitCredentialHelperConfigLocation":{scope:"machine",deprecationMessage:"Use 'dev.containers.gitCredentialHelperConfigLocation' instead.",markdownDeprecationMessage:"Use `#dev.containers.gitCredentialHelperConfigLocation#` instead."},"dev.containers.gitCredentialHelperConfigLocation":{scope:"machine",type:"string",enum:["system","global","none"],enumDescriptions:["Write to system config (`/etc/gitconfig`, requires root access).","Write to user config (`~/.gitconfig`).","Do not set a credential helper."],description:"Where to write the configuration for the Git credential helper.",default:"global"},"dev.containers.dockerCredentialHelper":{scope:"machine",type:"boolean",markdownDescription:"Controls whether a credential helper should be registered as the `credStore` in the Docker configuration (`~/.docker/config.json`) of dev containers. This will not overwrite an existing `credStore` entry in the configuration file.",default:!0},"remote.containers.logLevel":{scope:"application",deprecationMessage:"Use 'dev.containers.logLevel' instead.",markdownDeprecationMessage:"Use `#dev.containers.logLevel#` instead."},"dev.containers.logLevel":{scope:"application",type:"string",description:"The log level for the extension.",default:"debug",enum:["info","debug","trace"]},"remote.containers.dockerPath":{scope:"application",deprecationMessage:"Use 'dev.containers.dockerPath' instead.",markdownDeprecationMessage:"Use `#dev.containers.dockerPath#` instead."},"dev.containers.dockerPath":{scope:"application",type:"string",description:"Docker (or Podman) executable name or path.",default:"docker"},"remote.containers.dockerComposePath":{scope:"application",deprecationMessage:"Use 'dev.containers.dockerComposePath' instead.",markdownDeprecationMessage:"Use `#dev.containers.dockerComposePath#` instead."},"dev.containers.dockerComposePath":{scope:"application",type:"string",description:"Docker Compose executable name or path.",default:"docker-compose"},"remote.containers.executeInWSL":{scope:"application",deprecationMessage:"Use 'dev.containers.executeInWSL' instead.",markdownDeprecationMessage:"Use `#dev.containers.executeInWSL#` instead."},"dev.containers.executeInWSL":{scope:"application",type:"boolean",description:"Controls whether CLI commands should always be executed in WSL. The default is to only execute in WSL for workspace folders in WSL. This setting has no effect on other platforms than Windows.",default:!1},"remote.containers.executeInWSLDistro":{scope:"application",deprecationMessage:"Use 'dev.containers.executeInWSLDistro' instead.",markdownDeprecationMessage:"Use `#dev.containers.executeInWSLDistro#` instead."},"dev.containers.executeInWSLDistro":{scope:"application",type:"string",markdownDescription:"WSL distro to use when not reopening a WSL folder. The default is to use the default WSL distro (see `wsl -l`). This setting has no effect when `#dev.containers.executeInWSL#` is not enabled or on other platforms than Windows."},"dotfiles.repository":{scope:"machine",type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git) or owner/repository of a GitHub repository."},"dotfiles.installCommand":{scope:"machine",type:"string",description:"The command to run after cloning the dotfiles repository. Defaults to run the first file of `install.sh`, `install`, `bootstrap.sh`, `bootstrap`, `setup.sh` and `setup` found in the dotfiles repository's root folder."},"dotfiles.targetPath":{scope:"machine",type:"string",description:"The path to clone the dotfiles repository to. Defaults to `~/dotfiles`.",default:"~/dotfiles"},"remote.containers.dotfiles.repository":{scope:"machine",deprecationMessage:"Use 'dotfiles.repository' instead.",markdownDeprecationMessage:"Use `#dotfiles.repository#` instead."},"remote.containers.dotfiles.installCommand":{scope:"machine",deprecationMessage:"Use 'dotfiles.installCommand' instead.",markdownDeprecationMessage:"Use `#dotfiles.installCommand#` instead."},"remote.containers.dotfiles.targetPath":{scope:"machine",description:"Deprecated setting. Use 'dotfiles.targetPath' instead.",deprecationMessage:"Use 'dotfiles.targetPath' instead.",markdownDeprecationMessage:"Use `#dotfiles.targetPath#` instead."},"remote.containers.repositoryConfigurationPaths":{scope:"application",description:"Deprecated setting. Use 'dev.containers.repositoryConfigurationPaths' instead.",deprecationMessage:"Use 'dev.containers.repositoryConfigurationPaths' instead.",markdownDeprecationMessage:"Use `#dev.containers.repositoryConfigurationPaths#` instead."},"dev.containers.repositoryConfigurationPaths":{scope:"application",type:"array",markdownDescription:"List of additional paths to search for [repository configurations](https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers).",default:[],items:{type:"string"}}}},commands:[{command:"remote-containers.reopenInContainer",title:"Reopen in Container",category:"Dev Containers"},{command:"remote-containers.rebuildAndReopenInContainer",title:"Rebuild and Reopen in Container",category:"Dev Containers"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",title:"Rebuild Without Cache and Reopen in Container",category:"Dev Containers"},{command:"remote-containers.reopenLocally",title:"Reopen Folder Locally",category:"Dev Containers"},{command:"remote-containers.reopenInWSL",title:"Reopen Folder in WSL",category:"Dev Containers"},{command:"remote-containers.reopenInSSH",title:"Reopen Folder in SSH",category:"Dev Containers"},{command:"remote-containers.openFolder",title:"Open Folder in Container...",category:"Dev Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.startAndOpenFolder",title:"Open Folder in Container",category:"Dev Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.openInformationAboutMountPerformance",title:"Clone repository in Docker volume for better I/O performance.",category:"Dev Containers",icon:"$(info)"},{command:"remote-containers.openRepositoryInVolume",title:"Clone Repository in Named Container Volume...",category:"Dev Containers"},{command:"remote-containers.openRepositoryInUniqueVolume",title:"Clone Repository in Container Volume...",icon:"$(repo-clone)",category:"Dev Containers"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",title:"Clone Repository in a Container Volume",icon:"$(repo-clone)",category:"Dev Containers"},{command:"remote-containers.openRepositoryFromGitWithEditSession",title:"Clone Repository in a Container Volume",icon:"$(repo-clone)",category:"Dev Containers"},{command:"remote-containers.openPullRequestInVolume",title:"Clone GitHub Pull Request in Container Volume...",category:"Dev Containers"},{command:"remote-containers.inspectVolume",title:"Explore a Volume in a Dev Container...",category:"Dev Containers"},{command:"remote-containers.openWorkspace",title:"Open Workspace in Container...",category:"Dev Containers"},{command:"remote-containers.attachToRunningContainer",title:"Attach to Running Container...",category:"Dev Containers"},{command:"remote-containers.attachToRunningContainerFromViewlet",title:"Attach Visual Studio Code",category:"Dev Containers"},{command:"remote-containers.inspectVolumeFromViewlet",title:"Explore in a Dev Container",category:"Dev Containers"},{command:"remote-containers.cloneInVolumeFromViewlet",title:"Clone into existing Volume",category:"Dev Containers"},{command:"remote-containers.pruneVolumes",title:"Remove Unused Volumes...",category:"Dev Containers",icon:"$(clear-all)"},{command:"remote-containers.explorerVolumesRefresh",title:"Refresh",category:"Dev Containers",icon:"$(refresh)"},{command:"remote-containers.attachToK8sContainerFromViewlet",title:"Attach Visual Studio Code",category:"Dev Containers"},{command:"remote-containers.rebuildContainer",title:"Rebuild Container",category:"Dev Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.rebuildContainerNoCache",title:"Rebuild Container Without Cache",category:"Dev Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.createDevContainerFile",title:"Add Dev Container Configuration Files...",category:"Dev Containers"},{command:"remote-containers.createDevContainer",title:"Create Dev Container...",category:"Dev Containers"},{command:"remote-containers.settings",title:"Settings",category:"Dev Containers"},{command:"remote-containers.getHelp",title:"Help",category:"Dev Containers"},{command:"remote-containers.getStarted",title:"Get Started with Dev Containers",category:"Dev Containers"},{command:"remote-containers.trySample",title:"Try a Dev Container Sample...",category:"Dev Containers"},{command:"remote-containers.reportIssue",title:"Report Issue...",category:"Dev Containers"},{command:"remote-containers.provideFeedback",title:"Provide Feedback",category:"Dev Containers"},{command:"remote-containers.openDevContainerFile",title:"Open Container Configuration File",category:"Dev Containers",icon:{light:"resources/light/gear.svg",dark:"resources/dark/gear.svg"}},{command:"remote-containers.openAttachConfigByNameFile",title:"Open Named Container Configuration File",category:"Dev Containers"},{command:"remote-containers.openAttachDevContainerFile",title:"Open Attached Container Configuration File...",category:"Dev Containers"},{command:"remote-containers.revealLogTerminal",title:"Show Container Log",category:"Dev Containers"},{command:"remote-containers.openLogFile",title:"Show All Logs...",category:"Dev Containers Developer"},{command:"remote-containers.openLastLogFile",title:"Show Previous Log",category:"Dev Containers"},{command:"remote-containers.attachToContainer",title:"Attach to Container",category:"Dev Containers",icon:{light:"resources/light/empty-window.svg",dark:"resources/dark/empty-window.svg"}},{command:"remote-containers.attachToContainerNewWindow",title:"Attach in New Window",category:"Dev Containers"},{command:"remote-containers.stopContainer",title:"Stop Container",category:"Dev Containers"},{command:"remote-containers.startContainer",title:"Start Container",category:"Dev Containers",icon:{light:"resources/light/vm-start.svg",dark:"resources/dark/vm-start.svg"}},{command:"remote-containers.removeContainer",title:"Remove Container",category:"Dev Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.removeRecentFolder",title:"Remove Recent Folder",category:"Dev Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.showDetails",title:"Show Details",category:"Dev Containers"},{command:"remote-containers.explorerTargetsRefresh",title:"Refresh",category:"Dev Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.explorerDetailsRefresh",title:"Refresh",category:"Dev Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.inspectDockerResource",title:"Inspect",category:"Dev Containers"},{command:"remote-containers.inspectInBasicDevContainer",title:"Explore in Dev Container",category:"Dev Containers"},{command:"remote-containers.cloneInVolume",title:"Clone Repository in Volume",category:"Dev Containers"},{command:"remote-containers.removeVolume",title:"Remove",category:"Dev Containers"},{command:"remote-containers.newContainer",title:"New Container",category:"Dev Containers",icon:{light:"resources/light/plus.svg",dark:"resources/dark/plus.svg"}},{command:"remote-containers.showContainerLog",title:"Show Container Log",category:"Dev Containers"},{command:"remote-containers.addExtensionToConfig",title:"Add to devcontainer.json",category:"Dev Containers"},{command:"remote-containers.checkoutPRInVolume",title:"Checkout Pull Request in Dev Container",category:"Dev Containers"},{command:"remote-containers.showReopenInContainerNotificationReset",title:"Reset Don't Show Reopen Notification",category:"Dev Containers"},{command:"remote-containers.showRecoveryContainerNotificationReset",title:"Reset Don't Show Recovery Container Notification",category:"Dev Containers"},{command:"remote-containers.labelPortAndUpdateConfig",title:"Set Label and Update devcontainer.json",category:"Dev Containers",icon:"$(tag)"},{command:"remote-containers.installDocker",title:"Install Docker",category:"Dev Containers"},{command:"remote-containers.installUserCLI",title:"Install devcontainer CLI",category:"Dev Containers"},{command:"remote-containers.configureContainerFeatures",title:"Configure Container Features...",category:"Dev Containers"}],menus:{commandPalette:[{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName == dev-container && isRecoveryContainer"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenLocally",when:"canReopenLocally"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH"},{command:"remote-containers.openFolder",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openRepositoryInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openPullRequestInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.createDevContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openWorkspace",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainerFromViewlet",when:"false"},{command:"remote-containers.inspectVolumeFromViewlet",when:"false"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",when:"false"},{command:"remote-containers.openRepositoryFromGitWithEditSession",when:"false"},{command:"remote-containers.cloneInVolumeFromViewlet",when:"false"},{command:"remote-containers.inspectInBasicDevContainer",when:"false"},{command:"remote-containers.cloneInVolume",when:"false"},{command:"remote-containers.removeVolume",when:"false"},{command:"remote-containers.attachToK8sContainerFromViewlet",when:"false"},{command:"remote-containers.checkoutPRInVolume",when:"false"},{command:"remote-containers.rebuildContainer",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainerNoCache",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.createDevContainerFile",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openDevContainerFile",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.openAttachConfigByNameFile",when:"remoteName == attached-container"},{command:"remote-containers.openAttachDevContainerFile",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.getStarted",when:"!remoteName && !virtualWorkspace || remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.trySample",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.provideFeedback",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.attachToContainer",when:"false"},{command:"remote-containers.attachToContainerNewWindow",when:"false"},{command:"remote-containers.stopContainer",when:"false"},{command:"remote-containers.removeContainer",when:"false"},{command:"remote-containers.startContainer",when:"false"},{command:"remote-containers.removeRecentFolder",when:"false"},{command:"remote-containers.showDetails",when:"false"},{command:"remote-containers.explorerTargetsRefresh",when:"false"},{command:"remote-containers.explorerVolumesRefresh",when:"false"},{command:"remote-containers.explorerDetailsRefresh",when:"false"},{command:"remote-containers.inspectDockerResource",when:"false"},{command:"remote-containers.startAndOpenFolder",when:"false"},{command:"remote-containers.openInformationAboutMountPerformance",when:"false"},{command:"remote-containers.newContainer",when:"false"},{command:"remote-containers.showContainerLog",when:"false"},{command:"remote-containers.labelPortAndUpdateConfig",when:"false"},{command:"remote-containers.addExtensionToConfig",when:"false"},{command:"remote-containers.configureContainerFeatures",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"}],"statusBar/remoteIndicator":[{command:"remote-containers.createDevContainer",group:"remote_30_dev-container_2_actions@1",when:"true"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@2",when:"true"},{command:"remote-containers.configureContainerFeatures",group:"remote_30_dev-container_2_actions@3",when:"remoteName =~ /^(dev-container)$/"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@4",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@4",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"workspaceFolderCount == 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"remoteName =~ /tunnel*.*/ && gitOpenRepositoryCount == 0"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"workspaceFolderCount == 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenLocally",group:"remote_30_dev-container_2_actions@6",when:"canReopenLocally"},{command:"remote-containers.reopenInWSL",group:"remote_30_dev-container_2_actions@6",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",group:"remote_30_dev-container_2_actions@6",when:"canReopenInSSH"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@7",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@7",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"}],"view/title":[{command:"remote-containers.explorerTargetsRefresh",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation"},{command:"remote-containers.newContainer",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation"},{command:"remote-containers.explorerDetailsRefresh",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.attachToContainer",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.rebuildContainer",when:"view == detailsContainers && remoteName == dev-container",group:"navigation"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && remoteName =~ /^(dev|attached)-container$/",group:"navigation"},{command:"remote-containers.pruneVolumes",when:"view == devVolumes",group:"navigation@2"},{command:"remote-containers.explorerVolumesRefresh",when:"view == devVolumes",group:"navigation@3"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"view == devVolumes",group:"navigation@1"}],"view/item/context":[{command:"remote-containers.attachToRunningContainerFromViewlet",when:"view == dockerContainers && viewItem =~ /^runningContainer$/i && vscode-docker:aciContext != true",group:"containers_1_general@2"},{command:"remote-containers.inspectVolumeFromViewlet",when:"view == dockerVolumes && viewItem == volume && vscode-docker:aciContext != true",group:"volumes_1_general@2"},{command:"remote-containers.checkoutPRInVolume",when:"view =~ /pr:/ && viewItem =~ /pullrequest(:local)?:nonactive|description/"},{command:"remote-containers.attachToK8sContainerFromViewlet",group:"2@4",when:"remoteName =~ /^(wsl)?$/ && view == extension.vsKubernetesExplorer && viewItem =~ /vsKubernetes\\.resource\\.pod/i"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@1"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"2_folder@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"inline@2"},{command:"workbench.action.closeFolder",when:"view == targetsContainers && viewItem =~ /active.*Folder/",group:"1_folder@1"},{command:"remote-containers.reopenLocally",when:"canReopenLocally && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"inline@1"},{command:"remote-containers.attachToContainerNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@2"},{command:"remote-containers.stopContainer",when:"view == targetsContainers && viewItem =~ /^(active|running)(Dev|)Container/",group:"2_container@2"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"2_container@3"},{command:"remote-containers.rebuildContainer",when:"view == targetsContainers && viewItem =~ /activeDevContainer/",group:"2_container@1"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"inline@2"},{command:"remote-containers.startContainer",when:"view == targetsContainers && viewItem =~ /^exited(Dev|)Container/",group:"1_container@3"},{command:"remote-containers.showDetails",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@4"},{command:"remote-containers.inspectDockerResource",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@5"},{command:"remote-containers.showContainerLog",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@6"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && viewItem == devContainer"},{command:"remote-containers.inspectDockerResource",when:"view == detailsContainers && viewItem =~ /^(image|volume)$/"},{command:"remote-containers.openInformationAboutMountPerformance",when:"view == detailsContainers && viewItem == mountPerformanceInfo",group:"inline@1"},{command:"remote-containers.cloneInVolume",when:"view == devVolumes && viewItem =~ /^(devVolume)$/",group:"1_volumes@1"},{command:"remote-containers.inspectInBasicDevContainer",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@1"},{command:"remote-containers.inspectDockerResource",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@2"},{command:"remote-containers.removeVolume",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"3_volumes-destructive@1"}],"ports/item/port/inline":[{command:"remote-containers.labelPortAndUpdateConfig",group:"0_manage@4",when:"remoteName =~ /^(dev|attached)-container$/ && tunnelType == Forwarded"}],"extension/context":[{command:"remote-containers.addExtensionToConfig",group:"2_configure",when:"!isBuiltinExtension && remoteName =~ /^(dev-container|attached-container|wsl|ssh-remote)?$/"}]},resourceLabelFormatters:[{scheme:"vscode-remote",authority:"dev-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Dev Container"}},{scheme:"vscode-remote",authority:"attached-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Container"}},{scheme:"vscode-remote",authority:"exec+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Exec"}},{scheme:"vscode-remote",authority:"k8s-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Kubernetes"}}],views:{remote:[{id:"targetsContainers",name:"Containers",group:"targets@2",remoteName:["dev-container","attached-container","exec","k8s-container"]},{id:"detailsContainers",name:"Details (Containers)",when:"remote-containers:showDetails",group:"details@1",remoteName:["dev-container","attached-container"]},{id:"devVolumes",name:"Dev Volumes",group:"details@2",remoteName:["dev-container","attached-container"]}]},viewsWelcome:[{view:"targetsContainers",when:"remote-containers:needsDockerStartOrInstall",contents:"Get started with containers by [installing Docker](command:remote-containers.installDocker) or by visiting the [help view](command:~remote.helpPanel.focus). [Refresh](command:remote-containers.explorerTargetsRefresh) after installation and startup."},{view:"targetsContainers",when:"remote-containers:needsSSHCredentials",contents:"[Refresh](command:remote-containers.explorerTargetsRefresh) to provide SSH credentials."},{view:"targetsContainers",when:"remote-containers:noContainersWithFolder",contents:`Get started with containers by running one of the [Dev Containers](command:remote-containers.newContainer) commands.
You can [reopen the current folder in a container](command:remote-containers.reopenInContainer), or open another folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"targetsContainers",when:"remote-containers:noContainersWithoutFolder",contents:`Get started with containers by running one of the [Dev Containers](command:remote-containers.newContainer) commands.
You can open an existing folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"devVolumes",when:"remote-containers:noDevVolumes",contents:`If there's a repository you want to work with you can clone that directly in a container volume.
[Clone Repository in Container Volume](command:remote-containers.openRepositoryInUniqueVolume)
`}],remoteHelp:{getStarted:"https://aka.ms/vscode-remote/containers/tutorial-sandbox",feedback:"https://aka.ms/vscode-remote/containers/provide-feedback",documentation:"https://aka.ms/vscode-remote/containers",issues:"https://aka.ms/vscode-remote/containers/issues",remoteName:["dev-container","attached-container","exec","k8s-container"]}},scripts:{"vscode:prepublish":"npx npm-run-all --npm-path npm clean definitions compile-prod dev-containers-user-cli-prepare",compile:"npx npm-run-all --npm-path npm clean-dist definitions compile-dev",watch:"npx npm-run-all --npm-path npm clean-dist definitions compile-watch",postinstall:"yarn --cwd node_modules/@devcontainers/cli",precommit:"node build/hygiene.js",package:"vsce package --yarn",definitions:"npx npm-run-all --npm-path npm definitions-clean definitions-copy",lint:"eslint -c .eslintrc.js --rulesdir ./build/eslint --max-warnings 0 --ext .ts ./src ./test","compile-prod":"npx npm-run-all --npm-path npm compile-cli-prod copy-cli esbuild-prod","compile-dev":"npx npm-run-all --npm-path npm compile-cli-dev copy-cli esbuild-dev","compile-watch":"npx npm-run-all --npm-path npm --parallel compile-cli-watch watch-cli esbuild-watch","esbuild-prod":"node esbuild.js --production","esbuild-dev":"node esbuild.js","esbuild-watch":"node esbuild.js --watch","compile-cli-prod":"yarn --cwd node_modules/@devcontainers/cli compile-prod","compile-cli-dev":"yarn --cwd node_modules/@devcontainers/cli compile-dev","compile-cli-watch":"yarn --cwd node_modules/@devcontainers/cli compile-watch","copy-cli":'copyfiles --up 4 --all "node_modules/@devcontainers/cli/dist/spec-node/devContainersSpecCLI.js" dist',"watch-cli":"npm-watch","type-check":"npx npm-run-all --npm-path npm clean-built tsc-b","tsc-b":"tsc -b","type-check-watch":"npx npm-run-all --npm-path npm clean-built tsc-b-w","tsc-b-w":"tsc -b -w","definitions-clean":"rimraf dist/node_modules/vscode-dev-containers","definitions-copy":'copyfiles --up 3 --all "node_modules/@devcontainers/cli/node_modules/vscode-dev-containers/**/*" dist',"dev-containers-cli-publish":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-publish","dev-containers-cli-package":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-pack","dev-containers-cli-prepare":"npx npm-run-all --npm-path npm clean dev-containers-cli-compile dev-containers-cli-copy-module dev-containers-cli-copy-definitions","dev-containers-cli-compile":"npx npm-run-all --npm-path npm compile-prod","dev-containers-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-cli',"dev-containers-cli-copy-definitions":'copyfiles --up 3 --all "node_modules/@devcontainers/cli/node_modules/vscode-dev-containers/**/*" dev-containers-cli/dist',"dev-containers-cli-npm-publish":"cd dev-containers-cli && npm publish","dev-containers-cli-npm-pack":"cd dev-containers-cli && npm pack","dev-containers-user-cli-package":"npx npm-run-all --npm-path npm dev-containers-user-cli-prepare dev-containers-user-cli-npm-pack","dev-containers-user-cli-prepare":"npx npm-run-all --npm-path npm dev-containers-user-cli-copy-module dev-containers-user-cli-copy-definitions","dev-containers-user-cli-clean-prepare":"npx npm-run-all --npm-path npm clean dev-containers-user-prepare","dev-containers-user-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersUserCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-user-cli',"dev-containers-user-cli-copy-definitions":'copyfiles --up 3 --all "node_modules/@devcontainers/cli/node_modules/vscode-dev-containers/**/*" dev-containers-user-cli/dist',"dev-containers-user-cli-npm-pack":"cd dev-containers-user-cli && npm pack",clean:"npx npm-run-all --npm-path npm clean-dist clean-built","clean-dist":"rimraf dist dev-containers-cli/dist dev-containers-cli/scripts dev-containers-user-cli/dist dev-containers-user-cli/scripts","clean-built":"rimraf built",test:"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit test/core/**/*.test.ts","test-matrix":"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit","test-no-env":"mocha -r ts-node/register --exit test/core/**/*.test.ts","test-dev-containers":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/**/*.test.ts",copytestconfigsforalpine:"/bin/bash -c 'cd test/configs && for f in *; do if [[ -d $f ]] && [[ $f != *alpine* ]]; then cp -r -T $f $f-alpine ; fi ; done'"},watch:{"copy-cli":"node_modules/@devcontainers/cli/dist/spec-node/devContainersSpecCLI.js"},devDependencies:{"@types/chai":"^4.3.4","@types/follow-redirects":"^1.14.1","@types/js-yaml":"^4.0.5","@types/markdown-it":"^12.2.3","@types/minimist":"^1.2.2","@types/mocha":"^10.0.1","@types/ncp":"^2.0.5","@types/node":"^18.11.11","@types/pull-stream":"^3.6.2","@types/recursive-readdir":"^2.2.1","@types/semver":"^7.3.13","@types/shell-quote":"^1.7.1","@types/stats-lite":"^2.2.0","@types/tar":"^6.1.3","@types/vscode":"~1.71.0","@types/yargs":"^17.0.16","@typescript-eslint/eslint-plugin":"^5.45.1","@typescript-eslint/experimental-utils":"^5.45.1","@typescript-eslint/parser":"^5.45.1",ajv:"^8.11.2",chai:"^4.3.7",copyfiles:"^2.4.1",esbuild:"^0.16.1",eslint:"^8.29.0","event-stream":"^4.0.1","gulp-eslint":"^6.0.0","gulp-filter":"^7.0.0",husky:"^8.0.2",jsonc:"^2.0.0",mocha:"^10.1.0","mocha-junit-reporter":"^2.2.0","npm-run-all":"^4.1.5","npm-watch":"^0.11.0","p-all":"^4.0.0",rimraf:"^3.0.2","ts-node":"^10.9.1",typescript:"^4.9.3","typescript-formatter":"^7.2.2",vinyl:"^3.0.0","vinyl-fs":"^3.0.3",vsce:"^2.15.0"},dependencies:{"@devcontainers/cli":"https://github.com/devcontainers/cli.git#7cdffe8a842f2d16fe8c545500f61ebb0a9d3fad","@vscode/extension-telemetry":"^0.7.5",applicationinsights:"^2.3.6","find-process":"^1.4.7","follow-redirects":"^1.15.2","js-yaml":"^4.1.0","jsonc-parser":"^3.2.0","markdown-it":"^13.0.1",minimist:"^1.2.7",muxrpc:"^6.7.3","node-pty":"^0.10.1","pull-pushable":"^2.2.0","pull-stream":"^3.7.0","pull-stream-to-stream":"^2.0.0",semver:"^7.3.8","shell-quote":"^1.7.4","stats-lite":"^2.2.0","stream-to-pull-stream":"^1.7.3",tar:"^6.1.12","vscode-tas-client":"^0.1.63","vscode-uri":"^3.0.6",yaml:"^2.1.3",yargs:"~17.6.2"}}});var W1e={};bs(W1e,{activate:()=>g1e,attachToContainer:()=>QP,deactivate:()=>w1e});module.exports=ui(W1e);var A=V(require("vscode")),Tae=V(require("os")),r0=V(require("fs")),rn=V(require("path")),Iae=V(require("querystring"));function wg(e,t=!1){let n=e.length,r=0,i="",o=0,s=16,a=0,u=0,c=0,l=0,d=0;function p(x,E){let _=0,C=0;for(;_<x||!E;){let P=e.charCodeAt(r);if(P>=48&&P<=57)C=C*16+P-48;else if(P>=65&&P<=70)C=C*16+P-65+10;else if(P>=97&&P<=102)C=C*16+P-97+10;else break;r++,_++}return _<x&&(C=-1),C}function f(x){r=x,i="",o=0,s=16,d=0}function m(){let x=r;if(e.charCodeAt(r)===48)r++;else for(r++;r<e.length&&Cp(e.charCodeAt(r));)r++;if(r<e.length&&e.charCodeAt(r)===46)if(r++,r<e.length&&Cp(e.charCodeAt(r)))for(r++;r<e.length&&Cp(e.charCodeAt(r));)r++;else return d=3,e.substring(x,r);let E=r;if(r<e.length&&(e.charCodeAt(r)===69||e.charCodeAt(r)===101))if(r++,(r<e.length&&e.charCodeAt(r)===43||e.charCodeAt(r)===45)&&r++,r<e.length&&Cp(e.charCodeAt(r))){for(r++;r<e.length&&Cp(e.charCodeAt(r));)r++;E=r}else d=3;return e.substring(x,E)}function h(){let x="",E=r;for(;;){if(r>=n){x+=e.substring(E,r),d=2;break}let _=e.charCodeAt(r);if(_===34){x+=e.substring(E,r),r++;break}if(_===92){if(x+=e.substring(E,r),r++,r>=n){d=2;break}switch(e.charCodeAt(r++)){case 34:x+='"';break;case 92:x+="\\";break;case 47:x+="/";break;case 98:x+="\b";break;case 102:x+="\f";break;case 110:x+=`
`;break;case 114:x+="\r";break;case 116:x+="	";break;case 117:let P=p(4,!0);P>=0?x+=String.fromCharCode(P):d=4;break;default:d=5}E=r;continue}if(_>=0&&_<=31)if(xg(_)){x+=e.substring(E,r),d=2;break}else d=6;r++}return x}function g(){if(i="",d=0,o=r,u=a,l=c,r>=n)return o=n,s=17;let x=e.charCodeAt(r);if(a0(x)){do r++,i+=String.fromCharCode(x),x=e.charCodeAt(r);while(a0(x));return s=15}if(xg(x))return r++,i+=String.fromCharCode(x),x===13&&e.charCodeAt(r)===10&&(r++,i+=`
`),a++,c=r,s=14;switch(x){case 123:return r++,s=1;case 125:return r++,s=2;case 91:return r++,s=3;case 93:return r++,s=4;case 58:return r++,s=6;case 44:return r++,s=5;case 34:return r++,i=h(),s=10;case 47:let E=r-1;if(e.charCodeAt(r+1)===47){for(r+=2;r<n&&!xg(e.charCodeAt(r));)r++;return i=e.substring(E,r),s=12}if(e.charCodeAt(r+1)===42){r+=2;let _=n-1,C=!1;for(;r<_;){let P=e.charCodeAt(r);if(P===42&&e.charCodeAt(r+1)===47){r+=2,C=!0;break}r++,xg(P)&&(P===13&&e.charCodeAt(r)===10&&r++,a++,c=r)}return C||(r++,d=1),i=e.substring(E,r),s=13}return i+=String.fromCharCode(x),r++,s=16;case 45:if(i+=String.fromCharCode(x),r++,r===n||!Cp(e.charCodeAt(r)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=m(),s=11;default:for(;r<n&&v(x);)r++,x=e.charCodeAt(r);if(o!==r){switch(i=e.substring(o,r),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(x),r++,s=16}}function v(x){if(a0(x)||xg(x))return!1;switch(x){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function y(){let x;do x=g();while(x>=12&&x<=15);return x}return{setPosition:f,getPosition:()=>r,scan:t?y:g,getToken:()=>s,getTokenValue:()=>i,getTokenOffset:()=>o,getTokenLength:()=>r-o,getTokenStartLine:()=>u,getTokenStartCharacter:()=>o-l,getTokenError:()=>d}}function a0(e){return e===32||e===9}function xg(e){return e===10||e===13}function Cp(e){return e>=48&&e<=57}var N$;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(N$||(N$={}));function c0(e,t,n){let r,i,o,s,a;if(t){for(s=t.offset,a=s+t.length,o=s;o>0&&!Eg(e,o-1);)o--;let x=a;for(;x<e.length&&!Eg(e,x);)x++;i=e.substring(o,x),r=jae(i,n)}else i=e,r=0,o=0,s=0,a=e.length;let u=Hae(n,e),c=0,l=0,d;n.insertSpaces?d=Sp(" ",n.tabSize||4):d="	";let p=wg(i,!1),f=!1;function m(){return c>1?Sp(u,c)+Sp(d,r+l):u+Sp(d,r+l)}function h(){let x=p.scan();for(c=0;x===15||x===14;)x===14&&n.keepLines?c+=1:x===14&&(c=1),x=p.scan();return f=x===16||p.getTokenError()!==0,x}let g=[];function v(x,E,_){!f&&(!t||E<a&&_>s)&&e.substring(E,_)!==x&&g.push({offset:E,length:_-E,content:x})}let y=h();if(n.keepLines&&c>0&&v(Sp(u,c),0,0),y!==17){let x=p.getTokenOffset()+o,E=Sp(d,r);v(E,o,x)}for(;y!==17;){let x=p.getTokenOffset()+p.getTokenLength()+o,E=h(),_="",C=!1;for(;c===0&&(E===12||E===13);){let T=p.getTokenOffset()+o;v(" ",x,T),x=p.getTokenOffset()+p.getTokenLength()+o,C=E===12,_=C?m():"",E=h()}if(E===2)y!==1&&l--,n.keepLines&&c>0||!n.keepLines&&y!==1?_=m():n.keepLines&&(_=" ");else if(E===4)y!==3&&l--,n.keepLines&&c>0||!n.keepLines&&y!==3?_=m():n.keepLines&&(_=" ");else{switch(y){case 3:case 1:l++,n.keepLines&&c>0||!n.keepLines?_=m():_=" ";break;case 5:n.keepLines&&c>0||!n.keepLines?_=m():_=" ";break;case 12:_=m();break;case 13:c>0?_=m():C||(_=" ");break;case 6:n.keepLines&&c>0?_=m():C||(_=" ");break;case 10:n.keepLines&&c>0?_=m():E===6&&!C&&(_="");break;case 7:case 8:case 9:case 11:case 2:case 4:n.keepLines&&c>0?_=m():(E===12||E===13)&&!C?_=" ":E!==5&&E!==17&&(f=!0);break;case 16:f=!0;break}c>0&&(E===12||E===13)&&(_=m())}E===17&&(n.keepLines&&c>0?_=m():_=n.insertFinalNewline?u:"");let P=p.getTokenOffset()+o;v(_,x,P),y=E}return g}function Sp(e,t){let n="";for(let r=0;r<t;r++)n+=e;return n}function jae(e,t){let n=0,r=0,i=t.tabSize||4;for(;n<e.length;){let o=e.charAt(n);if(o===" ")r++;else if(o==="	")r+=i;else break;n++}return Math.floor(r/i)}function Hae(e,t){for(let n=0;n<t.length;n++){let r=t.charAt(n);if(r==="\r")return n+1<t.length&&t.charAt(n+1)===`
`?`\r
`:"\r";if(r===`
`)return`
`}return e&&e.eol||`
`}function Eg(e,t){return`\r
`.indexOf(e.charAt(t))!==-1}var _g;(function(e){e.DEFAULT={allowTrailingComma:!1}})(_g||(_g={}));function L$(e,t){let n=[],r=new Object,i,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(u,c,l,d){o.value=u,o.offset=c,o.length=l,o.type=d,o.colonOffset=void 0,i=o}try{jw(e,{onObjectBegin:(u,c)=>{if(t<=u)throw r;i=void 0,s=t>u,n.push("")},onObjectProperty:(u,c,l)=>{if(t<c||(a(u,c,l,"property"),n[n.length-1]=u,t<=c+l))throw r},onObjectEnd:(u,c)=>{if(t<=u)throw r;i=void 0,n.pop()},onArrayBegin:(u,c)=>{if(t<=u)throw r;i=void 0,n.push(0)},onArrayEnd:(u,c)=>{if(t<=u)throw r;i=void 0,n.pop()},onLiteralValue:(u,c,l)=>{if(t<c||(a(u,c,l,M$(u)),t<=c+l))throw r},onSeparator:(u,c,l)=>{if(t<=c)throw r;if(u===":"&&i&&i.type==="property")i.colonOffset=c,s=!1,i=void 0;else if(u===","){let d=n[n.length-1];typeof d=="number"?n[n.length-1]=d+1:(s=!0,n[n.length-1]=""),i=void 0}}})}catch(u){if(u!==r)throw u}return{path:n,previousNode:i,isAtPropertyKey:s,matches:u=>{let c=0;for(let l=0;c<u.length&&l<n.length;l++)if(u[c]===n[l]||u[c]==="*")c++;else if(u[c]!=="**")return!1;return c===u.length}}}function F$(e,t=[],n=_g.DEFAULT){let r=null,i=[],o=[];function s(u){Array.isArray(i)?i.push(u):r!==null&&(i[r]=u)}return jw(e,{onObjectBegin:()=>{let u={};s(u),o.push(i),i=u,r=null},onObjectProperty:u=>{r=u},onObjectEnd:()=>{i=o.pop()},onArrayBegin:()=>{let u=[];s(u),o.push(i),i=u,r=null},onArrayEnd:()=>{i=o.pop()},onLiteralValue:s,onError:(u,c,l)=>{t.push({error:u,offset:c,length:l})}},n),i[0]}function $w(e,t=[],n=_g.DEFAULT){let r={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(u){r.type==="property"&&(r.length=u-r.offset,r=r.parent)}function o(u){return r.children.push(u),u}jw(e,{onObjectBegin:u=>{r=o({type:"object",offset:u,length:-1,parent:r,children:[]})},onObjectProperty:(u,c,l)=>{r=o({type:"property",offset:c,length:-1,parent:r,children:[]}),r.children.push({type:"string",value:u,offset:c,length:l,parent:r})},onObjectEnd:(u,c)=>{i(u+c),r.length=u+c-r.offset,r=r.parent,i(u+c)},onArrayBegin:(u,c)=>{r=o({type:"array",offset:u,length:-1,parent:r,children:[]})},onArrayEnd:(u,c)=>{r.length=u+c-r.offset,r=r.parent,i(u+c)},onLiteralValue:(u,c,l)=>{o({type:M$(u),offset:c,length:l,parent:r,value:u}),i(c+l)},onSeparator:(u,c,l)=>{r.type==="property"&&(u===":"?r.colonOffset=c:u===","&&i(c))},onError:(u,c,l)=>{t.push({error:u,offset:c,length:l})}},n);let a=r.children[0];return a&&delete a.parent,a}function bg(e,t){if(!e)return;let n=e;for(let r of t)if(typeof r=="string"){if(n.type!=="object"||!Array.isArray(n.children))return;let i=!1;for(let o of n.children)if(Array.isArray(o.children)&&o.children[0].value===r&&o.children.length===2){n=o.children[1],i=!0;break}if(!i)return}else{let i=r;if(n.type!=="array"||i<0||!Array.isArray(n.children)||i>=n.children.length)return;n=n.children[i]}return n}function qw(e){switch(e.type){case"array":return e.children.map(qw);case"object":let t=Object.create(null);for(let n of e.children){let r=n.children[1];r&&(t[n.children[0].value]=qw(r))}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return}}function jw(e,t,n=_g.DEFAULT){let r=wg(e,!1),i=[];function o(I){return I?()=>I(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function s(I){return I?()=>I(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>i.slice()):()=>!0}function a(I){return I?L=>I(L,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function u(I){return I?L=>I(L,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>i.slice()):()=>!0}let c=s(t.onObjectBegin),l=u(t.onObjectProperty),d=o(t.onObjectEnd),p=s(t.onArrayBegin),f=o(t.onArrayEnd),m=u(t.onLiteralValue),h=a(t.onSeparator),g=o(t.onComment),v=a(t.onError),y=n&&n.disallowComments,x=n&&n.allowTrailingComma;function E(){for(;;){let I=r.scan();switch(r.getTokenError()){case 4:_(14);break;case 5:_(15);break;case 3:_(13);break;case 1:y||_(11);break;case 2:_(12);break;case 6:_(16);break}switch(I){case 12:case 13:y?_(10):g();break;case 16:_(1);break;case 15:case 14:break;default:return I}}}function _(I,L=[],q=[]){if(v(I),L.length+q.length>0){let k=r.getToken();for(;k!==17;){if(L.indexOf(k)!==-1){E();break}else if(q.indexOf(k)!==-1)break;k=E()}}}function C(I){let L=r.getTokenValue();return I?m(L):(l(L),i.push(L)),E(),!0}function P(){switch(r.getToken()){case 11:let I=r.getTokenValue(),L=Number(I);isNaN(L)&&(_(2),L=0),m(L);break;case 7:m(null);break;case 8:m(!0);break;case 9:m(!1);break;default:return!1}return E(),!0}function T(){return r.getToken()!==10?(_(3,[],[2,5]),!1):(C(!1),r.getToken()===6?(h(":"),E(),D()||_(4,[],[2,5])):_(5,[],[2,5]),i.pop(),!0)}function b(){c(),E();let I=!1;for(;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(I||_(4,[],[]),h(","),E(),r.getToken()===2&&x)break}else I&&_(6,[],[]);T()||_(4,[],[2,5]),I=!0}return d(),r.getToken()!==2?_(7,[2],[]):E(),!0}function R(){p(),E();let I=!0,L=!1;for(;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(L||_(4,[],[]),h(","),E(),r.getToken()===4&&x)break}else L&&_(6,[],[]);I?(i.push(0),I=!1):i[i.length-1]++,D()||_(4,[],[4,5]),L=!0}return f(),I||i.pop(),r.getToken()!==4?_(8,[4],[]):E(),!0}function D(){switch(r.getToken()){case 3:return R();case 1:return b();case 10:return C(!0);default:return P()}}return E(),r.getToken()===17?n.allowEmptyContent?!0:(_(4,[],[]),!1):D()?(r.getToken()!==17&&_(9,[],[]),!0):(_(4,[],[]),!1)}function M$(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(e){if(Array.isArray(e))return"array"}else return"null";return"object"}default:return"null"}}function U$(e,t,n,r){let i=t.slice(),s=$w(e,[]),a,u;for(;i.length>0&&(u=i.pop(),a=bg(s,i),a===void 0&&n!==void 0);)typeof u=="string"?n={[u]:n}:n=[n];if(a)if(a.type==="object"&&typeof u=="string"&&Array.isArray(a.children)){let c=bg(a,[u]);if(c!==void 0)if(n===void 0){if(!c.parent)throw new Error("Malformed AST");let l=a.children.indexOf(c.parent),d,p=c.parent.offset+c.parent.length;if(l>0){let f=a.children[l-1];d=f.offset+f.length}else d=a.offset+1,a.children.length>1&&(p=a.children[1].offset);return ol(e,{offset:d,length:p-d,content:""},r)}else return ol(e,{offset:c.offset,length:c.length,content:JSON.stringify(n)},r);else{if(n===void 0)return[];let l=`${JSON.stringify(u)}: ${JSON.stringify(n)}`,d=r.getInsertionIndex?r.getInsertionIndex(a.children.map(f=>f.children[0].value)):a.children.length,p;if(d>0){let f=a.children[d-1];p={offset:f.offset+f.length,length:0,content:","+l}}else a.children.length===0?p={offset:a.offset+1,length:0,content:l}:p={offset:a.offset+1,length:0,content:l+","};return ol(e,p,r)}}else if(a.type==="array"&&typeof u=="number"&&Array.isArray(a.children)){let c=u;if(c===-1){let l=`${JSON.stringify(n)}`,d;if(a.children.length===0)d={offset:a.offset+1,length:0,content:l};else{let p=a.children[a.children.length-1];d={offset:p.offset+p.length,length:0,content:","+l}}return ol(e,d,r)}else if(n===void 0&&a.children.length>=0){let l=u,d=a.children[l],p;if(a.children.length===1)p={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===l){let f=a.children[l-1],m=f.offset+f.length,h=a.offset+a.length;p={offset:m,length:h-2-m,content:""}}else p={offset:d.offset,length:a.children[l+1].offset-d.offset,content:""};return ol(e,p,r)}else if(n!==void 0){let l,d=`${JSON.stringify(n)}`;if(!r.isArrayInsertion&&a.children.length>u){let p=a.children[u];l={offset:p.offset,length:p.length,content:d}}else if(a.children.length===0||u===0)l={offset:a.offset+1,length:0,content:a.children.length===0?d:d+","};else{let p=u>a.children.length?a.children.length:u,f=a.children[p-1];l={offset:f.offset+f.length,length:0,content:","+d}}return ol(e,l,r)}else throw new Error(`Can not ${n===void 0?"remove":r.isArrayInsertion?"insert":"modify"} Array index ${c} as length is not sufficient`)}else throw new Error(`Can not add ${typeof u!="number"?"index":"property"} to parent of type ${a.type}`);else{if(n===void 0)throw new Error("Can not delete in empty document");return ol(e,{offset:s?s.offset:0,length:s?s.length:0,content:JSON.stringify(n)},r)}}function ol(e,t,n){if(!n.formattingOptions)return[t];let r=Hw(e,t),i=t.offset,o=t.offset+t.content.length;if(t.length===0||t.content.length===0){for(;i>0&&!Eg(r,i-1);)i--;for(;o<r.length&&!Eg(r,o);)o++}let s=c0(r,{offset:i,length:o-i},{...n.formattingOptions,keepLines:!1});for(let u=s.length-1;u>=0;u--){let c=s[u];r=Hw(r,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}let a=e.length-(r.length-o)-i;return[{offset:i,length:a,content:r.substring(i,o)}]}function Hw(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}var q$;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(q$||(q$={}));var $$;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})($$||($$={}));var H$=L$,Je=F$,Cg=$w,_c=bg;var Sg=qw;var j$;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(j$||(j$={}));function pn(e,t,n,r){return U$(e,t,n,r)}function Mr(e,t){let n=t.slice(0).sort((i,o)=>{let s=i.offset-o.offset;return s===0?i.length-o.length:s}),r=e.length;for(let i=n.length-1;i>=0;i--){let o=n[i];if(o.offset+o.length<=r)e=Hw(e,o);else throw new Error("Overlapping edit");r=o.offset}return e}var Nt=V(require("fs")),Cs=require("util");function bn(e){return new Promise(t=>Nt.stat(e,(n,r)=>t(!n&&r.isFile())))}function B$(e){return new Promise(t=>Nt.stat(e,(n,r)=>t(!n&&r.isDirectory())))}function V$(e){return new Promise(t=>Nt.stat(e,(n,r)=>t(!n&&r.isSocket())))}var nt=(0,Cs.promisify)(Nt.readFile),Bw=(0,Cs.promisify)(Nt.writeFile),eMe=(0,Cs.promisify)(Nt.appendFile),fa=(0,Cs.promisify)(Nt.rename),bc=(0,Cs.promisify)(Nt.readdir),W$=(0,Cs.promisify)(Nt.unlink),ko=e=>new Promise((t,n)=>Nt.mkdir(e,{recursive:!0},r=>r?n(r):t())),G$=(0,Cs.promisify)(Nt.rmdir),Cc=(0,Cs.promisify)(Nt.rm),tMe=(0,Cs.promisify)(Nt.copyFile);function Vw(e,t,n){let r=e.relative(t,n);return!!r&&!r.startsWith("..")&&!e.isAbsolute(r)}var Ue=V(require("vscode")),Iw=V(require("path"));var Ff=V(require("path"));var X$=V(require("os")),Ig=V(require("fs")),Q$=V(require("path"));var u0=require("events"),Tp=class{constructor(...t){this.nodeEmitter=new u0.EventEmitter;this.event=t=>(this.nodeEmitter.on("event",t),{dispose:()=>{this.nodeEmitter.off("event",t)}});this.disposables=t}fire(t){this.nodeEmitter.emit("event",t)}dispose(){this.nodeEmitter.removeAllListeners(),this.disposables.forEach(t=>t.dispose())}},Ww=class{constructor(){this.nodeEmitter=new u0.EventEmitter;this.event=t=>{let n=r=>r.results.push(t(r.data));return this.nodeEmitter.on("event",n),{dispose:()=>{this.nodeEmitter.off("event",n)}}}}fire(t){let n=[];return this.nodeEmitter.emit("event",{data:t,results:n}),n}dispose(){this.nodeEmitter.removeAllListeners()}};function z$(e,t){return{sendTelemetryEvent:async()=>{},isCachedFlightEnabled:async()=>!1,product:t,package:e,getTelemetryLevel:()=>"off"}}var li=(a=>(a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error",a[a.Critical=6]="Critical",a[a.Off=7]="Off",a))(li||{}),d0={info:3,debug:2,trace:1},Gae=Object.keys(d0).reduce((e,t)=>(e[d0[t]]=t,e),[]);function J$(e){return d0[e]||3}function Ss(e){return Gae[e]||3}var qe={write:()=>{},raw:()=>{},start:()=>Date.now(),stop:()=>{},event:()=>{}},Ip=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function Z$(e,t){let n=!!t;return{event:r=>{n&&(n=!1,e.forEach(i=>i.event({type:"text",level:3,timestamp:Date.now(),text:t}))),e.forEach(i=>i.event(r))}}}function ej(e,t){let n=Kae(e);return{event(r){let i=Yae(r,t());i&&n.write(i)},join:n.join}}function tj(e,t,n){return{event(r){let i=zae(r,t(),n.getTime());i&&e(i)}}}function Wi(e,t=2){return{event:e.event,write(n,r=t){e.event({type:"text",level:r,timestamp:Date.now(),text:n})},raw(n,r=t){e.event({type:"raw",level:r,timestamp:Date.now(),text:n})},start(n,r=t){let i=Date.now();return e.event({type:"start",level:r,timestamp:i,text:n}),i},stop(n,r,i=t){e.event({type:"stop",level:i,timestamp:Date.now(),text:n,startTimestamp:r})},get dimensions(){return e.dimensions},onDidChangeDimensions:e.onDidChangeDimensions}}function zae(e,t,n){if(!(!("level"in e)||e.level<t))switch(e.type){case"text":return`[${Tg(Y$,`${e.timestamp-n} ms`)}] ${Gw(e.text)}`;case"raw":return e.text;case"start":return 1>=t?`${Tg(Zae,`[${e.timestamp-n} ms] Start`)}: ${Gw(e.text)}`:`[${Tg(Y$,`${e.timestamp-n} ms`)}] Start: ${Gw(e.text)}`;case"stop":return 1>=t?`${Tg(Jae,`[${e.timestamp-n} ms] Stop`)} (${e.timestamp-e.startTimestamp} ms): ${Gw(e.text)}`:void 0;default:throw nj(e)}}function Gw(e){return tce(e).replace(/\r?\n/g,`\r
`).replace(/(\r?\n)?$/,`\r
`)}function Yae(e,t){if(!(!("level"in e)||e.level<t))switch(e.type){case"text":case"raw":return`[${new Date(e.timestamp).toISOString()}] ${l0(e.text)}`;case"start":return`[${new Date(e.timestamp).toISOString()}] Start: ${l0(e.text)}`;case"stop":return 2>=t?`[${new Date(e.timestamp).toISOString()}] Stop (${e.timestamp-e.startTimestamp} ms): ${l0(e.text)}`:void 0;default:throw nj(e)}}function l0(e){return e.replace(Ip,"").replace(/(\r?\n)?$/,X$.EOL)}function nj(e){return new Error(`Unknown log event type: ${e.type}`)}function Kae(e){let t=[],n=!1,r,i;function o(){n=!1,i&&!t.length&&(r=void 0,i(),i=void 0)}function s(a,u=!1){if(a&&t.push(a),!u&&!n&&t.length){n=!0;let c=t.join("");t.length=0,Ig.appendFile(e,c,l=>{l&&(l.code==="ENOENT"?Ig.mkdir(Q$.dirname(e),{recursive:!0},d=>{d?(o(),console.error(d)):Ig.appendFile(e,c,p=>{o(),p&&console.error(p),s()})}):(o(),console.error(l))),o(),s()})}}return{write:s,join:()=>r||(n?r=new Promise(a=>i=a):Promise.resolve())}}var Xae="38;2;143;99;79",rj="38;2;99;143;79",Qae="38;2;86;156;214",Jae=Xae,Zae=rj,Y$=rj,ece=Qae;function Tg(e,t){return t.split(`
`).map(n=>`\x1B[1m\x1B[${e}m${n}\x1B[39m\x1B[22m`).join(`
`)}function tce(e){let t,n=0,r=[];for(Ip.lastIndex=0;t=Ip.exec(e);)r.push(K$(e.substring(n,t.index))),r.push(t[0]),n=Ip.lastIndex;return r.push(K$(e.substr(n))),r.join("")}function K$(e){let t=/(?<=^|[^A-Za-z0-9_\-\.])[0-9]+(\.[0-9]+)*(?=$|[^A-Za-z0-9_\-\.])/g,n,r=0,i=[];for(;n=t.exec(e);)i.push(e.substring(r,n.index)),i.push(Tg(ece,n[0])),r=t.lastIndex;return i.push(e.substr(r)),i.join("")}function Ze(e){return e.split(/\r?\n/).map(t=>`\x1B[1m\x1B[31m${t}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}function p0(e){return e.split(/\r?\n/).map(t=>`\x1B[1m\x1B[33m${t}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}var ve=class extends Error{constructor(n){var r;super(n.originalError&&n.originalError.message||n.description);this.manageContainer=!1;this.actions=[];this.data={};Object.assign(this,n),(r=this.originalError)!=null&&r.stack&&(this.stack=this.originalError.stack)}};var pe=V(require("path")),N_=V(require("fs")),AW=V(kp()),tD=require("string_decoder"),L_=V(QE());var k_=V(require("crypto"));var efe=V(require("path")),WA=require("string_decoder");var xr=V(require("path")),Q3=V(require("fs")),J3=V(require("os")),vf=V(require("child_process")),BA=require("string_decoder");var B3=V(require("path"));var lB;(()=>{"use strict";var e={470:i=>{function o(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function s(u,c){for(var l,d="",p=0,f=-1,m=0,h=0;h<=u.length;++h){if(h<u.length)l=u.charCodeAt(h);else{if(l===47)break;l=47}if(l===47){if(!(f===h-1||m===1))if(f!==h-1&&m===2){if(d.length<2||p!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var g=d.lastIndexOf("/");if(g!==d.length-1){g===-1?(d="",p=0):p=(d=d.slice(0,g)).length-1-d.lastIndexOf("/"),f=h,m=0;continue}}else if(d.length===2||d.length===1){d="",p=0,f=h,m=0;continue}}c&&(d.length>0?d+="/..":d="..",p=2)}else d.length>0?d+="/"+u.slice(f+1,h):d=u.slice(f+1,h),p=h-f-1;f=h,m=0}else l===46&&m!==-1?++m:m=-1}return d}var a={resolve:function(){for(var u,c="",l=!1,d=arguments.length-1;d>=-1&&!l;d--){var p;d>=0?p=arguments[d]:(u===void 0&&(u=process.cwd()),p=u),o(p),p.length!==0&&(c=p+"/"+c,l=p.charCodeAt(0)===47)}return c=s(c,!l),l?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(u){if(o(u),u.length===0)return".";var c=u.charCodeAt(0)===47,l=u.charCodeAt(u.length-1)===47;return(u=s(u,!c)).length!==0||c||(u="."),u.length>0&&l&&(u+="/"),c?"/"+u:u},isAbsolute:function(u){return o(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,c=0;c<arguments.length;++c){var l=arguments[c];o(l),l.length>0&&(u===void 0?u=l:u+="/"+l)}return u===void 0?".":a.normalize(u)},relative:function(u,c){if(o(u),o(c),u===c||(u=a.resolve(u))===(c=a.resolve(c)))return"";for(var l=1;l<u.length&&u.charCodeAt(l)===47;++l);for(var d=u.length,p=d-l,f=1;f<c.length&&c.charCodeAt(f)===47;++f);for(var m=c.length-f,h=p<m?p:m,g=-1,v=0;v<=h;++v){if(v===h){if(m>h){if(c.charCodeAt(f+v)===47)return c.slice(f+v+1);if(v===0)return c.slice(f+v)}else p>h&&(u.charCodeAt(l+v)===47?g=v:v===0&&(g=0));break}var y=u.charCodeAt(l+v);if(y!==c.charCodeAt(f+v))break;y===47&&(g=v)}var x="";for(v=l+g+1;v<=d;++v)v!==d&&u.charCodeAt(v)!==47||(x.length===0?x+="..":x+="/..");return x.length>0?x+c.slice(f+g):(f+=g,c.charCodeAt(f)===47&&++f,c.slice(f))},_makeLong:function(u){return u},dirname:function(u){if(o(u),u.length===0)return".";for(var c=u.charCodeAt(0),l=c===47,d=-1,p=!0,f=u.length-1;f>=1;--f)if((c=u.charCodeAt(f))===47){if(!p){d=f;break}}else p=!1;return d===-1?l?"/":".":l&&d===1?"//":u.slice(0,d)},basename:function(u,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');o(u);var l,d=0,p=-1,f=!0;if(c!==void 0&&c.length>0&&c.length<=u.length){if(c.length===u.length&&c===u)return"";var m=c.length-1,h=-1;for(l=u.length-1;l>=0;--l){var g=u.charCodeAt(l);if(g===47){if(!f){d=l+1;break}}else h===-1&&(f=!1,h=l+1),m>=0&&(g===c.charCodeAt(m)?--m==-1&&(p=l):(m=-1,p=h))}return d===p?p=h:p===-1&&(p=u.length),u.slice(d,p)}for(l=u.length-1;l>=0;--l)if(u.charCodeAt(l)===47){if(!f){d=l+1;break}}else p===-1&&(f=!1,p=l+1);return p===-1?"":u.slice(d,p)},extname:function(u){o(u);for(var c=-1,l=0,d=-1,p=!0,f=0,m=u.length-1;m>=0;--m){var h=u.charCodeAt(m);if(h!==47)d===-1&&(p=!1,d=m+1),h===46?c===-1?c=m:f!==1&&(f=1):c!==-1&&(f=-1);else if(!p){l=m+1;break}}return c===-1||d===-1||f===0||f===1&&c===d-1&&c===l+1?"":u.slice(c,d)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return function(c,l){var d=l.dir||l.root,p=l.base||(l.name||"")+(l.ext||"");return d?d===l.root?d+p:d+"/"+p:p}(0,u)},parse:function(u){o(u);var c={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return c;var l,d=u.charCodeAt(0),p=d===47;p?(c.root="/",l=1):l=0;for(var f=-1,m=0,h=-1,g=!0,v=u.length-1,y=0;v>=l;--v)if((d=u.charCodeAt(v))!==47)h===-1&&(g=!1,h=v+1),d===46?f===-1?f=v:y!==1&&(y=1):f!==-1&&(y=-1);else if(!g){m=v+1;break}return f===-1||h===-1||y===0||y===1&&f===h-1&&f===m+1?h!==-1&&(c.base=c.name=m===0&&p?u.slice(1,h):u.slice(m,h)):(m===0&&p?(c.name=u.slice(1,f),c.base=u.slice(1,h)):(c.name=u.slice(m,f),c.base=u.slice(m,h)),c.ext=u.slice(f,h)),m>0?c.dir=u.slice(0,m-1):p&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a}},t={};function n(i){var o=t[i];if(o!==void 0)return o.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.d=(i,o)=>{for(var s in o)n.o(o,s)&&!n.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},n.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{var i;if(n.r(r),n.d(r,{URI:()=>h,Utils:()=>R}),typeof process=="object")i=process.platform==="win32";else if(typeof navigator=="object"){var o=navigator.userAgent;i=o.indexOf("Windows")>=0}var s,a,u=(s=function(k,N){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,H){U.__proto__=H}||function(U,H){for(var oe in H)Object.prototype.hasOwnProperty.call(H,oe)&&(U[oe]=H[oe])},s(k,N)},function(k,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function U(){this.constructor=k}s(k,N),k.prototype=N===null?Object.create(N):(U.prototype=N.prototype,new U)}),c=/^\w[\w\d+.-]*$/,l=/^\//,d=/^\/\//,p="",f="/",m=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,h=function(){function k(N,U,H,oe,O,Q){Q===void 0&&(Q=!1),typeof N=="object"?(this.scheme=N.scheme||p,this.authority=N.authority||p,this.path=N.path||p,this.query=N.query||p,this.fragment=N.fragment||p):(this.scheme=function(ee,B){return ee||B?ee:"file"}(N,Q),this.authority=U||p,this.path=function(ee,B){switch(ee){case"https":case"http":case"file":B?B[0]!==f&&(B=f+B):B=f}return B}(this.scheme,H||p),this.query=oe||p,this.fragment=O||p,function(ee,B){if(!ee.scheme&&B)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(ee.authority,'", path: "').concat(ee.path,'", query: "').concat(ee.query,'", fragment: "').concat(ee.fragment,'"}'));if(ee.scheme&&!c.test(ee.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ee.path){if(ee.authority){if(!l.test(ee.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(d.test(ee.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}(this,Q))}return k.isUri=function(N){return N instanceof k||!!N&&typeof N.authority=="string"&&typeof N.fragment=="string"&&typeof N.path=="string"&&typeof N.query=="string"&&typeof N.scheme=="string"&&typeof N.fsPath=="string"&&typeof N.with=="function"&&typeof N.toString=="function"},Object.defineProperty(k.prototype,"fsPath",{get:function(){return _(this,!1)},enumerable:!1,configurable:!0}),k.prototype.with=function(N){if(!N)return this;var U=N.scheme,H=N.authority,oe=N.path,O=N.query,Q=N.fragment;return U===void 0?U=this.scheme:U===null&&(U=p),H===void 0?H=this.authority:H===null&&(H=p),oe===void 0?oe=this.path:oe===null&&(oe=p),O===void 0?O=this.query:O===null&&(O=p),Q===void 0?Q=this.fragment:Q===null&&(Q=p),U===this.scheme&&H===this.authority&&oe===this.path&&O===this.query&&Q===this.fragment?this:new v(U,H,oe,O,Q)},k.parse=function(N,U){U===void 0&&(U=!1);var H=m.exec(N);return H?new v(H[2]||p,b(H[4]||p),b(H[5]||p),b(H[7]||p),b(H[9]||p),U):new v(p,p,p,p,p)},k.file=function(N){var U=p;if(i&&(N=N.replace(/\\/g,f)),N[0]===f&&N[1]===f){var H=N.indexOf(f,2);H===-1?(U=N.substring(2),N=f):(U=N.substring(2,H),N=N.substring(H)||f)}return new v("file",U,N,p,p)},k.from=function(N){return new v(N.scheme,N.authority,N.path,N.query,N.fragment)},k.prototype.toString=function(N){return N===void 0&&(N=!1),C(this,N)},k.prototype.toJSON=function(){return this},k.revive=function(N){if(N){if(N instanceof k)return N;var U=new v(N);return U._formatted=N.external,U._fsPath=N._sep===g?N.fsPath:null,U}return N},k}(),g=i?1:void 0,v=function(k){function N(){var U=k!==null&&k.apply(this,arguments)||this;return U._formatted=null,U._fsPath=null,U}return u(N,k),Object.defineProperty(N.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=_(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),N.prototype.toString=function(U){return U===void 0&&(U=!1),U?C(this,!0):(this._formatted||(this._formatted=C(this,!1)),this._formatted)},N.prototype.toJSON=function(){var U={$mid:1};return this._fsPath&&(U.fsPath=this._fsPath,U._sep=g),this._formatted&&(U.external=this._formatted),this.path&&(U.path=this.path),this.scheme&&(U.scheme=this.scheme),this.authority&&(U.authority=this.authority),this.query&&(U.query=this.query),this.fragment&&(U.fragment=this.fragment),U},N}(h),y=((a={})[58]="%3A",a[47]="%2F",a[63]="%3F",a[35]="%23",a[91]="%5B",a[93]="%5D",a[64]="%40",a[33]="%21",a[36]="%24",a[38]="%26",a[39]="%27",a[40]="%28",a[41]="%29",a[42]="%2A",a[43]="%2B",a[44]="%2C",a[59]="%3B",a[61]="%3D",a[32]="%20",a);function x(k,N){for(var U=void 0,H=-1,oe=0;oe<k.length;oe++){var O=k.charCodeAt(oe);if(O>=97&&O<=122||O>=65&&O<=90||O>=48&&O<=57||O===45||O===46||O===95||O===126||N&&O===47)H!==-1&&(U+=encodeURIComponent(k.substring(H,oe)),H=-1),U!==void 0&&(U+=k.charAt(oe));else{U===void 0&&(U=k.substr(0,oe));var Q=y[O];Q!==void 0?(H!==-1&&(U+=encodeURIComponent(k.substring(H,oe)),H=-1),U+=Q):H===-1&&(H=oe)}}return H!==-1&&(U+=encodeURIComponent(k.substring(H))),U!==void 0?U:k}function E(k){for(var N=void 0,U=0;U<k.length;U++){var H=k.charCodeAt(U);H===35||H===63?(N===void 0&&(N=k.substr(0,U)),N+=y[H]):N!==void 0&&(N+=k[U])}return N!==void 0?N:k}function _(k,N){var U;return U=k.authority&&k.path.length>1&&k.scheme==="file"?"//".concat(k.authority).concat(k.path):k.path.charCodeAt(0)===47&&(k.path.charCodeAt(1)>=65&&k.path.charCodeAt(1)<=90||k.path.charCodeAt(1)>=97&&k.path.charCodeAt(1)<=122)&&k.path.charCodeAt(2)===58?N?k.path.substr(1):k.path[1].toLowerCase()+k.path.substr(2):k.path,i&&(U=U.replace(/\//g,"\\")),U}function C(k,N){var U=N?E:x,H="",oe=k.scheme,O=k.authority,Q=k.path,ee=k.query,B=k.fragment;if(oe&&(H+=oe,H+=":"),(O||oe==="file")&&(H+=f,H+=f),O){var fe=O.indexOf("@");if(fe!==-1){var Fe=O.substr(0,fe);O=O.substr(fe+1),(fe=Fe.indexOf(":"))===-1?H+=U(Fe,!1):(H+=U(Fe.substr(0,fe),!1),H+=":",H+=U(Fe.substr(fe+1),!1)),H+="@"}(fe=(O=O.toLowerCase()).indexOf(":"))===-1?H+=U(O,!1):(H+=U(O.substr(0,fe),!1),H+=O.substr(fe))}if(Q){if(Q.length>=3&&Q.charCodeAt(0)===47&&Q.charCodeAt(2)===58)(_e=Q.charCodeAt(1))>=65&&_e<=90&&(Q="/".concat(String.fromCharCode(_e+32),":").concat(Q.substr(3)));else if(Q.length>=2&&Q.charCodeAt(1)===58){var _e;(_e=Q.charCodeAt(0))>=65&&_e<=90&&(Q="".concat(String.fromCharCode(_e+32),":").concat(Q.substr(2)))}H+=U(Q,!0)}return ee&&(H+="?",H+=U(ee,!1)),B&&(H+="#",H+=N?B:x(B,!1)),H}function P(k){try{return decodeURIComponent(k)}catch{return k.length>3?k.substr(0,3)+P(k.substr(3)):k}}var T=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function b(k){return k.match(T)?k.replace(T,function(N){return P(N)}):k}var R,D=n(470),I=function(k,N,U){if(U||arguments.length===2)for(var H,oe=0,O=N.length;oe<O;oe++)!H&&oe in N||(H||(H=Array.prototype.slice.call(N,0,oe)),H[oe]=N[oe]);return k.concat(H||Array.prototype.slice.call(N))},L=D.posix||D,q="/";(function(k){k.joinPath=function(N){for(var U=[],H=1;H<arguments.length;H++)U[H-1]=arguments[H];return N.with({path:L.join.apply(L,I([N.path],U,!1))})},k.resolvePath=function(N){for(var U=[],H=1;H<arguments.length;H++)U[H-1]=arguments[H];var oe=N.path,O=!1;oe[0]!==q&&(oe=q+oe,O=!0);var Q=L.resolve.apply(L,I([oe],U,!1));return O&&Q[0]===q&&!N.authority&&(Q=Q.substring(1)),N.with({path:Q})},k.dirname=function(N){if(N.path.length===0||N.path===q)return N;var U=L.dirname(N.path);return U.length===1&&U.charCodeAt(0)===46&&(U=""),N.with({path:U})},k.basename=function(N){return L.basename(N.path)},k.extname=function(N){return L.extname(N.path)}})(R||(R={}))})(),lB=r})();var{URI:ye,Utils:vi}=lB;var dB=V(require("path"));function gt(e,t){if(Yg(t)){let n=e.dirname(t);return{isWorkspaceFile:!0,workspaceOrFolderPath:t,rootFolderPath:n,configFolderPath:n}}return{isWorkspaceFile:!1,workspaceOrFolderPath:t,rootFolderPath:t,configFolderPath:t}}function Yg(e){return dB.extname(e)===".code-workspace"}async function JE(e,t){if(!!t.isWorkspaceFile)try{let n=t.rootFolderPath,r=(await e.readFile(t.workspaceOrFolderPath)).toString(),o=Je(r).folders;if(o&&o.length>0){for(let s of o){let a=s.path,u;if(a){if(e.path.isAbsolute(a))return`Workspace contains an absolute folder path '${a}'.`;u=e.path.resolve(n,a)}else{let c=s.uri;return c?ye.parse(c).scheme!=="file"?`Workspace contains folder '${c}' not on the local file system.`:`Workspace contains an absolute folder path '${c}'.`:"Workspace contains a folder that defines neither a path nor a URI."}if(!ude(e,u,n))return`Folder '${u}' is not a subfolder of shared root folder '${n}'.`}return}return"Workspace does not define any folders"}catch(n){return`Problems loading workspace file ${t.workspaceOrFolderPath}: ${n&&(n.message||n.toString())}`}}function ude(e,t,n){return t===n?!0:!t||!n||n.length>t.length||t.length>n.length&&t.charAt(n.length)!==e.path.sep?!1:lde(e.platform,n,t.substr(0,n.length))}function lde(e,t,n){return e==="linux"?t===n:t.toLowerCase()===n.toLowerCase()}var fn=V(require("path")),m_=V(QE()),PA=V(require("crypto")),p_=V(Kg()),F3=require("string_decoder");var Xg=V(require("path"));async function gV(e,t,n){let r=await hV(e,"agent-extra-socket",n);if(!r)return;let i=await oA(t,"agent-socket");if(!i)return;let o=await oA(t,"homedir");try{let{stdout:a}=await t.exec(`ls '${o}/private-keys-v1.d' 2>/dev/null`);if(a.trim())return}catch{}let s=(async()=>{await t.exec(`mkdir -p -m 700 '${Xg.posix.dirname(i)}'`);let a=await hV(e,"homedir",n),u=await oA(t,"homedir");a&&u&&(await of({cliHost:e},{shellServer:t},e.path.join(a,"pubring.kbx"),Xg.posix.join(u,"pubring.kbx"),"gpg"),await of({cliHost:e},{shellServer:t},e.path.join(a,"pubring.gpg"),Xg.posix.join(u,"pubring.gpg"),"gpg"),await of({cliHost:e},{shellServer:t},e.path.join(a,"trustdb.gpg"),Xg.posix.join(u,"trustdb.gpg"),"gpg")),await Fde(e,n)})();return{cliHost:e,remoteGpgSocket:i,localGpgSocket:r,ready:s}}async function hV(e,t,n){try{let{stdout:r}=await me({exec:e.exec,cmd:"gpgconf",args:["--list-dir",t],output:n,print:!0}),i=r.toString().trim();if(i.indexOf(`
`)!==-1){let o=new RegExp(`^${t}:(.*)$`,"m").exec(i);o&&(i=o[1])}return e.platform==="win32"&&/^\/.\//.test(i)&&(i=`${i.charAt(1)}:${i.substr(2).replace(/\//g,"\\")}`),i}catch{return}}async function oA(e,t){try{let{stdout:n}=await e.exec(`gpgconf --list-dir ${t}`),r=n.trim();if(r.indexOf(`
`)!==-1){let i=new RegExp(`^${t}:(.*)$`,"m").exec(r);if(i)return i[1]}return r}catch{return}}async function Fde(e,t){try{await me({exec:e.exec,cmd:"gpg-connect-agent",args:["updatestartuptty","/bye"],output:t})}catch{}}async function Qg(e,t,n){if(!("exec"in e)){for(let r=t,i="";r!==i;i=r,r=e.path.dirname(r))if(await e.isFile(e.path.join(r,".git","config")))return r;return}try{let{stdout:r}=await me({exec:e.exec,cmd:"git",args:["rev-parse","--show-cdup"],cwd:t,output:n}),i=r.toString().trim();return e.path.resolve(t,i)}catch{return}}async function sA(e,t,n){try{return await me({exec:e.exec,cmd:"git",args:["ls-remote",t],cwd:".",output:n,print:"onerror"}),!0}catch(r){return(r==null?void 0:r.code)==="ENOENT"?void 0:!1}}async function yV(e,t,n,r,i){let o=r[1],s={get:"fill",store:"approve",erase:"reject"}[o];if(s===void 0)throw new Error(`Expected get, store or erase, got: ${o}`);let a=await vV(n?e:t,s,i).catch(u=>{if(n)throw u});return!n&&(a==null?void 0:a.code)!==0&&(a=await vV(e,s,i),a.code===0&&(n=!0)),{result:a,preferLocalCLIHost:n}}async function vV({exec:e},t,n){try{let{stdout:r,stderr:i}=await me({exec:e,cmd:"git",args:["credential",t],env:{GIT_TERMINAL_PROMPT:"0"},stdin:Buffer.from(n),output:qe});return{stdout:r.toString(),stderr:i.toString(),code:0}}catch(r){if(!(r&&r.stdout&&r.stderr))throw r;let{stdout:i,stderr:o,code:s}=r;return{stdout:i.toString(),stderr:o.toString(),code:s||0}}}async function xV(e,t,n){let r=await aA(e,t,n);if(!r)return;r.startsWith("refs/")&&(r=r.substr(5)),r.startsWith("remotes/")&&(r=r.substr(8));let i=r.indexOf("/");if(i===-1)return;let o=r.substr(0,i),s=r.substr(i+1);try{let{stdout:a}=await me({exec:e.exec,cmd:"git",args:["remote","get-url",o],cwd:t.rootFolderPath,output:n}),u=a.toString().trim();if(u.endsWith(".git")&&(u=u.substr(0,u.length-4)),u.startsWith("https://github.com/")){let c=await $de(e,t,o,n);if(c&&s!==c)return`${u}/tree/${s}`}return u}catch{return}}async function wV(e,t,n){if(!("exec"in e)){let i=await Qg(e,t.rootFolderPath,n);if(!i)return;try{return(await e.readFile(e.path.join(i,".git","config"))).toString().split(/^\[/m).filter(a=>a.startsWith("remote")).map(a=>(/^\s*url\s*=\s*(\S+)/m.exec(a)||[])[1]).filter(Boolean)}catch(o){if((o==null?void 0:o.code)!=="ENOENT")throw o;return[]}}let r;try{let{stdout:i}=await me({exec:e.exec,cmd:"git",args:["remote","-v"],cwd:t.rootFolderPath,output:n});r=i.toString()}catch{return}return Array.from(new Set(Mde(/^[^\s]+\s+([^\s]+)/gm,r,1)))}function Mde(e,t,n){return{[Symbol.iterator]:function*(){let r;for(;r=e.exec(t);)yield r[n],e.lastIndex===r.index&&e.lastIndex++}}}async function EV(e,t,n){return await Ude(e,t,n)||qde(e,t,n)}async function Ude(e,t,n){try{let{stdout:r}=await me({exec:e.exec,cmd:"git",args:["status","--porcelain"],cwd:t.rootFolderPath,output:n});return!!r.toString().trim()}catch{return}}async function qde(e,t,n){let r=await aA(e,t,n);if(!!r)try{let{stdout:i}=await me({exec:e.exec,cmd:"git",args:["log",`${r}..HEAD`],cwd:t.rootFolderPath,output:n});return!!i.toString().trim()}catch{return}}async function _V(e,t,n,r){let i=await aA(e,t,r);if(!i)return!1;try{let o=e.platform==="win32"?n.replace(/\\/g,"/"):n;return await me({exec:e.exec,cmd:"git",args:["cat-file","-e",`${i}:${o}`],cwd:t.rootFolderPath,output:r}),!0}catch{return!1}}async function aA(e,t,n){try{let{stdout:r}=await me({exec:e.exec,cmd:"git",args:["rev-parse","--abbrev-ref","--symbolic-full-name","@{u}"],cwd:t.rootFolderPath,output:n});return r.toString().trim()}catch{return}}async function $de(e,t,n,r){try{let{stdout:i}=await me({exec:e.exec,cmd:"git",args:["remote","show",n],cwd:t.rootFolderPath,output:r});return(i.toString().match(/^\s*HEAD branch:\s*(.*)$/m)||[])[1]}catch{return}}async function n_(e,t,n,r,i,o){let{extensionPath:s}=e;if(await t.isFolder(t.path.join(n,".git")))return{gitClone:void 0,gitUnshallow:void 0};await t.mkdirp(n);let a=r.tokenEnvVar?{...r.env,GIT_ASKPASS:t.path.join(s,"scripts","gitAskPass.sh"),GIT_TOKEN:t.env[r.tokenEnvVar]}:r.env,u=[];r.fullClone||u.push("--depth","1"),r.branch&&u.push("--branch",r.branch),r.recurseSubmodules&&u.push("--recurse-submodules");let c=sf({ptyExec:t.ptyExec,cmd:"git",args:["clone",...u,r.url,"."],cwd:n,env:a,output:Wi(i,3)}),l=r.fullClone?c:(async()=>(await c,await sf({ptyExec:t.ptyExec,cmd:"git",args:["config","remote.origin.fetch","+refs/heads/*:refs/remotes/origin/*"],cwd:n,env:a,output:o}),sf({ptyExec:t.ptyExec,cmd:"git",args:["fetch","--unshallow","--tags"],cwd:n,env:a,output:o})))();return{gitClone:c,gitUnshallow:l}}var qc=require("stream");async function bV(e,t){let{stdout:n}=await e.exec(`cat /proc/${t}/environ`,{logOutput:!1});return n.split("\0").map(r=>{let i=r.indexOf("=");return i!==-1?[r.slice(0,i),r.slice(i+1)]:[]}).reduce((r,[i,o])=>(i&&(r[i]=o),r),{})}async function cA(e){let t=`for pid in \`cd /proc && ls -d [0-9]*\`; do { echo $pid ; readlink /proc/$pid/cwd ; readlink /proc/$pid/ns/mnt ; cat /proc/$pid/stat | tr "
" " " ; echo ; cat /proc/$pid/environ | tr "
" " " ; echo ; cat < /proc/$pid/cmdline | tr "
" " " ; echo ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null`,{stdout:n}=await e.exec(t,{logOutput:!1}),r=6,i=n.split(`
---
`),o=i.pop().trim();return{processes:i.map(a=>a.split(`
`)).filter(a=>a.length>=r).map(([a,u,c,l,d,p])=>{let f=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(l)||[];return{pid:a,ppid:f[1],pgrp:f[2],cwd:u,mntNS:c,cmd:p.replace(/\0/g," "),env:d.split("\0").reduce((m,h)=>{let g=h.indexOf("=");return g!==-1&&(m[h.substr(0,g)]=h.substr(g+1)),m},{})}}),mntNS:o}}function CV(e){let t={};return e.forEach(n=>t[n.pid]={process:n,childProcesses:[]}),e.filter(n=>n.ppid).forEach(n=>{var r;return(r=t[n.ppid])==null?void 0:r.childProcesses.push(t[n.pid])}),t}function uA(e,t="  ",n="  "){return`${n}${e.process.pid}: ${e.process.cmd}
${e.childProcesses.map(r=>uA(r,t,n+t))}`}var lA="dev-containers-",SV="credentials not found in native keychain";async function PV(e,t,n,r,i,o){let s=await TV(n?e:t,r,i,o).catch(a=>{if(n)throw a});return!n&&(s==null?void 0:s.code)!==0&&(s=await TV(e,r,i,o),s.code===0&&(n=!0)),{result:s,preferLocalCLIHost:n}}async function TV(e,t,n,r){let i,o=t[1];try{let s=o==="store"?JSON.parse(n).ServerURL:n.trim(),a=await jde(e,s,r);if(!a)return{stdout:o==="get"?SV:"Docker credential helper not found.",stderr:"",code:1};if("auth"in a){if(o!=="get")return{stdout:`Docker credential command not supported without credential helper: ${o}.`,stderr:"",code:1};let[l,d]=Buffer.from(a.auth,"base64").toString().split(":");return{stdout:JSON.stringify({ServerURL:s,Username:l,Secret:d}),stderr:"",code:0}}i=`docker-credential-${a.helper}`;let{stdout:u,stderr:c}=await me({exec:e.exec,cmd:i,args:t.slice(1),stdin:Buffer.from(n),output:qe});return{stdout:u.toString(),stderr:c.toString(),code:0}}catch(s){if(i&&((s==null?void 0:s.code)==="ENOENT"||(s==null?void 0:s.code)==="EPIPE"))return{stdout:o==="get"?SV:`Docker credential helper '${i}' not found: ${(s==null?void 0:s.message)||String(s)}.`,stderr:"",code:1};if(!(s&&s.stdout&&s.stderr))throw s;let{stdout:a,stderr:u,code:c}=s;return{stdout:a.toString(),stderr:u.toString(),code:c||0}}}async function jde(e,t,n){var i,o,s;n.write(`Looking up Docker credential helper for '${t}'.`);try{let a=Je((await e.readFile(e.path.join(await e.homedir(),".docker","config.json"))).toString()),u=ye.parse(t).authority||t,c=(i=a==null?void 0:a.credHelpers)==null?void 0:i[u];if(c)return{helper:c};let l=(s=(o=a==null?void 0:a.auths)==null?void 0:o[t])==null?void 0:s.auth;if(l)return{auth:l};if(a!=null&&a.credsStore)return{helper:a.credsStore}}catch(a){(a==null?void 0:a.code)!=="ENOENT"&&n.write(`Error reading Docker config: ${(a==null?void 0:a.message)||String(a)}.`)}let r=await RV(e);return r?{helper:r}:void 0}async function dA(e,t){let n=e.path.join(await e.homedir(),".docker","config.json");try{let r=await e.readFile(n),i=Je(r.toString());return!!(i!=null&&i.credsStore)||Object.keys((i==null?void 0:i.credHelpers)||{}).some(o=>{var s;return(s=i==null?void 0:i.credHelpers)==null?void 0:s[o]})||Object.keys((i==null?void 0:i.auths)||{}).some(o=>{var s,a;return(a=(s=i==null?void 0:i.auths)==null?void 0:s[o])==null?void 0:a.auth})||IV(e)}catch(r){return(r==null?void 0:r.code)!=="ENOENT"?(t.write(`Error reading Docker config (${n}): ${(r==null?void 0:r.stack)||(r==null?void 0:r.message)||String(r)}.`),!1):IV(e)}}async function IV(e){let t=await RV(e);return!!t&&await Hde(e,`docker-credential-${t}`)}async function RV(e){if(e.platform==="darwin")return"osxkeychain";if(e.platform==="win32")return"wincred";if(e.platform==="linux")try{return await me({exec:e.exec,cmd:"/bin/sh",args:["-c","command -v docker-credential-pass >/dev/null 2>&1"],output:qe}),"pass"}catch{return"secretservice"}}async function Hde(e,t){try{return e.platform==="win32"?!!await af(t,e.cwd,e.env,qe):(await me({exec:e.exec,cmd:"/bin/sh",args:["-c",`command -v '${t}' >/dev/null 2>&1`],output:qe}),!0)}catch{return!1}}function Uc(e){return`remote.containers.${e}`}function cf(e){return`dev.containers.${e}`}var Rpe=T3(),N3=bA(),SA=D3(),Ape=O3();async function tv(e,t,n){var q,k,N,U,H,oe;let{cliHost:r,wslCLIHost:i,output:o}=e,{shellServer:s,launchRootShellServer:a}=t,u="Launching Dev Containers helper.",c=o.start(u);if(ks)return o.stop(u,c),{remoteEnv:{},ready:Promise.resolve(),reconnect:()=>Promise.resolve()};let l=[r];r.type!=="local"&&l.push(await h_(process.cwd(),e.loadNativeModule,o)),r.type!=="wsl"&&i&&l.push(i);let d=PA.randomUUID(),p={},f=L3(l,O=>Upe(O)),m=f?fn.posix.join(((q=t.env)==null?void 0:q.TMPDIR)||"/tmp",`vscode-ssh-auth-${d}.sock`):void 0;f?(p[m]=f,o.write(`ssh-agent: SSH_AUTH_SOCK in container (${m}) forwarded to ${f.cliHost.type} host (${f.unparsed}).`)):o.write("ssh-agent: SSH_AUTH_SOCK not set on host.");let h=L3(l,O=>qpe(O)),g=-1,v;if(h)do v=fn.posix.join(((k=t.env)==null?void 0:k.TMPDIR)||"/tmp",".X11-unix",`X${++g}`);while(await Ope(s,v));let y=h?`:${g}`:void 0;h?(await s.exec(`mkdir -p '${fn.posix.dirname(v)}'`),p[v]=h,o.write(`X11 forwarding: DISPLAY in container (${y}) forwarded to ${h.cliHost.type} host (${h.unparsed}).`)):l.find(O=>O.env.DISPLAY)?o.write(`X11 forwarding: DISPLAY value on host not supported (${l.map(O=>O.env.DISPLAY).filter(Boolean).join(", ")}).`):o.write("X11 forwarding: DISPLAY not set on host.");let x=await Dpe(l,O=>gV(O,t.shellServer,o));x&&(p[x.remoteGpgSocket]={unparsed:x.localGpgSocket,cliHost:x.cliHost,connectTo:{socketPath:x.localGpgSocket}});let E=fn.posix.join(((N=t.env)==null?void 0:N.TMPDIR)||"/tmp",`vscode-remote-containers-ipc-${d}.sock`),_=fn.posix.join(((U=t.env)==null?void 0:U.TMPDIR)||"/tmp",`vscode-remote-containers-server-${d}.js`),C=fn.posix.join(((H=t.env)==null?void 0:H.TMPDIR)||"/tmp",`vscode-remote-containers-${d}.js`),T=((n==null?void 0:n.getNewConfiguration("dockerCredentialHelper"))??e.isDockerCredentialHelperEnabled)&&a&&await kpe(s,"docker")?fn.posix.join("/usr/local/bin",`docker-credential-${lA}${d}`):void 0,b=l.find(O=>O.type==="local"),R=M3(e,t,"Container",void 0,!1,!1,_,C,T,p,E,b),D=R.then(O=>O.ready),I=R.then(O=>O.mrpcExec),L=R.then(O=>O.mrpcPtyExec);return D.catch(console.error),e.onAdoptProcess(O=>$pe(t.shellServer,E,m,v,O).catch(console.error)),o.stop(u,c),{remoteContainersCLI:C,remoteEnv:{REMOTE_CONTAINERS_IPC:E,...m?{SSH_AUTH_SOCK:m}:void 0,...y&&!((oe=t.env)!=null&&oe.DISPLAY)?{DISPLAY:y}:void 0,...v?{REMOTE_CONTAINERS_DISPLAY_SOCK:v}:void 0},mrpcExec:I,mrpcPtyExec:L,ready:D,reconnect:()=>R.then(O=>O.reconnect())}}function L3(e,t){for(let n of e){let r=t(n);if(r)return r}}async function Dpe(e,t){for(let n of e){let r=await t(n);if(r)return r}}async function kpe(e,t){try{return await e.exec(`command -v ${t} >/dev/null 2>&1`),!0}catch{return!1}}async function Ope(e,t){try{return await e.exec(`test -e ${t}`),!0}catch{return!1}}async function nv(e,t,n,r,i){let{passwdUser:o,homeFolder:s,nodeExecutable:a,mrpcExec:u,mrpcPtyExec:c,setBaseEnv:l,connect:d,reconnect:p,terminate:f}=await M3(e,{remoteExec:t,platform:i},"Host",n,!0,r,void 0);return{passwdUser:o,homeFolder:s,nodeExecutable:a,exec:u,ptyExec:c,setBaseEnv:l,connect:d,reconnect:p,terminate:f}}async function M3(e,t,n,r,i,o,s,a,u,c,l,d){let{cliHost:p,product:f,output:m}=e,{remoteExec:h,platform:g,nodeExecutable:v,launchRootShellServer:y}=t,x=a&&nt(fn.join(e.extensionPath,"dist","common","remoteContainersCLI.js"),{encoding:"utf8"}),E=nt(fn.join(e.extensionPath,"dist","common","remoteContainersServer.js"),{encoding:"utf8"}),_=await Ji(h,m,void 0,g,n),C=i?await DA(_,await AA(_)):void 0,P=(await _.exec({posix:"echo ~",win32:"echo $env:userprofile"})).stdout.trim().split(`
`)[0],T=!0;if(!v||!s){let I=_.path.join(P,".vscode-remote-containers");v||(v=await jpe(e,_,I,P,f,o)),s||(s=_.path.join(I,"dist",`vscode-remote-containers-server-${e.package.version}.js`),await df(_,s)?T=!1:await _.exec(`mkdir -p '${_.path.dirname(s)}'`))}if(a){let I=`EOF-${a}`;await _.exec(`cat <<'${I}' >${a}
${await x}
${I}
`)}if(u&&y&&((p==null?void 0:p.type)!=="local"&&d&&await dA(d,m)||p&&await dA(p,m))){let I=(await _.exec(`cat ~/.docker/config.json || echo "{
}"`)).stdout,L=Je(I);if(!(L!=null&&L.credsStore)||L.credsStore.startsWith(lA)){let q=await y(),k=`EOF-${u}`;await q.exec(`mkdir -p ${fn.posix.dirname(u)} && cat <<'${k}' >${u}
#!/bin/sh
${v} ${a} docker-credential-helper $@
${k}
`),await q.exec(`chmod +x ${u}`);let N=pn(I,["credsStore"],fn.posix.basename(u).substring(18),{formattingOptions:{}}),U=Mr(I,N);await _.exec(`mkdir -p ~/.docker && cat <<'${k}' >~/.docker/config.json
${U}
${k}
`)}}if(T){let I=`EOF-${s}`,L=`${s}_${Date.now()}`;await _.exec(`cat <<'${I}' >${L}
${await E}
${I}
mv ${L} ${s}`)}let b=()=>Npe(e,n,_,v,s,c,l,d),R=await b(),D;return{ready:R.ready,passwdUser:C,nodeExecutable:v,homeFolder:P,mrpcExec:Lpe(()=>R.mrpc,n,r||P),mrpcPtyExec:Fpe(()=>R.mrpc,n,r||P),mrpcExecToEnd:Mpe(()=>R.mrpc,n,r||P),setBaseEnv:I=>new Promise((L,q)=>{D=I,R.mrpc.setBaseEnv(I,k=>k?q(k):L())}),connect:R.mrpc.connect,reconnect:async()=>{let I=`${n}: Reconnecting exec server`,L=m.start(I);await R.process.terminate().catch(()=>{}),_=await Ji(h,m,void 0,void 0,n),R=await b(),D&&await new Promise((q,k)=>{R.mrpc.setBaseEnv(D,N=>N?k(N):q())}),m.stop(I,L)},terminate:()=>R.process.terminate()}}async function Npe(e,t,n,r,i,o,s,a){let{cliHost:u,output:c}=e,l=Object.keys(o||{}),d={...l.reduce((P,T)=>(P[T]="duplex",P),{}),rpc:"async",connected:"async",ready:"async"},p={exec:"async",stdin:"sink",stdout:"source",stderr:"source",exit:"async",terminate:"async",dispose:"async",ptyExec:"async",ptyIn:"sink",ptyOut:"source",ptyResize:"async",ptyExit:"async",ptyTerminate:"async",ptyDispose:"async",execToEnd:"async",setBaseEnv:"async",connect:"duplex"},f=n.process,m=`set -e ; echo -n ${yi} >&2 ; ${s?`rm -f '${s}' ; `:""}REMOTE_CONTAINERS_SOCKETS='${JSON.stringify(l)}' REMOTE_CONTAINERS_IPC='${s||""}' '${r}' '${i}'
`;f.stdin.write(m);let h,g=new Promise(P=>h=P),v=new F3.StringDecoder;f.stderr.on("data",P=>{let T=v.write(P).replace(/^.*DeprecationWarning: Buffer\(\) is deprecated.*$\r?\n?/mg,"").trim();if(h){let b=T.indexOf(yi);b!==-1&&(h(),h=void 0,T=T.substr(0,b)+T.substr(b+1))}T&&c.write(Ze(`${t} server: ${T}`))}),f.exit.then(({code:P,signal:T})=>{c.write(`${t} server terminated (code: ${P}, signal: ${T}).`)},P=>{c.write(`${t} server did not launch or terminated: ${P&&P.message||String(P)}`)});let y=(u==null?void 0:u.type)==="local",x={git:y,docker:y},E,_=new Promise(P=>E=P),C=Rpe(p,d)({...l.reduce((P,T)=>{let b=o[T];return P[T]=()=>b.cliHost.connect(b.connectTo),P},{}),rpc:async(P,T)=>{try{let{args:b,stdin:R}=JSON.parse(P);if(b[0]==="git-credential-helper"){let D=await yV(a,u,x.git,b,R);x.git=D.preferLocalCLIHost,T(void 0,JSON.stringify(D.result))}else if(b[0]==="docker-credential-helper"){let D=await PV(a,u,x.docker,b,R,c);x.docker=D.preferLocalCLIHost,T(void 0,JSON.stringify(D.result))}}catch(b){console.error(b),T(b)}},connected:P=>{P()},ready:P=>{E(),P()}});return(0,p_.default)(N3.source(f.stdout),C.createStream(),N3.sink(f.stdin)),await Promise.race([g,f.exit.then(({code:P,signal:T})=>{throw new Error(`${t} server terminated (code: ${P}, signal: ${T}).`)})]),{ready:_,mrpc:C,process:f}}function Lpe(e,t,n){return async r=>{let{cmd:i,args:o,cwd:s,env:a,output:u}=r,c=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,l=u.start(c),d=e(),p=await new Promise((f,m)=>{d.exec({cmd:i,args:o,cwd:s||n,env:a},(h,g)=>{h?m(h):f(g)})});return{stdin:SA.sink(d.stdin(p,f=>{f&&f.message!=="unexpected end of parent stream"&&console.error(f)})),stdout:SA.source(d.stdout(p)),stderr:SA.source(d.stderr(p)),exit:new Promise((f,m)=>{d.exit(p,(h,g)=>{var v;u.stop(c,l),h?(((v=h.message)==null?void 0:v.endsWith("ENOENT"))&&!h.code&&(h.code="ENOENT"),m(h)):f(g)})}),terminate:async()=>new Promise((f,m)=>{d.terminate(p,h=>{h?m(h):f()})})}}}function Fpe(e,t,n){return async r=>{let{cmd:i,args:o,cwd:s,env:a,output:u}=r,c=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,l=u.start(c),d=e(),p=await new Promise((g,v)=>{var y,x;d.ptyExec({cmd:i,args:o,cwd:s||n,env:a,rows:(y=u.dimensions)==null?void 0:y.rows,cols:(x=u.dimensions)==null?void 0:x.columns},(E,_)=>{E?v(E):g(_)})}),f=[u.onDidChangeDimensions&&u.onDidChangeDimensions(g=>d.ptyResize(p,g.columns,g.rows))],m=Ape();(0,p_.default)(m,d.ptyIn(p,g=>{g&&g.message!=="unexpected end of parent stream"&&console.error(g)}));let h=new Tp;return(0,p_.default)(d.ptyOut(p),g=>{g(null,function v(y,x){if(y!==!0){if(y)throw y;h.fire(x),g(null,v)}})}),{write:g=>m.push(g),onData:h.event,resize:(g,v)=>d.ptyResize(p,g,v),exit:new Promise((g,v)=>{d.ptyExit(p,(y,x)=>{f.forEach(E=>E==null?void 0:E.dispose()),u.stop(c,l),y?v(y):g(x)})}),terminate:async()=>new Promise((g,v)=>{d.ptyTerminate(p,y=>{y?v(y):g()})})}}}function Mpe(e,t,n){return async r=>{let{cmd:i,args:o,cwd:s,env:a,output:u}=r,c=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,l=u.start(c),d=e();return new Promise((p,f)=>{d.execToEnd({cmd:i,args:o,cwd:s||n,env:a},(m,h)=>{if(u.stop(c,l),m||!h)f({stdin:new qc.Writable,stdout:qc.Readable.from([]),stderr:qc.Readable.from([]),exit:Promise.reject(m),terminate:async()=>{}});else{let g=qc.Readable.from([Buffer.from(h.stdout.data)]),v=new Promise(E=>g.on("end",E)),y=qc.Readable.from([Buffer.from(h.stderr.data)]),x=new Promise(E=>y.on("end",E));p({stdin:new qc.Writable,stdout:g,stderr:y,exit:Promise.all([v,x]).then(()=>({code:h.code,signal:h.signal})),terminate:async()=>{}})}})})}}var f_="\\\\.\\pipe\\openssh-ssh-agent";function Upe(e){let t=e.env.SSH_AUTH_SOCK;if(t)return{unparsed:t,cliHost:e,connectTo:{socketPath:t}};if(e.platform==="win32")return{unparsed:f_,cliHost:e,connectTo:{socketPath:f_}}}function qpe(e){let t=e.env.DISPLAY,n=t==null?void 0:t.match(/^(?<hostOrPath>[^:]+)?:(?<display>\d+)(?:\.(?<screen>\d+))?$/);if(n!=null&&n.groups){let{hostOrPath:r,display:i}=n.groups;return!r||r==="localhost/unix"?{unparsed:t,cliHost:e,connectTo:{socketPath:`/tmp/.X11-unix/X${i}`}}:r.startsWith("/")?{unparsed:t,cliHost:e,connectTo:{socketPath:`${r}:${i}`}}:{unparsed:t,cliHost:e,connectTo:{host:r,port:6e3+parseInt(i,10)}}}}async function RA(e){let t=e.env.WAYLAND_DISPLAY,n=e.env.XDG_RUNTIME_DIR,r=t&&e.path.isAbsolute(t)?t:t&&n&&e.path.join(n,t),i=n&&e.path.join(n,"wayland-0"),o=r||i;if(o&&await e.isSocket(o))return o}async function U3(e){let t=PA.randomUUID();return fn.posix.join((e==null?void 0:e.TMPDIR)||"/tmp",`vscode-wayland-${t}.sock`)}async function q3(e,t){let{shellServer:n,remoteWaylandSocket:r}=e;if(!r||t.WAYLAND_DISPLAY)return{};let i=t.XDG_RUNTIME_DIR;i||(i=(await n.exec('umask 077 && XRD="/tmp/user/$(id -u)" && mkdir -p $XRD && echo $XRD')).stdout.trim());let o=fn.posix.basename(r);return await n.exec(`test -e ${i}/${o} || ln -s ${r} ${i}/${o}`),i===t.XDG_RUNTIME_DIR?{WAYLAND_DISPLAY:o}:{XDG_RUNTIME_DIR:i,WAYLAND_DISPLAY:o}}var lf=new Set;async function $pe(e,t,n,r,i){let o=await i.processId;if(o&&o>0){let s=await bV(e,o),a=s.REMOTE_CONTAINERS_IPC;a&&a!==t&&!lf.has(a)&&a.indexOf("vscode-remote-containers-ipc")!==-1&&(lf.add(a),await e.exec(`rm '${a}' && ln -s '${t}' '${a}'`));let u=s.SSH_AUTH_SOCK;u&&n&&u!==n&&!lf.has(u)&&u.indexOf("vscode-ssh-auth")!==-1&&(lf.add(u),await e.exec(`rm '${u}' && ln -s '${n}' '${u}'`));let c=s.REMOTE_CONTAINERS_DISPLAY_SOCK;c&&r&&c!==r&&!lf.has(c)&&(lf.add(c),await e.exec(`rm '${c}' && ln -s '${r}' '${c}'`))}}async function jpe(e,t,n,r,i,o){let s=(i==null?void 0:i.commit)||"b3318bc0524af3d74034b8bb8a64df0ccf35549a",a=i!=null&&i.commit?i.quality||"insider":"stable",{localCacheFolder:u,output:c,alternateDownload:l}=e,d=fn.posix.join(n,"bin",s),p=fn.posix.join(d,"node");try{await t.exec(`test -x '${p}'`)}catch{if(i)try{let v=fn.posix.join(kA(r,i),"bin",s),y=fn.posix.join(v,"node");await t.exec(`test -x '${y}'`);let x=fn.posix.join(v,"node_modules","node-pty","package.json");return await t.exec(`test -f '${x}'`),y}catch{}let f;if((await t.exec("uname -s")).stdout.trim().split(`
`)[0]==="Darwin")f=TA;else{let v=await NA(t);f=OA(v,!1)}let h={localCacheFolder:u,build:f,commit:s,quality:a,web:!1,output:c,alternateDownload:l},g=rv(h);if(await bn(g)||await g_(h),f===TA)await ev({output:c},t,g,d,o);else{let v=[];await m_.t({file:g,filter:x=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(x),onentry:x=>{new m_.WriteEntry.Tar(x).on("data",_=>v.push(_))}});let y=Buffer.concat(v);await ev({output:c},t,y,d,o,!1)}}return p}var FA=V(require("path"));var Hpe=V(require("http")),Bpe=V(require("https"));function LA(e,t={}){return new Promise((n,r)=>{let i=e.startsWith("https:")?Bpe:Hpe,o;if(Object.keys(t).length>0){let a=new URL(e);o={headers:t,host:a.host,path:a.pathname}}i.get(o??e,a=>{var u;if(a.statusCode<200||a.statusCode>299){if(a.statusCode===302){let c=(u=a.headers)==null?void 0:u.location;c&&n(LA(c,t))}r(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`))}else{a.on("error",r);let c=[];a.on("data",l=>c.push(l)),a.on("end",()=>n(Buffer.concat(c)))}}).on("error",r)})}async function jr(e){let t=await nt(FA.join(e,"package.json"),"utf8");return JSON.parse(t)}async function iv(e){let t=await nt(FA.join(e,"product.json"),"utf8"),n=JSON.parse(t);return n.commit||(n.commit=await Vpe(n.quality)),n.serverDataFolderName||(n.serverDataFolderName=".vscode-server-oss"),n}async function Vpe(e="insider"){let t=`https://update.code.visualstudio.com/api/update/server-linux-x64/${e}/latest`,n=await LA(t);return JSON.parse(n.toString()).version}var $3=!0;function ov(e,t=!1){let{serverApplicationName:n}=e;return!t&&n?["bin",n]:["server.sh"]}var sv=V(require("net"));var MA=bA(),j3=e=>{if("port"in e)return MA.duplex(sv.connect(e.port,e.host));let t=e.socketPath;if(process.platform!=="win32"||t.startsWith("\\\\.\\pipe\\"))return MA.duplex(sv.connect(t));let n=new sv.Socket;return zpe(n,t)};function Wpe(e){let t=[];return e.split("-").map(n=>{let r=n.match(/.{2}/g);r!==null&&r.reverse().map(i=>{t.push(parseInt(i,16))})}),Buffer.from(t)}function Gpe(e,t,n){return t||n===void 0?{headerSize:e,err:t}:e===0?{headerSize:e,data:n}:n.length>e?(n=n.slice(e,n.length),e=0,{headerSize:e,data:n}):(e=e-n.length,{headerSize:e})}function zpe(e,t){let n=0,r=[],i=[],o,s=l=>{l instanceof Error&&console.error(l),e.destroy();for(let d of r)d.cb(l,void 0);r=[];for(let d of i)d(l,(p,f)=>{});i=[]};function a(l,d){o.source(l,function(p,f){let m=Gpe(n,p,f);n=m.headerSize,m.err||m.data?d(m.err||null,m.data):a(l,d)})}return(async()=>{let l=await nt(t),p=l.toString().match(/!<socket >(\d+)( s)? ((([A-Fa-f0-9]{2}){4}-?){4})/),f,m;if(p!==null){let h=p[1],g=p[3];f=parseInt(h,10);let v=Wpe(g),y=Buffer.alloc(12);y.writeUInt32LE(process.pid,0),m=Buffer.concat([v,y]),n=16+3*4}else{let h=l.indexOf(10);f=parseInt(l.slice(0,h).toString(),10),m=l.slice(h+1),n=0}e.on("error",h=>{s(h)}),e.connect(f,"127.0.0.1",()=>{e.write(m,h=>{if(!h){o=MA.duplex(e);for(let g of r)a(g.abort,g.cb);r=[];for(let g of i)o.sink(g);i=[]}})})})().catch(l=>{s(l)}),{source:function(l,d){o!==void 0?a(l,d):r.push({abort:l,cb:d})},sink:function(l){o!==void 0?o.sink(l):i.push(l)}}}var v_=!1;function y_(e,t,n){return v_?function(i){return Ype(e(i),`${t} ${JSON.stringify(i)}`,n)}:e}function Ype(e,t,n){return v_?{source:H3(e.source,`${t} Source`,n),sink:Kpe(e.sink,`${t} Sink`,n)}:e}function H3(e,t,n){return v_?function(i,o){n.write(`${t} end in (${typeof i}${i&&typeof i=="object"?`: ${Object.keys(i)}`:""}): ${i&&typeof i=="object"&&i.stack||i}`),e(i,function(a,u){n.write(`${t} end out (${typeof a}${a&&typeof a=="object"?`: ${Object.keys(a)}`:""}): ${a&&typeof a=="object"&&a.stack||a}`),n.write(`${t} data: ${u==null?void 0:u.toString("hex")}`),o(a,u)})}:e}function Kpe(e,t,n){return v_?function(i){e(H3(i,t,n))}:e}var V3=/^\\\\wsl(\.localhost|\$)?\\/;function yr(e){return V3.test(e.toLowerCase())}function pf(e){let t=e.toLowerCase(),n=V3.exec(t);if(!n)return"";let r=t.indexOf("\\",n[0].length);return e.substring(n[0].length,r)}async function x_(e){let{stdout:t}=await me({exec:Ca(void 0),cmd:"wsl",args:["-l","-v"],output:e}),n=t.toString(t[1]===0?"utf16le":"utf8").trim();return(/^\*\s*(\S+)/m.exec(n)||[])[1]}async function bl(e,t,n){let{stdout:r}=await me({exec:Ca(void 0),cmd:"wsl",args:["-d",e,"-e","wslpath","-u",t],output:n});return r.toString().trim()}async function Xpe(e,t){let{stdout:n}=await me({exec:Ca(void 0),cmd:"wsl",args:["-d",e,"-e","/bin/sh","-c","echo ~"],output:t});return n.toString().trim()}async function W3(e,t,n){let{stdout:r}=await me({exec:e.exec,cmd:"wslpath",args:["-w",t],output:n});return r.toString().trim()}async function ff(e,t){let n=pf(e),r=await bl(n,e,t);return ye.parse(`vscode-remote://wsl+${n}${r}`)}function mf(e){if(e.scheme==="vscode-remote"){let t=w_(e.authority);if(t){let n=e.path;return Yg(n)&&(n=B3.posix.dirname(n)),{wslDistro:t,wslPath:n}}}}function w_(e){return(/wsl\+(.*)/.exec(e)||[])[1]}async function E_(e,t,n,r,i,o,s,a){var m;let{distro:u,cwd:c}=await UA(e,t,s),l=hf("wsl",["-d",u,"-e"],c),d=await nv({extensionPath:n,localCacheFolder:r,package:await jr(n),product:i,loadNativeModule:o,output:s,alternateDownload:a},l,c,!1),p=await gf({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:s},{shell:((m=d.passwdUser)==null?void 0:m.shell)||"/bin/sh",remoteExec:d.exec});delete p.WSL_INTEROP,await d.setBaseEnv(p);let f=xi("wsl",c,p,d.exec,d.ptyExec,y_(d.connect,"WSL",s),d.nodeExecutable,s);return f.toCommonURI=async h=>{try{return ye.file((await me({exec:d.exec,cmd:"wslpath",args:["-w",h],output:s})).stdout.toString().trim())}catch{return}},f}async function UA(e,{defaultDistro:t},n){let r,i;return typeof e=="object"?(r=e.wslDistro,i=e.wslPath):e&&yr(e)?(r=pf(e),i=await bl(r,e,n)):(r=t||await x_(n)||(()=>{throw new Error("No default WSL distro found.")})(),i=e?await bl(r,e,n):await Xpe(r,n)),{distro:r,cwd:i}}var qA=V(require("path")),__=V(require("os"));var G3=V(require("os"));async function z3(e,t,n,r,i,o,s,a,u,c){var v;let l=e.substr(6),d=l.indexOf(":"),p=[(c==null?void 0:c.settings.executablePath)||"ssh"];c!=null&&c.settings.configFilePath&&p.push("-F",Qpe(c==null?void 0:c.settings.configFilePath)),d!==-1?p.push("-p",l.substr(d+1),l.substr(0,d)):p.push(l);let f=hf(p[0],p.slice(1),void 0,await(c==null?void 0:c.sshAskpassEnv)||{}),m=await nv({extensionPath:r,localCacheFolder:i,package:await jr(r),product:o,loadNativeModule:s,output:a,alternateDownload:u},f,t,!1),h=await gf({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:a},{shell:((v=m.passwdUser)==null?void 0:v.shell)||"/bin/sh",remoteExec:m.exec});await m.setBaseEnv(h);let g=xi("ssh",t||m.homeFolder,h,m.exec,m.ptyExec,m.connect,m.nodeExecutable,a);return g.toCommonURI=()=>Promise.resolve(void 0),g.reconnect=()=>m.reconnect(),g.terminate=()=>m.terminate(),g}function Qpe(e){return e.replace(/^~($|\/|\\)/,`${G3.homedir()}$1`)}function av(e,t){let n=Jpe(e);if(!n)return;let r=n.hostName;if(n.user||n.hostName.toLowerCase()!==n.hostName||n.port||n.hostName.match(/[\/\\\+]/)){let i=JSON.stringify(n);r=Buffer.from(i,"utf8").toString("hex")}return ye.parse(`vscode-remote://ssh-remote+${r}${t}`)}function Jpe(e){if(!e.startsWith("ssh://"))return;let t=e.substr(6),n=t.match(/^(?:(.*)@)?(.+?)(?::(\d+))?$/);if(n){let[,r,i,o]=n;return{hostName:i,user:r,port:o?parseInt(o,10):void 0}}return{hostName:t}}async function wi(e,t,n,r,i,o,s,a,u,c){return(e==null?void 0:e.startsWith("ssh://"))&&!(c!=null&&c.localDocker)?z3(e,t,r,i,o,s,n,a,u,c):typeof t=="object"||r.executeInWSL==="forWSLPath"&&t&&yr(t)||r.executeInWSL==="always"?E_(t,r,i,o,s,n,a,u):h_(t||process.cwd(),n,a)}async function h_(e,t,n){let r=Ca(e),i=await Y3(e,t);return Zpe(e,r,i,y_(j3,"Local",n))}function xi(e,t,n,r,i,o,s,a){let u,c;return{type:e,platform:"linux",exec:r,ptyExec:i,cwd:t,env:n,path:qA.posix,async homedir(){var l;return typeof c>"u"&&(c=this.env.HOME||((l=$A((await this.readFile("/etc/passwd")).toString(),(await this.getuid()).toString()))==null?void 0:l.home)||"/"),c},async tmpdir(){return this.env.TMPDIR||"/tmp"},isFile:async l=>{try{return await me({exec:r,cmd:"test",args:["-f",l],output:qe}),!0}catch(d){if((d==null?void 0:d.code)!==1)throw d;return!1}},isFolder:async l=>{try{return await me({exec:r,cmd:"test",args:["-d",l],output:qe}),!0}catch(d){if((d==null?void 0:d.code)!==1)throw d;return!1}},isSocket:async l=>{try{return await me({exec:r,cmd:"test",args:["-S",l],output:qe}),!0}catch(d){if((d==null?void 0:d.code)!==1)throw d;return!1}},readFile:async l=>{try{return(await me({exec:r,cmd:"cat",args:[l],output:qe})).stdout}catch(d){let p=new Error(`Could not read file: ${l}`);throw p.originalError=d,p.code="ENOENT",p}},writeFile:async(l,d)=>{await me({exec:r,cmd:"/bin/sh",args:["-c",`cat >'${l}'`],stdin:d,output:qe})},rename:async(l,d)=>{await me({exec:r,cmd:"mv",args:[l,d],output:qe})},rm:async(l,{recursive:d,force:p})=>{await me({exec:r,cmd:"rm",args:[...d?["-r"]:[],...p?["-f"]:[],l],output:qe})},mkdirp:async l=>{await me({exec:r,cmd:"mkdir",args:["-p",l],output:qe})},readDir:async l=>(await me({exec:r,cmd:"ls",args:["-a",l],output:qe})).stdout.toString().trim().split(`
`).filter(d=>d!=="."&&d!==".."),readDirWithTypes:async l=>{let d={f:1,"*":1,"/":2,"@":64};return(await me({exec:r,cmd:"ls",args:["-aF",l],output:qe})).stdout.toString().trim().split(`
`).map(p=>"/*@=%|>".indexOf(p[p.length-1])!==-1?[p.substr(0,p.length-1),p[p.length-1]]:[p,"f"]).filter(([p])=>p!=="."&&p!=="..").map(([p,f])=>[p,d[f]||0])},getUsername:async()=>(u===void 0&&(u=(await me({exec:r,cmd:"id",args:["-u","-n"],output:qe})).stdout.toString().trim()),u),getuid:async()=>{let l=await me({exec:r,cmd:"id",args:["-u"],output:qe});return parseInt(l.stdout.toString().trim(),10)},getgid:async()=>{let l=await me({exec:r,cmd:"id",args:["-g"],output:qe});return parseInt(l.stdout.toString().trim(),10)},toCommonURI:()=>Promise.resolve(void 0),connect:o,nodeExecutable:s}}function Zpe(e,t,n,r){return{type:"local",platform:process.platform,exec:t,ptyExec:n,cwd:e,env:process.env,path:qA,homedir:async()=>__.homedir(),tmpdir:async()=>__.tmpdir(),isFile:bn,isFolder:B$,isSocket:V$,readFile:nt,writeFile:Bw,rename:fa,rm:Cc,mkdirp:async i=>{await ko(i)},readDir:bc,getUsername:b_,getuid:process.platform==="linux"||process.platform==="darwin"?async()=>process.getuid():void 0,getgid:process.platform==="linux"||process.platform==="darwin"?async()=>process.getgid():void 0,toCommonURI:async i=>ye.file(i),connect:r}}function Z3(e,t,n){return e==="linux"?t===n:t.toLowerCase()===n.toLowerCase()}var VA=xr.join(__dirname,"..","..","node_modules",".bin","ts-node"),ks=xr.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function me(e){let{exec:t,cmd:n,args:r,cwd:i,env:o,stdin:s,output:a,print:u}=e,c=await t({cmd:n,args:r,cwd:i,env:o,output:a});return new Promise((l,d)=>{let p=[],f=[],m=u==="continuous"?new BA.StringDecoder:void 0;c.stdout.on("data",v=>{p.push(v),u==="continuous"&&a.write(m.write(v))}),c.stdout.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let h=u==="continuous"?new BA.StringDecoder:void 0;c.stderr.on("data",v=>{f.push(v),u==="continuous"&&a.write(Ze(h.write(v)))}),c.stderr.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let g=[];c.exit.then(({code:v})=>{try{g.forEach(E=>E.dispose());let y=Buffer.concat(p),x=Buffer.concat(f);(u===!0||v&&u==="onerror")&&(a.write(y.toString().replace(/\r?\n/g,`\r
`)),a.write(Ze(x.toString()))),u&&v&&a.write(`Exit code ${v}`),v?d({message:`Command failed: ${n} ${(r||[]).join(" ")}`,stdout:y,stderr:x,code:v}):l({stdout:y,stderr:x})}catch(y){d(y)}},d),s instanceof Buffer?(c.stdin.write(s,v=>{v&&d(v)}),c.stdin.end()):s instanceof Q3.ReadStream?s.pipe(c.stdin):typeof s=="function"&&g.push(s(v=>c.stdin.write(v)))})}async function sf(e){let{ptyExec:t,cmd:n,args:r,cwd:i,env:o,output:s,resolveOn:a,onDidInput:u}=e,c=await t({cmd:n,args:r,cwd:i,env:o,output:s});return new Promise((l,d)=>{let p="",f=[u&&u(m=>c.write(m))];c.onData(m=>{p+=m,s.raw(m),a&&a.exec(p)&&l({cmdOutput:p})}),c.exit.then(({code:m,signal:h})=>{try{f.forEach(g=>g==null?void 0:g.dispose()),m||h?d({message:`Command failed: ${n} ${(r||[]).join(" ")}`,cmdOutput:p,code:m,signal:h}):l({cmdOutput:p})}catch(g){d(g)}},m=>{f.forEach(h=>h==null?void 0:h.dispose()),d(m)})})}function Ca(e){return async function(t){let{cmd:n,args:r,output:i}=t,o=`Run: ${n} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,s=i.start(o),a=t.cwd||e,u=t.env?{...process.env,...t.env}:process.env,c=await af(n,a,u,i),l=vf.spawn(c,r,{cwd:a,env:u,windowsHide:!0});return{stdin:l.stdin,stdout:l.stdout,stderr:l.stderr,exit:new Promise((d,p)=>{l.once("error",f=>{i.stop(o,s),p(f)}),l.once("close",(f,m)=>{i.stop(o,s),d({code:f,signal:m})})}),async terminate(){l.kill("SIGKILL")}}}}async function Y3(e,t){let n=await t("node-pty");if(!n)throw new Error("Missing node-pty");return async function(r){var h,g;let{cmd:i,args:o,output:s}=r,a=`Run: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=s.start(a),c=!1,l=r.cwd||e,d=r.env?{...process.env,...r.env}:process.env,p=await af(i,l,d,s),f=n.spawn(p,o||[],{cwd:l,env:d,cols:(h=s.dimensions)==null?void 0:h.columns,rows:(g=s.dimensions)==null?void 0:g.rows,useConpty:c}),m=[s.onDidChangeDimensions&&s.onDidChangeDimensions(v=>f.resize(v.columns,v.rows))];return{onData:f.onData.bind(f),write:f.write.bind(f),resize:f.resize.bind(f),exit:new Promise(v=>{f.onExit(({exitCode:y,signal:x})=>{if(m.forEach(E=>E==null?void 0:E.dispose()),s.stop(a,u),v({code:y,signal:x}),process.platform==="win32")try{f.kill()}catch{}})}),async terminate(){f.kill("SIGKILL")}}}}function hf(e,t,n,r){return async function(i){let{env:o,cmd:s,args:a,output:u}=i,c=i.cwd||n,l=c?`cd '${c}' && `:"",d=Object.keys(o||{}).map(E=>`${E}='${o[E]}' `).join(""),p=(a||[]).map(E=>` '${E.replace(/'/g,`'"'"'`)}'`).join(""),f=`${l}${d}${s}${p}`,m=f!==s?["/bin/sh","-c",f]:[f],h=[...t,...m],g=`Run: ${e} ${h.join(" ").replace(/\n.*/g,"")}`,v=u.start(g),y=await af(e,process.cwd(),process.env,u),x=vf.spawn(y,h,{windowsHide:!0,env:r?{...process.env,...r}:void 0});return{stdin:x.stdin,stdout:x.stdout,stderr:x.stderr,exit:new Promise((E,_)=>{x.once("error",C=>{u.stop(g,v),_(C)}),x.once("close",(C,P)=>{u.stop(g,v),E({code:C,signal:P})})}),async terminate(){x.kill("SIGKILL")}}}}async function eW(e,t,n,r){let i=await r("node-pty");if(!i)throw new Error("Missing node-pty");return async function(o){var C,P;let{env:s,cmd:a,args:u,output:c}=o,l=o.cwd||n,d=l?`cd '${l}' && `:"",p=Object.keys(s||{}).map(T=>`${T}='${s[T]}' `).join(""),f=(u||[]).map(T=>` '${T.replace(/'/g,`'"'"'`)}'`).join(""),m=`${d}${p}${a}${f}`,h=[...t,"/bin/sh","-c",m],g=`Run: ${e} ${h.join(" ").replace(/\n.*/g,"")}`,v=c.start(g),y=!1,x=await af(e,process.cwd(),process.env,c),E=i.spawn(x,h,{cols:(C=c.dimensions)==null?void 0:C.columns,rows:(P=c.dimensions)==null?void 0:P.rows,useConpty:y}),_=[c.onDidChangeDimensions&&c.onDidChangeDimensions(T=>E.resize(T.columns,T.rows))];return{onData:E.onData.bind(E),write:E.write.bind(E),resize:E.resize.bind(E),exit:new Promise(T=>{E.onExit(({exitCode:b,signal:R})=>{if(_.forEach(D=>D==null?void 0:D.dispose()),c.stop(g,v),T({code:b,signal:R}),process.platform==="win32")try{E.kill()}catch{}})}),async terminate(){E.kill("SIGKILL")}}}}async function af(e,t=process.cwd(),n,r){if(process.platform!=="win32")return e;if(xr.isAbsolute(e))return await jA(e)||e;if(/[/\\]/.test(e)){let a=xr.join(t,e);return await jA(a)||a}let i,o;if(n){for(let a of Object.keys(n))if(a.toLowerCase()==="path"){let u=n[a];typeof u=="string"&&(i=u,o=u.split(xr.delimiter).filter(Boolean),o.push(xr.join(n.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(o===void 0||o.length===0){r.write(`findLocalWindowsExecutable: No PATH to look up executable '${e}'.`);let a=new Error(`No PATH to look up executable '${e}'.`);throw a.code="ENOENT",a}for(let a of o){let u;xr.isAbsolute(a)?u=xr.join(a,e):u=xr.join(t,a,e);let c=await jA(u);if(c)return c}r.write(`findLocalWindowsExecutable: Exectuable '${e}' not found on PATH '${i}'.`);let s=new Error(`Exectuable '${e}' not found on PATH '${i}'.`);throw s.code="ENOENT",s}var K3=process.env.PATHEXT,X3=K3?K3.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function jA(e){if(X3.indexOf(xr.extname(e))!==-1)return await bn(e)?e:void 0;for(let t of X3){let n=e+t;if(await bn(n))return n}}function yf(e){let t=/^'?v?(\d+(\.\d+)*)/.exec(e);if(!!t)return t[1].split(".").map(n=>parseInt(n,10))}function xf(e,t){for(let n=0,r=Math.max(e.length,t.length);n<r;n++){let i=e[n]||0,o=t[n]||0;if(i!==o)return i<o}return!1}var tW=ks?(e,t,n)=>vf.spawn(VA,[e,...t||[]],{...n,windowsHide:!0}):vf.fork;async function C_(e,t){if(!t){try{return require(e)}catch{}return}try{return require(`${t}/node_modules.asar/${e}`)}catch{}try{return require(`${t}/node_modules/${e}`)}catch{}try{return __non_webpack_require__(`${t}/node_modules.asar/${e}`)}catch{}try{return __non_webpack_require__(`${t}/node_modules/${e}`)}catch{}}function cv(e){let{output:t}=e,n=[];return{output:Wi({...t,get dimensions(){return t.dimensions},event:i=>n?n.push(i):t.event(i)}),flush:()=>{n&&(n.forEach(i=>t.event(i)),n=void 0)}}}function nW(e,t,n){return Wi({...e,get dimensions(){return e.dimensions},event:i=>{i.channel===t&&e.event(i),n.event(i)}})}function S_(e,t){return t&&typeof t=="object"&&"win32"in t?e==="win32"?t.win32:t.posix:t}async function df(e,t){return S_(e.platform,{posix:async()=>{try{return await e.exec(`test -f '${t}'`),!0}catch{return!1}},win32:async()=>(await e.exec(`Test-Path '${t}' -PathType Leaf`)).stdout.trim()==="True"})()}var HA;async function b_(){return HA===void 0&&(HA=(async()=>{try{return J3.userInfo().username}catch(e){if(process.platform!=="linux")throw e;return(await me({exec:Ca(void 0),cmd:"id",args:["-u","-n"],output:qe})).stdout.toString().trim()}})()),HA}var yi="\u2404";async function Ji(e,t,n,r="linux",i="Container"){let o=typeof e=="function",s=r==="win32",a=o?await e({env:n?{VSCODE_REMOTE_CONTAINERS_SESSION:n}:{},cmd:s?"powershell":"/bin/sh",args:s?["-NoProfile","-Command","-"]:[],output:t}):e;if(!o){let p=s?`powershell -NoProfile -Command "powershell -NoProfile -Command -"
`:`/bin/sh -c 'echo ${yi}; /bin/sh'
`;a.stdin.write(p),await new Promise(m=>{let h="",g=new WA.StringDecoder;a.stdout.on("data",function v(y){h+=g.write(y),h.includes(p)&&(a.stdout.off("data",v),m())})})}let u=tfe(a),c;async function l(p,f){let m=c=(async()=>{try{await c}catch{}return d(S_(r,p),f)})();try{return await Promise.race([m,u.unexpectedExit])}finally{u.disposeStdioListeners(),c===m&&(c=void 0)}}async function d(p,f){let m=`Run in ${i.toLowerCase()}: ${p.replace(/\n.*/g,"")}`,h;if((f==null?void 0:f.logOutput)!=="silent"&&(h=t.start(m,f==null?void 0:f.logLevel)),a.stdin.destroyed){t.write("Stdin closed!");let{code:P,signal:T}=await a.exit;return Promise.reject({message:`Shell server terminated (code: ${P}, signal: ${T})`,code:P,signal:T})}r==="win32"?a.stdin.write(`[Console]::Write('${yi}'); ( ${p} ); [Console]::Write("${yi}$LastExitCode ${yi}"); [Console]::Error.Write('${yi}')
`):a.stdin.write(`echo -n ${yi}; ( ${p} ); echo -n ${yi}$?${yi}; echo -n ${yi} >&2
`);let[g,v]=rW(a.stdout,[1,2],(f==null?void 0:f.logOutput)==="continuous"?(P,T,b)=>{T===1&&b===0&&t.write(P,f==null?void 0:f.logLevel)}:()=>{}),y=rW(a.stderr,[1],(f==null?void 0:f.logOutput)==="continuous"?(P,T,b)=>{T===0&&b===0&&t.write(P,f==null?void 0:f.logLevel)}:()=>{})[0];f!=null&&f.stdin&&(await g,a.stdin.write(f==null?void 0:f.stdin));let[x,E]=await v,[_]=await y,C=parseInt(E,10)||0;return((f==null?void 0:f.logOutput)===void 0||(f==null?void 0:f.logOutput)===!0)&&(t.write(x,f==null?void 0:f.logLevel),t.write(_,f==null?void 0:f.logLevel),C&&t.write(`Exit code ${C}`,f==null?void 0:f.logLevel)),(f==null?void 0:f.logOutput)==="continuous"&&C&&t.write(`Exit code ${C}`,f==null?void 0:f.logLevel),(f==null?void 0:f.logOutput)!=="silent"&&t.stop(m,h,f==null?void 0:f.logLevel),C?Promise.reject({message:`Command in ${i.toLowerCase()} failed: ${p}`,code:C,stdout:x,stderr:_}):{stdout:x,stderr:_}}return{exec:l,process:a,platform:r,path:S_(r,efe)}}function rW(e,t,n){let r=t.map(()=>{let l;return{promise:new Promise((p,f)=>l={resolve:p,reject:f}),...l}}),i=new WA.StringDecoder("utf8"),o=[],s=0,a=[];function u(l){let d=i.write(l);c(d)}function c(l){let d=l.indexOf(yi);if(d!==-1){let p=l.substr(0,d);o.push(p),n(p,s,a.length),a.push(o.join("")),o.length=0,a.length===t[s]&&(r[s].resolve(a),s++,a=[],s===t.length&&e.off("data",u)),d+1<l.length&&c(l.substr(d+1))}else o.push(l),n(l,s,a.length)}return e.on("data",u),r.map(l=>l.promise)}function tfe(e){let t,n=new Promise((u,c)=>t=c),r=[],i=[],o=u=>r.push(u),s=u=>i.push(u);return e.stdout.on("data",o),e.stderr.on("data",s),e.exit.then(({code:u,signal:c})=>{t(`Shell server terminated (code: ${u}, signal: ${c})
${Buffer.concat(r).toString()}
${Buffer.concat(i).toString()}`)},u=>{t(`Shell server failed: ${u&&(u.stack||u.message)}`)}),{unexpectedExit:n,disposeStdioListeners:()=>{e.stdout.off("data",o),e.stderr.off("data",s),r.length=0,i.length=0}}}var T_=V(require("path"));var nfe=["install.sh","install","bootstrap.sh","bootstrap","script/bootstrap","setup.sh","setup","script/setup"];async function iW(e,t,n,r,i){let{repository:o,installCommand:s,targetPath:a}=e.dotfilesConfiguration;if(o=i.getDotfileConfiguration("dotfiles.repository")||o,s=i.getDotfileConfiguration("dotfiles.installCommand")||s,a=i.getDotfileConfiguration("dotfiles.targetPath")||a,!o)return;await r;let u=await n;o.indexOf(":")===-1&&!/^\.{0,2}\//.test(o)&&(o=`https://github.com/${o}.git`);let c=t.shellServer,l=oW(t),d=Object.keys(u).filter(p=>!(p.startsWith("BASH_FUNC_")&&p.endsWith("%%"))).reduce((p,f)=>`${p}${f}=${rfe(u[f])} `,"");try{e.output.event({type:"progress",name:"Installing Dotfiles",status:"running"}),s?await c.exec(`# Clone & install dotfiles
${I_(l)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${o} ${a} || exit $?
if [ -x ${s} ]
then
	echo Executing script ${s}
	cd ${a} && ${d}${s}
else
	echo Error: ${s} not executable
	exit 126
fi
`,{logOutput:"continuous",logLevel:3}):await c.exec(`# Clone & install dotfiles
${I_(l)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${o} ${a} || exit $?
cd ${a}
for f in ${nfe.join(" ")}
do
	if [ -e $f ]
	then
		installCommand=$f
		break
	fi
done
if [ -z "$installCommand" ]
then
	dotfiles=$(ls -d ${a}/.* 2>/dev/null | grep -v -E '/(.|..|.git)$')
	if [ ! -z "$dotfiles" ]
	then
		echo Linking dotfiles: $dotfiles
		ln -sf $dotfiles ~ 2>/dev/null
	else
		echo No dotfiles found.
	fi
else
	if [ -x "$installCommand" ]
	then
		echo Executing script '${a}'/"$installCommand"
		${d}./"$installCommand"
	else
		echo Error: '${a}'/"$installCommand" not executable
		exit 126
	fi
fi
`,{logOutput:"continuous",logLevel:3}),e.output.event({type:"progress",name:"Installing Dotfiles",status:"succeeded"})}catch{e.output.event({type:"progress",name:"Installing Dotfiles",status:"failed"})}}function rfe(e){return`'${(e||"").replace(/'+/g,`'"$&"'`)}'`}function oW(e){return T_.posix.join(Zi(e),".dotfilesMarker")}async function sW(e){let t=oW(e),n=T_.posix.resolve(e.homeFolder,".devcontainer",".dotfilesMarker");try{await e.shellServer.exec(`test -f '${t}' && test ! -e '${n}' && mkdir -p '${T_.posix.dirname(n)}' && cp '${t}' '${n}'`)}catch{}}var EW=V(require("net")),_W=V(wW());async function JA({forwardedPorts:e,output:t,getLogLevel:n},r,i,o){t.write(`Port forwarding for container port ${i} starts listening on local port.`,2);let s=o?{VSCODE_REMOTE_CONTAINERS_SESSION:o}:void 0;return new Promise((a,u)=>{let c=new Set,l=EW.createServer({pauseOnConnect:!0},d=>{let p=d.remotePort,f=l.address().port;t.write(`Port forwarding connection from ${p} > ${f} > ${i} in the container.`),n()===1&&(async()=>{let m=await(0,_W.default)("port",p);t.write(`Port forwarding process for ${p} > ${f} > ${i} in the container:
${JSON.stringify(m,void 0,"  ")}`)})().catch(console.error),dfe(t,r,[r.nodeExecutable,"-e",`
				const net = require('net');
				const fs = require('fs');
				process.stdin.pause();
				const client = net.createConnection({ host: '127.0.0.1', port: ${i} }, () => {
					console.error('Connection established');
					client.pipe(process.stdout);
					process.stdin.pipe(client);
				});
				client.on('close', function (hadError) {
					console.error(hadError ? 'Remote close with error' : 'Remote close');
					process.exit(hadError ? 1 : 0);
				});
				client.on('error', function (err) {
					process.stderr.write(err && (err.stack || err.message) || String(err));
				});
				process.stdin.on('close', function (hadError) {
					console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
					process.exit(hadError ? 1 : 0);
				});
				process.on('uncaughtException', function (err) {
					fs.writeSync(process.stderr.fd, \`Uncaught Exception: \${String(err && (err.stack || err.message) || err)}\\n\`);
				});
			`],s).then(m=>{let h;m.exit.then(({code:g,signal:v})=>{h||(c.delete(d),d.end()),t.write(`Port forwarding ${p} > ${f} > ${i} terminated${h?` by extension (${h})`:""} with code ${g} and signal ${v}.`)},g=>{c.delete(d),d.end(),t.write(`Port forwarding ${p} > ${f} > ${i} terminated with error: ${g&&g.message||String(g)}`)}),m.stderr.on("data",g=>{t.write(`Port forwarding ${p} > ${f} > ${i} stderr: ${g.toString("utf8")}`,2)}),d.on("close",g=>{t.write(`Port forwarding ${p} > ${f} > ${i}: Local close${g?" with error":""}`,2),c.delete(d),h="closed",m.stdin.end(),setTimeout(()=>{h="killed",m.terminate().catch(console.error)},5e3)}),m.stdout.pipe(d),d.pipe(m.stdin),c.add(d)}).catch(console.error)});l.on("listening",()=>{let d={targetPort:i,server:l,connections:c};l.on("close",()=>{e.delete(d)}),e.add(d),t.write(`Port forwarding local port ${l.address().port} to container port ${i}`),a(l)}),l.on("error",d=>{if(d&&(d.code==="EADDRINUSE"||d.code==="EACCES")){l.listen(0,"127.0.0.1");return}u(d)}),l.on("close",()=>{u(new Error("Closed"))}),l.listen(i,"127.0.0.1")})}async function dfe(e,t,n,r){return t.remoteExec({env:r,cmd:n[0],args:n.slice(1),output:e})}var wf=V(require("path"));function D_(e,t){let n,r=e.platform==="win32",i={...e,get env(){return n||(n=bW(r,e.env))}},o=mfe.bind(void 0,r,i);return e.containerWorkspaceFolder&&(i.containerWorkspaceFolder=CW(o,e.containerWorkspaceFolder)),A_(o,t)}function ZA(e,t,n,r){let i=e==="win32";return A_(hfe.bind(void 0,i,t,bW(i,n)),r)}function A_(e,t){if(typeof t=="string")return CW(e,t);if(Array.isArray(t))return t.map(n=>A_(e,n));if(t&&typeof t=="object"){let n=Object.create(null);return Object.keys(t).forEach(r=>{n[r]=A_(e,t[r])}),n}return t}var pfe=/\$\{(.*?)\}/g;function bW(e,t){if(e){let n=Object.create(null);return Object.keys(t).forEach(r=>{n[r.toLowerCase()]=t[r]}),n}return t}function CW(e,t){return t.replace(pfe,ffe.bind(void 0,e))}function ffe(e,t,n){let r,i=n.split(":");return i.length>1&&(n=i[0],r=i[1]),e(t,n,r)}function mfe(e,t,n,r,i){switch(r){case"env":case"localEnv":return SW(e,t.env,i,n,t.configFile);case"localWorkspaceFolder":return t.localWorkspaceFolder!==void 0?t.localWorkspaceFolder:n;case"localWorkspaceFolderBasename":return t.localWorkspaceFolder!==void 0?(e?wf.win32:wf.posix).basename(t.localWorkspaceFolder):n;case"containerWorkspaceFolder":return t.containerWorkspaceFolder!==void 0?t.containerWorkspaceFolder:n;case"containerWorkspaceFolderBasename":return t.containerWorkspaceFolder!==void 0?wf.posix.basename(t.containerWorkspaceFolder):n;default:return n}}function hfe(e,t,n,r,i,o){switch(i){case"containerEnv":return SW(e,n,o,r,t);default:return r}}function SW(e,t,n,r,i){if(n){e&&(n=n.toLowerCase());let o=t[n];return typeof o=="string"?o:""}throw new ve({description:`'${r}'${i?` in ${wf.posix.basename(i.path)}`:""} can not be resolved because no environment variable name is given.`})}async function to(e){return new Promise(t=>setTimeout(t,e))}var jc=0,TW=/Extension host agent listening on (\d+)/;var nD="updateContentCommand";async function F_(e){let{params:t,createdAt:n,startedAt:r,sharedDataFolder:i,sharedDataFolderIsLocalCacheFolder:o,remoteWorkspaceFolder:s,containerUser:a,containerGroup:u,containerEnv:c,remoteExec:l,remotePtyExec:d,remoteExecAsRoot:p,rootShellServer:f,remoteWaylandSocket:m}=e,h;if(f&&a==="root"?h=f:h=await Ji(l,t.output,t.sessionId),!c){let L=(await h.exec("echo $PATH")).stdout.trim();c=L?{PATH:L}:{}}a||(a=await AA(h)),!p&&a==="root"&&(p=l);let g=await NA(h),v=await DA(h,a);v||t.output.write(p0(`User ${a} not found in /etc/passwd.`));let y=await vfe(c,v),x=await gfe(c,v),E=kA(x,t.product),{commit:_,quality:C}=t.product,P=_&&await yfe(E,_,C||"insider",t.web),T=OA(g,C==="stable"),b=_&&i&&await DW(pe.posix,i,T,_,C||"insider",t.web),R=P&&await wfe(P),D;f?D=Promise.resolve(f):a==="root"&&(D=Promise.resolve(h));let I={createdAt:n,startedAt:r,osRelease:g,build:T,user:a,gid:u||(v==null?void 0:v.gid),env:c,shell:y,homeFolder:x,userDataFolder:E,sharedDataFolderIsLocalCacheFolder:o,sharedDataFolder:i,installFolder:P,sharedInstallFolder:b,remoteWorkspaceFolder:s,nodeExecutable:R,remoteExec:l,remotePtyExec:d,remoteExecAsRoot:p,shellServer:h,remoteWaylandSocket:m};return(D||p)&&(I.launchRootShellServer=()=>D||(D=Ji(p,t.output))),I}async function AA(e){return(await e.exec("id -un")).stdout.trim()}async function gfe(e,t){return e.HOME||t&&t.home||"/root"}async function vfe(e,t){return e.SHELL||t&&t.shell||"/bin/sh"}async function DA(e,t){let{stdout:n}=await e.exec("cat /etc/passwd",{logOutput:!1});return $A(n,t)}function $A(e,t){return e.split(/\r?\n/).map(r=>r.split(":")).map(r=>({name:r[0],uid:r[2],gid:r[3],home:r[5],shell:r[6]})).find(r=>r.name===t||r.uid===t)}async function yfe(e,t,n,r){return pe.posix.join(e,"bin",`${t}${n==="stable"?"":`-${n}`}${r?"-web":""}`)}async function DW(e,t,n,r,i,o){return e.join(t,"bin",n.id,`${r}${i==="stable"?"":`-${i}`}${o?"-web":""}`)}function kW(e){return pe.posix.join(e.userDataFolder,"extensions")}function Zi(e){return pe.posix.join(typeof e=="string"?e:e.userDataFolder,"data/Machine")}function M_(e){return pe.posix.join(e.userDataFolder,"data/Machine/settings.json")}function xfe(e){return pe.posix.join(e,".vscode-remote")}function kA(e,t){return pe.posix.join(e,t.serverDataFolderName)}function _f(e){return pe.posix.join("/var",/^\.*(.*)$/.exec(e)[1])}async function wfe(e){return pe.posix.join(e,"node")}var uv=class{constructor(t){this.settings=t}getConfiguration(t){return this.settings[cf(t)]||this.settings[Uc(t)]}getNewConfiguration(t){return this.settings[cf(t)]}getDotfileConfiguration(t){return this.settings[Uc(t)]||this.settings[t]}};async function OW(e,t,n,r,i=jc){await NW(e,t),await $fe(e,t),await jfe(e,t);let o=await LW(e,t,n),{serverDownloaded:s}=await FW(e,t),a,u,c=Promise.resolve(),l;if(!e.cliMode&&t.nodeExecutable){let y=await tv(e,t,o);a=y.remoteContainersCLI,u=y.remoteEnv,c=y.ready,l=y.mrpcExec;let x=e.cliHost.reconnect;x&&(e.cliHost.reconnect=async()=>{await x(),y.reconnect().catch(E=>e.output.write(Ze(E&&(E.stack||E.message)||String(E))))})}let p=e.computeExtensionHostEnv||t.installFolder&&e.cliMode||e.postCreate.enabled?gf(e,t,n,l).then(y=>({...y,...u,...e.cliMode?{}:{REMOTE_CONTAINERS:"true"},...n.remoteEnv?ZA(e.cliHost.platform,n.configFilePath,t.env,n.remoteEnv):{},NODE_OPTIONS:void 0})):Promise.resolve({}),f=o.getConfiguration("gitCredentialHelperConfigLocation")??e.credentialHelperConfigLocation;!e.cliMode&&t.nodeExecutable&&(await Cl(e,t,[".ssh","known_hosts"],"ssh"),f!=="none"&&await Ef(t,a,e.output,"system"));let m,h,g,v;if(t.installFolder){let x=await HW(e,t,i,l,async()=>UW(e,t,async()=>{var C,P,T;return Array.from(new Set([...((P=(C=n.customizations)==null?void 0:C.vscode)==null?void 0:P.extensions)||[],...((T=await r())==null?void 0:T.allFeatures.filter(b=>($3||b.included)&&b.value).reduce((b,R)=>{var D,I;return b.concat(((I=(D=R.customizations)==null?void 0:D.vscode)==null?void 0:I.extensions)||[])},[]))||[]]))}),p),E=x.serverPort;g=x.connectionToken,v=x.webConnectionToken,m=E,e.forwardServerPort&&t.nodeExecutable&&(h=await JA(e,t,E,e.sessionId),m=h.address().port,e.backgroundTasks.push(async()=>WW(e,t,n)))}if(e.postCreate.enabled){let y,x=!1,E=new Promise(C=>y=()=>{x=!0,C()}),_=(async()=>{if((n.waitFor||nD)==="initializeCommand"&&y(),!(e.postCreate.skipNonBlocking&&x)&&(await eD(e,t,n,"onCreateCommand",p,c,!1,y),!(e.postCreate.skipNonBlocking&&x)&&(await eD(e,t,n,"updateContentCommand",p,c,!!e.prebuild,y),!(e.postCreate.skipNonBlocking&&x)))){if(!e.prebuild){if(await eD(e,t,n,"postCreateCommand",p,c,!1,y),e.postCreate.skipNonBlocking&&x||(await iW(e,t,p,c,o),!e.cliMode&&t.nodeExecutable&&((o.getConfiguration("copyGitConfig")??e.isCopyGitConfigEnabled)&&(await Cl(e,t,[".gitconfig"],"git"),await q_(e,t,p.then(C=>({...t.env,...C})))),await Ef(t,a,e.output,f)),await Ofe(e,t,n,p,c,y),e.postCreate.skipNonBlocking&&x))return;await Nfe(e,t,n,p,c,y)}e.postCreate.done()}})();e.backgroundTasks.push(_),await Promise.race([E,_])}return{hostOrContainerPort:m,hostPortServer:h,connectionToken:g,webConnectionToken:v,remoteEnv:e.computeExtensionHostEnv?await p:{},serverDownloaded:s}}async function bf(e,t,n,r,i=jc,o,s){await NW(e,t);let a=await LW(e,t,r),{serverDownloaded:u}=await FW(e,t),c,l,d;if(!e.cliMode&&t.nodeExecutable){let x=await tv(e,t,a);c=x.remoteContainersCLI,l=x.remoteEnv;let E=o;o=async(...C)=>(await x.ready,E(...C)),d=x.mrpcExec;let _=e.cliHost.reconnect;_&&(e.cliHost.reconnect=async()=>{await _(),x.reconnect().catch(C=>e.output.write(Ze(C&&(C.stack||C.message)||String(C))))})}let f=e.computeExtensionHostEnv||t.installFolder&&e.cliMode||e.postCreate.enabled?gf(e,t,r,d).then(async x=>({...x,...l,...await q3(t,x),...e.cliMode?{}:{REMOTE_CONTAINERS:"true"},...ZA(e.cliHost.platform,n.configFilePath,t.env,r.remoteEnv||{}),NODE_OPTIONS:void 0})):Promise.resolve({}),m=a.getConfiguration("gitCredentialHelperConfigLocation")??e.credentialHelperConfigLocation;!e.cliMode&&t.nodeExecutable&&(await Cl(e,t,[".ssh","known_hosts"],"ssh"),m!=="none"&&await Ef(t,c,e.output,"system"));let h,g,v,y;if(t.installFolder){let E=await HW(e,t,i,d,async()=>UW(e,t,async()=>{var P;return[...new Set([].concat(...(((P=r.customizations)==null?void 0:P.vscode)||[]).map(T=>T.extensions||[])))]}),f),_=E.serverPort;v=E.connectionToken,y=E.webConnectionToken,h=_,e.forwardServerPort&&t.nodeExecutable&&(g=await JA(e,t,_,e.sessionId),h=g.address().port,e.backgroundTasks.push(async()=>WW(e,t,r)))}if(e.postCreate.enabled){let x,E=new Promise(C=>x=()=>{C()}),_=(async()=>{let C={...l,...e.cliMode?{}:{REMOTE_CONTAINERS:"true"}},P=["onCreateCommand","updateContentCommand","postCreateCommand","postStartCommand","postAttachCommand"],T=P.reduce((b,R)=>(b[R]=(r[`${R}s`]||[]).length>0,b),{});if(e.prebuild){let b=P.indexOf("updateContentCommand");if((!P.slice(0,b+1).some(I=>T[I])?"prebuild":await o(!1,!1,!0,a,C))!=="prebuild")throw new Error('"prebuild" expected')}else{let b=!0,R=!0,D=r.waitFor||nD,I=P.indexOf(D),L=P.indexOf("postCreateCommand"),q=I<=L&&!P.slice(0,I+1).some(H=>T[H]),k=a.getDotfileConfiguration("dotfiles.repository")||e.dotfilesConfiguration.repository,N=!P.slice(0,L+1).some(H=>T[H])&&!k,U=q?"skipNonBlocking":N?"stopForPersonalization":await o(b,R,!1,a,C);if(U==="skipNonBlocking"){if(x(),e.postCreate.skipNonBlocking)return;b=!1,U=!P.slice(I+1,L+1).some(oe=>T[oe])&&!k?"stopForPersonalization":await o(b,R,!1,a,C)}if(U==="stopForPersonalization"){!e.cliMode&&t.nodeExecutable&&((a.getConfiguration("copyGitConfig")??e.isCopyGitConfigEnabled)&&(await Cl(e,t,[".gitconfig"],"git"),await q_(e,t,f.then(O=>({...t.env,...O})))),await Ef(t,c,e.output,m)),await(s==null?void 0:s()),R=!1;let H=I>L&&!P.slice(L+1,I+1).some(O=>T[O]),oe=!P.slice(L+1).some(O=>T[O]);U=H?"skipNonBlocking":oe?"done":await o(b,R,!1,a,C)}if(U==="skipNonBlocking"){if(x(),e.postCreate.skipNonBlocking)return;b=!1,U=!P.slice(I+1).some(oe=>T[oe])?"done":await o(b,R,!1,a,C)}if(U!=="done")throw new Error('"done" expected')}})();_.then(()=>{e.postCreate.done()},C=>{e.postCreate.done(C)}),e.backgroundTasks.push(_),await Promise.race([E,_])}return{hostOrContainerPort:h,hostPortServer:g,connectionToken:v,webConnectionToken:y,remoteEnv:e.computeExtensionHostEnv?await f:{},serverDownloaded:u}}async function NW(e,t){let n=xfe(t.homeFolder);!await O_(t.shellServer,t.userDataFolder)&&await O_(t.shellServer,n)&&await Sa(e,t,["/bin/sh","-c",`cp -r '${n}' '${t.userDataFolder}'`])}async function LW(e,t,n){var s;let r=Zi(t),i=pe.posix.join(r,".writeMachineSettingsMarker"),o=M_(t);if(await $_(t.shellServer,i)){let a=(s=n.customizations)==null?void 0:s.vscode,u=Object.assign({},...(Array.isArray(a)?a:a?[a]:[]).map(c=>c.settings));if(Efe(u,n.portsAttributes),_fe(u,n.otherPortsAttributes),Object.keys(u).length)return await t.shellServer.exec(`mkdir -p '${pe.posix.dirname(o)}' && cat >'${o}' <<'settingsJSON'
${JSON.stringify(u,null,"	")}
settingsJSON
`),new uv(u)}try{let{stdout:a}=await t.shellServer.exec(`cat ${o}`);return new uv(Je(a)||{})}catch{return new uv({})}}function Efe(e,t){if(!e||!t||!Object.keys(t).length)return;let n="remote.portsAttributes";if(!e[n]){e[n]=t;return}for(let r in t)e[n][r]||(e[n][r]=t[r])}function _fe(e,t){if(!e||!t)return;let n="remote.otherPortsAttributes";e[n]||(e[n]=t)}async function U_(e,t,n,r){let i=typeof e.gid=="string"?`${e.user}:${e.gid}`:e.user,o=await t();if((await o.exec(`stat -c %u ${n}`)).stdout.trim()==="0"){let u=pe.posix.dirname(n);u!=="/"&&await o.exec(`chown ${i} ${u}`),n!=="/"&&await o.exec(`chown -R ${i} ${n}`)}else if(r&&(await o.exec(`stat -c %u ${r}`)).stdout.trim()==="0"){let l=pe.posix.dirname(r);l!=="/"&&await o.exec(`chown -R ${i} ${l}`)}}async function Ef(e,t,n,r){if((t||ks)&&r!=="none"){let i=r==="system"?e.launchRootShellServer&&await e.launchRootShellServer():e.shellServer;i?await i.exec(`command -v git >/dev/null 2>&1 && git config --${r} --replace-all credential.helper '!f() { ${e.nodeExecutable} ${t} git-credential-helper $*; }; f' || true`):n.write("Cannot configure system wide Git credential helper without root access.")}}async function Cl(e,t,n,r){let{cliHost:i}=e,o=i.path.join(await i.homedir(),...n),s=pe.posix.join(t.homeFolder,...n);await of(e,t,o,s,r)}async function q_(e,t,n){let{cliHost:r}=e,{env:i}=r,o=["git","config"],s=i.XDG_CONFIG_HOME?[i.XDG_CONFIG_HOME]:[await r.homedir(),".config"],a=r.path.join(...s,...o),u=(async()=>{let c=await n,l=c.XDG_CONFIG_HOME?[c.XDG_CONFIG_HOME]:[t.homeFolder,".config"];return pe.posix.join(...l,...o)})();await of(e,t,a,u,"git")}async function of(e,t,n,r,i){let o=await bfe(e.cliHost,n);if(o)try{let s=await r;await t.shellServer.exec(`# Test for ${s} and ${i}
[ -e ${s} ] && echo ${s} exists && exit 1
command -v ${i} >/dev/null 2>&1 || (echo ${i} not found && exit 1) || exit 1
mkdir -p ${pe.posix.dirname(s)}`),await t.shellServer.exec(`# Copy ${n} to ${s}
${oD(o.byteLength)} >${s}`,{stdin:o})}catch(s){if(s&&s.code!==1)throw s}}async function bfe(e,t){try{return await e.readFile(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="EISDIR"))return;throw n}}async function FW(e,t){let{commit:n}=e.product,{installFolder:r,shellServer:i,launchRootShellServer:o,build:s}=t;if(!(n&&r))return{serverDownloaded:void 0};Cfe(t.osRelease,s),s.preview&&e.output.write(`\r
\x1B[1mSupport for ${s.label} is in preview.\x1B[22m\r
\r
`);let a=await O_(i,r),u;a||s===$W[s.arch]&&(o?u=(await o()).exec("apk info | grep -e '^libstdc++$' || (apk update && apk add libstdc++)"):u=i.exec(`apk info | grep -e '^libstdc++$' || (echo "ERROR: libstdc++ not found. Please install." >&2 && exit 1)`));let c=t.sharedInstallFolder;if(c&&await O_(i,c))return a||await i.exec(`mkdir -p '${pe.posix.dirname(r)}' && ln -snf '${c}' '${r}'`),o&&(async()=>{await(await o()).exec(`touch '${c}'`)})().catch(console.error),await u,{serverDownloaded:!1};if(a)return{serverDownloaded:!1};e.progress(4),e.output.write(`Installing VS Code Server for commit ${n}\r
`);let l=!!(c&&o),d=l?c:r,p=l?await o():i,f={localCacheFolder:e.localCacheFolder,build:s,commit:n,quality:e.product.quality||"insider",web:e.web,output:e.output,alternateDownload:e.alternateDownload},m=rv(f),h=await bn(m);h||await g_(f);try{t.sharedDataFolderIsLocalCacheFolder?await IW(f):await ev(e,p,m,d)}catch(g){if(g&&g.stderr&&/unexpected end of file|not in gzip format/i.test(g.stderr.toString()))await g_(f),t.sharedDataFolderIsLocalCacheFolder?await IW(f):await ev(e,p,m,d);else throw g}return l&&(await i.exec(`mkdir -p '${pe.posix.dirname(r)}' && ln -snf '${c}' '${r}'`),(async()=>{await p.exec(`touch '${c}' && cd '${pe.posix.dirname(c)}' && ls -td *[^_]????????????? | tail -n +10 | xargs rm -rf`)})().catch(console.error)),await u,{serverDownloaded:!h}}function Cfe(e,t){let n=e.version;if(t.minVersion&&n){let r=yf(n.trim());if(r&&xf(r,t.minVersion)){let i=`${t.label} ${t.minVersion.join(".")} or later required.`;throw new ve({description:i,data:{reload:!1}})}}}async function g_(e){let{build:t,commit:n,quality:r,web:i,output:o}=e,s="Downloading VS Code Server",a=o.start(s);o.write(`${n} ${t.id} ${r} ${i?"web":""}`);let u=rv(e);await ko(pe.dirname(u));let c=`https://update.code.visualstudio.com/commit:${n}/server-${t.id}${i?"-web":""}/${r}`;try{let l=`${u}_${Date.now()}`;await new Promise((d,p)=>{let f=N_.createWriteStream(l);o.write("Starting download.",1),AW.https.get(c,h=>{if(h.statusCode<200||h.statusCode>299){o.write(`Download failed: ${h.statusCode} ${h.statusMessage}.`,1),p(new ve({description:"Downloading the VS Code Server failed. Please try again later.",originalError:`Failed to download VS Code Server (${c}): HTTP ${h.statusCode} - ${h.statusMessage}`}));return}o.write("Downloading data.",1),h.on("error",p),h.pipe(f),h.on("end",d)}).on("error",p)}),await fa(l,u)}catch(l){if(o.write("Downloading failed.",1),o.write((l==null?void 0:l.stack)||(l==null?void 0:l.message)||String(l),1),e.alternateDownload){o.write(l&&(l.originalError||l.message)),o.write("Retrying to download VS Code Server.");let d=`${u}_${Date.now()}`;await e.alternateDownload(c,d),await fa(d,u)}else throw l||new Error("Failed to download VS Code Server.")}finally{o.stop(s,a)}}async function ev(e,t,n,r,i,o=!0){let s="Installing VS Code Server",a=e.output.start(s),u=`${r}_${Date.now()}`;try{if(await t.exec(`mkdir -p ${u}`),i)typeof n=="string"&&n.endsWith(".zip")?await t.exec(`unzip ${n} -d ${u}`):await t.exec(`cat ${n} | tar --no-same-owner -x${o?"z":""} -C ${u}`);else{let c=typeof n=="string"?await nt(n):n;await t.exec(`${oD(c.byteLength)} | tar --no-same-owner -x${o?"z":""} -C ${u}`,{stdin:c})}await t.exec(`mv -n ${pe.posix.join(u,"*",".")} ${r} && rmdir ${u}`)}catch(c){try{await t.exec(`rm -rf ${u}`)}catch{}throw c}finally{e.output.stop(s,a)}}async function IW(e){let{localCacheFolder:t,build:n,commit:r,quality:i,web:o,output:s}=e,a="Unpacking VS Code Server",u=s.start(a);s.write(`${r} ${n.id} ${i} ${o?"web":""}`);let c=await DW(pe,t,n,r,i,o),l=`${c}_${Date.now()}`;try{await ko(l);let d=rv(e);await(await Ca(void 0)({cmd:"tar",args:["--no-same-owner","-xzf",d,"--strip-components","1","-C",l],cwd:process.cwd(),output:s})).exit,await Cc(c,{recursive:!0,force:!0}),await fa(l,c)}catch(d){try{await Cc(l,{recursive:!0,force:!0})}catch{}throw d}finally{s.stop(a,u)}}function rv(e){let{localCacheFolder:t,build:n,commit:r,quality:i,web:o}=e,s=pe.join(t,"serverCache",r),a=`vscode-server-${n.id}${i==="stable"?"":`-${i}`}${o?"-web":""}${n.archiveExt||".tar.gz"}`;return pe.join(s,a)}async function MW(e,t){let n={VSCODE_AGENT_FOLDER:t.userDataFolder},{stdout:r}=await Sa(e,t,[pe.posix.join(t.installFolder,...ov(e.product)),...BW(t.userDataFolder),...VW(e.getTelemetryLevel()),"--list-extensions"],t.installFolder,{remoteEnv:n});return r.toString().split(`
`).filter(i=>!!i)}async function UW(e,t,n){let r="Preparing Extensions",i=e.output.start(r),{sharedDataFolder:o}=t,s=o?Afe(o):void 0,a=qW(t),u=await Sfe(e,t,n);if(t.sharedDataFolderIsLocalCacheFolder)t.shellServer.exec(`mkdir -p '${s}' && ln -s -T '${s}' '${a}' || true`),t.launchRootShellServer&&(await t.launchRootShellServer()).exec(`chown -R ${t.user} ${s}`);else{let c=Rfe(e.localCacheFolder),l=await Tfe(e,t,c,s,a,[...u.builtinExtensions,...u.extensions]);Ife(e,t,c,s,a,l).catch(console.error)}return e.output.stop(r,i),u}async function Sfe(e,t,n){let r=Zi(t),i=pe.posix.join(r,".installExtensionsMarker"),o=!await $_(t.shellServer,i),s=o?[]:e.installBuiltinExtensions||[],a=await e.getAdditionalExtensionsToInstall(o),u=o?[]:await n();for(let l of a)u.indexOf(l)===-1&&u.push(l);let c=[].concat(...s.map(l=>["--install-builtin-extension",l]),...u.map(l=>["--install-extension",l]));return e.cliMode&&c.length&&c.push("--do-not-sync"),{builtinExtensions:s,extensions:u,args:c}}async function Tfe(e,t,n,r,i,o){e.output.write(`Extensions cache, install extensions: ${o.join(", ")||"None"}`);let{shellServer:s}=t,a=(await s.exec(`test -d ${i} && ls ${i} || true`)).stdout.trim().split(`
`).filter(u=>!!u);if(r){let u=(await s.exec(`test -d ${r} && ls ${r} || true`)).stdout.trim().split(`
`).filter(l=>!!l),c=u.filter(l=>o.some(d=>l.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(l)===-1);if(e.output.write(`Extensions cache, link in container: ${c.join(", ")||"None"}`),c.length){await s.exec(`mkdir -p '${i}' && ln -s '${r}'/* '${i}' || true`);let{launchRootShellServer:l}=t;l&&(async()=>{await(await l()).exec(`cd ${r} && touch ${c.map(p=>`'${p}'`).join(" ")}`)})().catch(console.error)}return{remoteExtensions:[...new Set([...a,...u])],cachedExtensions:u}}else{await ko(n);let u=await bc(n),c=u.filter(l=>o.some(d=>l.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(l)===-1);if(e.output.write(`Extensions cache, copy to remote: ${c.join(", ")||"None"}`),c.length){let l=pe.basename(n),d=L_.c({cwd:pe.dirname(n)},c.map(m=>pe.join(l,m))),p=pe.posix.join(i,`tmp-${Date.now()}`),f=await new Promise(m=>{let h=[];d.on("data",g=>h.push(g)),d.on("end",()=>m(Buffer.concat(h)))});await s.exec(`# Copy extensions to remote
mkdir -p ${p}
${oD(f.byteLength)} | tar --no-same-owner -x --strip-components 1 -C ${p}
mv ${p}/* ${i} && rmdir ${p}`,{stdin:f})}return{remoteExtensions:a.concat(c),cachedExtensions:u}}}async function Ife(e,t,n,r,i,o){if(r&&!t.launchRootShellServer)return;let s=1e4,a=6e4;for(await to(s);;)o=await Pfe(e,t,n,r,i,o),await to(a)}async function Pfe(e,t,n,r,i,{remoteExtensions:o,cachedExtensions:s}){let{shellServer:a,launchRootShellServer:u,remoteExec:c}=t,l=(await a.exec(`ls ${i} || true`,{logOutput:"silent"})).stdout.trim().split(`
`).filter(p=>!!p);if(!r){let p=o.filter(f=>l.indexOf(f)===-1);e.output.write(`Extensions cache, remote removals: ${p.join(", ")||"None"}`);for(let f of p)try{await W$(pe.join(n,f))}catch(m){if(!(m&&m.code==="ENOENT"))throw m}}let d=l.filter(p=>o.indexOf(p)===-1&&s.indexOf(p)===-1);if(e.output.write(`Extensions cache, copy to ${r?"shared cache":"local"}: ${d.join(", ")||"None"}`,1),d.length)if(r){let p=await u();await p.exec(`mkdir -p '${r}' && cd '${i}' && cp ${d.map(f=>`'${f}'`).join(" ")} '${r}'`),await p.exec(`cd '${r}' && ls -t | tail -n +50 | xargs rm -f`)}else{let p=pe.posix.basename(i),f=await c({cmd:"tar",cwd:pe.posix.dirname(i),args:["c",...d.map(v=>pe.posix.join(p,v))],output:e.output}),m=pe.join(pe.dirname(n),`${pe.basename(n)}-${Date.now()}`);await ko(m);let h=L_.x({cwd:m,strip:1}),g=new Promise((v,y)=>{h.on("error",y),h.on("finish",v)});f.stdout.pipe(h),await g;for(let v of await bc(m))await fa(pe.join(m,v),pe.join(n,v));await G$(m)}return{remoteExtensions:l,cachedExtensions:s}}var rD="extensionsCache";function Rfe(e){return pe.join(e,rD)}function Afe(e){return pe.posix.join(e,rD)}function qW(e){return pe.posix.join(e.userDataFolder,rD)}var Dfe={x64:{label:"x86-64",id:"linux-x64",arch:"x64",stable:!0,preview:!1},armhf:{label:"ARM",id:"linux-armhf",arch:"armhf",stable:!0,preview:!0},arm64:{label:"ARM64",id:"linux-arm64",arch:"arm64",stable:!0,preview:!0}},$W={x64:{label:"Alpine Linux",id:"linux-alpine",arch:"x64",stable:!0,preview:!0,minVersion:[3,9]},arm64:{label:"Alpine Linux ARM64",id:"alpine-arm64",arch:"arm64",stable:!0,preview:!0,minVersion:[3,9]}},TA={label:"Mac",id:"darwin",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},kfe={x86_64:"x64",armv7l:"armhf",arm64:"arm64",aarch64:"arm64"};function OA(e,t){let n=kfe[e.hardware];if(e.id==="alpine"){let i=n&&$W[n];if(!i)throw new ve({description:`Alpine Linux is not supported on the hardware architecture '${e.hardware}' of the container.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return i}let r=n&&Dfe[n];if(!r||t&&!r.stable)throw new ve({description:`The hardware architecture '${e.hardware}' of the container is not supported.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return r}async function NA(e){let t="unknown",n="unknown",r="unknown";try{t=(await e.exec("uname -m")).stdout.trim();let{stdout:i}=await e.exec("(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null");n=(i.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",r=(i.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(i){console.error(i)}return{hardware:t,id:n,version:r}}async function eD(e,t,n,r,i,o,s,a){let u=pe.posix.join(Zi(t),`.${r}Marker`),c=!!t.createdAt&&await jW(t.shellServer,u,t.createdAt)||s;await iD(e,t,n,r,i,o,c,a)}async function Ofe(e,t,n,r,i,o){let s=pe.posix.join(Zi(t),".postStartCommandMarker"),a=!!t.startedAt&&await jW(t.shellServer,s,t.startedAt);await iD(e,t,n,"postStartCommand",r,i,a,o)}async function jW(e,t,n){try{return await e.exec(`mkdir -p '${pe.posix.dirname(t)}' && CONTENT="$(cat '${t}' 2>/dev/null || echo ENOENT)" && [ "\${CONTENT:-${n}}" != '${n}' ] && echo '${n}' > '${t}'`),!0}catch{return!1}}async function Nfe(e,t,n,r,i,o){await iD(e,t,n,"postAttachCommand",r,i,!0,o)}async function iD({postCreate:e},t,n,r,i,o,s,a){let u=n[r];if(s&&u&&(typeof u=="string"?u.trim():u.length)){await o;let c=`Running ${r}...`,l=typeof u=="string"?u:u.join(" "),d=Wi({event(p){e.output.event(p),p.type==="raw"&&p.text.includes("::endstep::")&&e.output.event({type:"progress",name:c,status:"running",stepDetail:""}),p.type==="raw"&&p.text.includes("::step::")&&e.output.event({type:"progress",name:c,status:"running",stepDetail:`${p.text.split("::step::")[1].split(`\r
`)[0]}`})},get dimensions(){return e.output.dimensions},onDidChangeDimensions:e.output.onDidChangeDimensions},3);try{d.event({type:"progress",name:c,status:"running",stepDetail:l});let p=t.remoteWorkspaceFolder||t.homeFolder;d.raw(`\x1B[1mRunning the ${r} from devcontainer.json...\x1B[0m\r
\r
`),await qfe({...e,output:d},t,typeof u=="string"?["/bin/sh","-c",u]:u,p,{remoteEnv:await i,print:"continuous"}),d.raw(`\r
`),d.event({type:"progress",name:c,status:"succeeded"})}catch(p){if(d.event({type:"progress",name:c,status:"failed"}),p&&(p.code===130||p.signal===2))d.raw(`\r
\x1B[1m${r} interrupted.\x1B[0m\r
\r
`);else throw p!=null&&p.code&&d.write(Ze(`${r} failed with exit code ${p.code}. Skipping any further user-provided commands.`)),new ve({description:`The ${r} in the devcontainer.json failed.`,originalError:p})}}r===(n.waitFor||nD)&&a()}async function $_(e,t){try{return await e.exec(I_(t)),!0}catch{return!1}}function I_(e){return`test ! -f '${e}' && set -o noclobber && mkdir -p '${pe.posix.dirname(e)}' && { > '${e}' ; } 2> /dev/null`}async function O_(e,t){try{return await Lfe(e,t),!0}catch{return!1}}async function Lfe(e,t){return e.exec(`test -d ${t}`)}async function HW(e,t,n,r,i,o){let{userDataFolder:s,installFolder:a,sharedInstallFolder:u,shellServer:c}=t,{processes:l,mntNS:d}=await cA(c),p=`(${pe.posix.join(...ov(e.product,!1))}|${pe.posix.join(...ov(e.product,!0))})`.replace(".","\\."),f=new RegExp(`${pe.posix.join(pe.posix.dirname(a).replace(".","\\."),"[^/]*",p)}`),m=l.filter(N=>N.mntNS===d&&f.test(N.cmd));e.output.write(`Running extension host agents:
${JSON.stringify(m,void 0,"  ")}`,1);let{current:h,others:g}=m.reduce((N,U)=>(N[(U.cwd===a||U.cwd===u)&&f.test(U.cmd)?"current":"others"].push(U),N),{current:[],others:[]});if(!e.cliMode&&g.length){e.output.write(`Terminating old extension host agent.\r
`);try{await c.exec(`kill -9 ${g.map(N=>N.pgrp?`-${N.pgrp}`:N.pid).join(" ")}`)}catch{}}let{commit:v,quality:y}=e.product,x=pe.posix.join(Zi(t),`.connection-token-${v}${y==="stable"?"":`-${y}`}${e.web?"-web":""}`),E=pe.posix.join(Zi(t),`.devport-${v}${y==="stable"?"":`-${y}`}${e.web?"-web":""}`);if(h.length){e.output.write(`Extension host agent is already running.\r
`);try{let{stdout:N}=await c.exec(`cat '${E}' 2>/dev/null`),U=N.toString().trim(),H=parseInt(U,10),oe=new RegExp(` '?${PW(e.product)}'? `).test(h[0].cmd)?(await c.exec(`cat '${x}'`)).stdout.toString().trim():void 0,O=(/'?--connectionToken'? '?([^ ']+)'? /.exec(h[0].cmd)||[])[1];return{serverPort:H,connectionToken:oe,webConnectionToken:O}}catch(N){console.error(N),e.output.write(`Agent port not found. Terminating old extension host agent.\r
`);try{await c.exec(`kill -9 ${h.map(U=>U.pgrp?`-${U.pgrp}`:U.pid).join(" ")}`)}catch{}}}let _="webConnectionToken"in e,C="isLocalContainer"in e&&e.isLocalContainer,P=_&&!!e.webConnectionToken,T;if(!P){let N=`${x}-${k_.randomUUID()}`,{stdout:U}=await c.exec(`cat '${x}' 2>/dev/null || (umask 377 && echo '${k_.randomUUID()}' >'${N}' && mv -n '${N}' '${x}' && rm -f '${N}' && cat '${x}')`);T=U.toString().trim()}e.progress(5);let b="Starting VS Code Server",R=e.output.start(b),D=[pe.posix.join(a,...ov(e.product,P)),"--log",Ss(e.getLogLevel()),"--force-disable-user-env",...BW(t.userDataFolder),...Ffe(C),...VW(e.getTelemetryLevel()),"--accept-server-license-terms","--host","127.0.0.1","--port",String(n),..._&&e.webConnectionToken?["--connectionToken",e.webConnectionToken]:[],...T?[PW(e.product),x]:[],"--extensions-download-dir",qW(t),...(await i()).args,"--start-server",...C?["--disable-websocket-compression"]:[""],...e.cliMode?["--enable-remote-auto-shutdown"]:[]],L=(await Sa(e,{remoteExec:t.remoteExec},D,a,{remoteEnv:{SHELL:t.shell,VSCODE_AGENT_FOLDER:s,...e.cliMode?await o:{}},resolveOn:TW,print:"continuous"})).cmdOutput;e.output.stop(b,R);let q=(TW.exec(L)||[])[1];if(!q)throw new Error("Port not found");return await c.exec(`echo ${q} >'${E}'`),{serverPort:parseInt(q,10),connectionToken:T,webConnectionToken:_?e.webConnectionToken:void 0}}function BW(e){return["--server-data-dir",e]}function PW(e){return e.serverApplicationName?"--connection-token-file":"--connection-secret"}function Ffe(e){return e?["--use-host-proxy"]:[]}function VW(e){return e?["--telemetry-level",e]:[]}var Mfe=/^([a-z0-9\-]+):(\d{1,5})$/;function Ufe(e){let t=e.match(Mfe);if(!(!t||t.length!==3))return{host:t[1],port:Number(t[2])}}async function WW(e,t,n){let r=(n.forwardPorts||[]).map(o=>typeof o=="number"?`localhost:${o}`:o).map(Ufe).filter(Boolean),i=await e.getTunnels();await Promise.all(r.filter(o=>!i.find(s=>s.remoteAddress.host===o.host&&s.remoteAddress.port===o.port)).map(async({host:o,port:s})=>e.openTunnel(t,s,o)))}async function qfe(e,{remotePtyExec:t},n,r,i={}){let o=i.print||(i.silent?"off":"end"),s=await t({env:i.remoteEnv,cwd:r,cmd:n[0],args:n.slice(1),output:i.silent?qe:e.output}),a="",u,c=new Promise(p=>{u=p});s.onData(p=>{a+=p,o==="continuous"&&e.output.raw(p),i.resolveOn&&i.resolveOn.exec(a)&&u()});let l=e.onDidInput&&e.onDidInput(p=>s.write(p)),d=await Promise.race([s.exit,c]);return l&&l.dispose(),o==="end"&&e.output.raw(a),d&&(d.code||d.signal)?Promise.reject({message:`Command failed: ${n.join(" ")}`,cmdOutput:a,code:d.code,signal:d.signal}):{cmdOutput:a}}async function Sa(e,{remoteExec:t},n,r,i={}){let o=i.print||(i.silent?"off":"end"),s=await t({env:i.remoteEnv,cwd:r,cmd:n[0],args:n.slice(1),output:i.silent?qe:e.output}),a=[],u=[],c=new tD.StringDecoder,l=new tD.StringDecoder,d="",p="",f,m,h=new Promise((E,_)=>{f=E,m=_});s.stdout.on("data",E=>{a.push(E);let _=c.write(E);o==="continuous"&&e.output.write(_.replace(/\r?\n/g,`\r
`)),d+=_,i.resolveOn&&i.resolveOn.exec(d)&&f()}),s.stderr.on("data",E=>{u.push(E),p+=l.write(E)}),i.stdin instanceof Buffer?(s.stdin.write(i.stdin,E=>{E&&m(E)}),s.stdin.end()):i.stdin instanceof N_.ReadStream&&i.stdin.pipe(s.stdin);let g=await Promise.race([s.exit,h]),v=Buffer.concat(a),y=Buffer.concat(u);o==="end"&&(e.output.write(d.replace(/\r?\n/g,`\r
`)),e.output.write(Ze(p)));let x=`${d}
${p}`;return g&&(g.code||g.signal)?Promise.reject({message:`Command failed: ${n.join(" ")}`,cmdOutput:x,stdout:v,stderr:y,code:g.code,signal:g.signal}):{cmdOutput:x,stdout:v,stderr:y}}function oD(e){let n=e%8192;return`(dd iflag=fullblock bs=${8192} count=${(e-n)/8192} 2>/dev/null; dd iflag=fullblock bs=${n} count=1 2>/dev/null)`}async function $fe(e,t){let n=pe.posix.join(_f(e.product.serverDataFolderName),".patchEtcEnvironmentMarker");if(e.allowSystemConfigChange&&t.launchRootShellServer&&!await df(t.shellServer,n)){let r=await t.launchRootShellServer();await $_(r,n)&&await r.exec(`cat >> /etc/environment <<'etcEnvrionmentEOF'
${Object.keys(t.env).map(i=>`
${i}="${t.env[i]}"`).join("")}
etcEnvrionmentEOF
`)}}async function jfe(e,t){let n=pe.posix.join(_f(e.product.serverDataFolderName),".patchEtcProfileMarker");if(e.allowSystemConfigChange&&t.launchRootShellServer&&!await df(t.shellServer,n)){let r=await t.launchRootShellServer();await $_(r,n)&&await r.exec("sed -i -E 's/((^|\\s)PATH=)([^\\$]*)$/\\1${PATH:-\\3}/g' /etc/profile || true")}}async function gf(e,t,n,r){let i=Vfe(n,e);if(!i||i==="none")return{};let o=await Hfe(i,e,t.shellServer);return o||(e.output.write("userEnvProbe: not found in cache"),o=await RW(i,e,t,r,"cat /proc/self/environ","\0"),o||(e.output.write("userEnvProbe: falling back to printenv"),o=await RW(i,e,t,r,"printenv",`
`)),o&&await Bfe(o,i,e,t.shellServer),o||{})}async function Hfe(e,t,n){if(!n||!t.containerSessionDataFolder)return;let r=GW(e,t.containerSessionDataFolder);try{if(await df(n,r)){let{stdout:i}=await n.exec(`cat '${r}'`);return JSON.parse(i)}}catch(i){t.output.write(`Failed to read/parse user env cache: ${i}`,5)}}async function Bfe(e,t,n,r){if(!r||!n.containerSessionDataFolder)return;let i=GW(t,n.containerSessionDataFolder);try{await r.exec(`mkdir -p '${pe.posix.dirname(i)}' && cat > '${i}' << 'envJSON'
${JSON.stringify(e,null,"	")}
envJSON
`)}catch(o){n.output.write(`Failed to cache user env: ${o}`,5)}}function GW(e,t){return pe.posix.join(t,`env-${e}.json`)}async function RW(e,t,n,r,i,o){var s;if(e==="none")return{};try{let a=k_.randomUUID(),u=new RegExp(a+"([^]*)"+a),c=n.shell;t.output.write(`userEnvProbe shell: ${c}`);let l=pe.posix.basename(c),d=`echo -n ${a}; ${i}; echo -n ${a}`,p;/^pwsh(-preview)?$/.test(l)?p=e==="loginInteractiveShell"||e==="loginShell"?["-Login","-Command"]:["-Command"]:p=[e==="loginInteractiveShell"?"-lic":e==="loginShell"?"-lc":e==="interactiveShell"?"-ic":"-c"];let f=Wi(t.output,1),m=Sa({output:f},{remoteExec:await r||n.remoteExec},[c,...p,d],n.installFolder);Promise.race([m,to(2e3)]).then(async P=>{if(!P){let T,b=n.shellServer||await Ji(n.remoteExec,t.output);try{({processes:T}=await cA(b))}finally{n.shellServer||await b.process.terminate()}let R=T.find(D=>D.cmd.startsWith(c)&&D.cmd.indexOf(a)!==-1);if(R){let I=CV(T)[R.pid];t.output.write(`userEnvProbe is taking longer than 2 seconds. Process tree:
${uA(I)}`)}else t.output.write("userEnvProbe is taking longer than 2 seconds. Process not found.")}},()=>{}).catch(P=>t.output.write(Ze(P&&(P.stack||P.message)||"Error reading process tree.")));let h=await Promise.race([m,to(1e4)]);if(!h)return t.output.write(Ze("userEnvProbe is taking longer than 10 seconds. Avoid waiting for user input in your shell's startup scripts. Continuing.")),{};let g=h.stdout.toString(),v=u.exec(g),y=v?v[1]:"";if(!y||y.trim()==="-n")return;let x=y.split(o).reduce((P,T)=>{let b=T.indexOf("=");return b!==-1&&(P[T.substring(0,b)]=T.substring(b+1)),P},{});t.output.write(`userEnvProbe parsed: ${JSON.stringify(x,void 0,"  ")}`,1),delete x.PWD;let E=x.PATH,_=(s=n.env)==null?void 0:s.PATH,C=!(t.allowSystemConfigChange&&n.launchRootShellServer)&&E&&_;if(C){let P=n.user;x.PATH=Wfe(E,_,P==="root"||P==="0")}return t.output.write(`userEnvProbe PATHs:
Probe:     ${typeof E=="string"?`'${E}'`:"None"}
Container: ${typeof _=="string"?`'${_}'`:"None"}${C?`
Merged:    ${typeof x.PATH=="string"?`'${x.PATH}'`:"None"}`:""}`),x}catch(a){return t.output.write(Ze(a&&(a.stack||a.message)||"Error reading shell environment.")),{}}}function Vfe(e,t){let n=e==null?void 0:e.userEnvProbe;return t.output.write(`userEnvProbe: ${n||t.defaultUserEnvProbe}${n?"":" (default)"}`),n||(n=t.defaultUserEnvProbe),n}function Wfe(e,t,n){let r=e.split(":"),i=0;for(let o of t.split(":")){let s=r.indexOf(o);s===-1?(n||!/\/sbin(\/|$)/.test(o))&&r.splice(i++,0,o):i=s+1}return r.join(":")}async function zW(e){for(let t of e)await(typeof t=="function"?t():t)}var BG=V(require("crypto")),Ev=V(require("path"));function uG(e){return typeof e>"u"||e===null}function Gfe(e){return typeof e=="object"&&e!==null}function zfe(e){return Array.isArray(e)?e:uG(e)?[]:[e]}function Yfe(e,t){var n,r,i,o;if(t)for(o=Object.keys(t),n=0,r=o.length;n<r;n+=1)i=o[n],e[i]=t[i];return e}function Kfe(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function Xfe(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Qfe=uG,Jfe=Gfe,Zfe=zfe,eme=Kfe,tme=Xfe,nme=Yfe,Sn={isNothing:Qfe,isObject:Jfe,toArray:Zfe,repeat:eme,isNegativeZero:tme,extend:nme};function lG(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function dv(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=lG(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}dv.prototype=Object.create(Error.prototype);dv.prototype.constructor=dv;dv.prototype.toString=function(t){return this.name+": "+lG(this,t)};var Hr=dv;function sD(e,t,n,r,i){var o="",s="",a=Math.floor(i/2)-1;return r-t>a&&(o=" ... ",t=r-a+o.length),n-r>a&&(s=" ...",n=r+a-s.length),{str:o+e.slice(t,n).replace(/\t/g,"\u2192")+s,pos:r-t+o.length}}function aD(e,t){return Sn.repeat(" ",t-e.length)+e}function rme(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],o,s=-1;o=n.exec(e.buffer);)i.push(o.index),r.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var a="",u,c,l=Math.min(e.line+t.linesAfter,i.length).toString().length,d=t.maxLength-(t.indent+l+3);for(u=1;u<=t.linesBefore&&!(s-u<0);u++)c=sD(e.buffer,r[s-u],i[s-u],e.position-(r[s]-r[s-u]),d),a=Sn.repeat(" ",t.indent)+aD((e.line-u+1).toString(),l)+" | "+c.str+`
`+a;for(c=sD(e.buffer,r[s],i[s],e.position,d),a+=Sn.repeat(" ",t.indent)+aD((e.line+1).toString(),l)+" | "+c.str+`
`,a+=Sn.repeat("-",t.indent+l+3+c.pos)+`^
`,u=1;u<=t.linesAfter&&!(s+u>=i.length);u++)c=sD(e.buffer,r[s+u],i[s+u],e.position-(r[s]-r[s+u]),d),a+=Sn.repeat(" ",t.indent)+aD((e.line+u+1).toString(),l)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var ime=rme,ome=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],sme=["scalar","sequence","mapping"];function ame(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function cme(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(ome.indexOf(n)===-1)throw new Hr('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=ame(t.styleAliases||null),sme.indexOf(this.kind)===-1)throw new Hr('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var or=cme;function YW(e,t){var n=[];return e[t].forEach(function(r){var i=n.length;n.forEach(function(o,s){o.tag===r.tag&&o.kind===r.kind&&o.multi===r.multi&&(i=s)}),n[i]=r}),n}function ume(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function uD(e){return this.extend(e)}uD.prototype.extend=function(t){var n=[],r=[];if(t instanceof or)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new Hr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof or))throw new Hr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Hr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Hr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(o){if(!(o instanceof or))throw new Hr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(uD.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=YW(i,"implicit"),i.compiledExplicit=YW(i,"explicit"),i.compiledTypeMap=ume(i.compiledImplicit,i.compiledExplicit),i};var lme=uD,dme=new or("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),pme=new or("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),fme=new or("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),mme=new lme({explicit:[dme,pme,fme]});function hme(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function gme(){return null}function vme(e){return e===null}var yme=new or("tag:yaml.org,2002:null",{kind:"scalar",resolve:hme,construct:gme,predicate:vme,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function xme(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function wme(e){return e==="true"||e==="True"||e==="TRUE"}function Eme(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var _me=new or("tag:yaml.org,2002:bool",{kind:"scalar",resolve:xme,construct:wme,predicate:Eme,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function bme(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Cme(e){return 48<=e&&e<=55}function Sme(e){return 48<=e&&e<=57}function Tme(e){if(e===null)return!1;var t=e.length,n=0,r=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!bme(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!Cme(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!Sme(e.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function Ime(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function Pme(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Sn.isNegativeZero(e)}var Rme=new or("tag:yaml.org,2002:int",{kind:"scalar",resolve:Tme,construct:Ime,predicate:Pme,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Ame=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Dme(e){return!(e===null||!Ame.test(e)||e[e.length-1]==="_")}function kme(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var Ome=/^[-+]?[0-9]+e/;function Nme(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Sn.isNegativeZero(e))return"-0.0";return n=e.toString(10),Ome.test(n)?n.replace("e",".e"):n}function Lme(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Sn.isNegativeZero(e))}var Fme=new or("tag:yaml.org,2002:float",{kind:"scalar",resolve:Dme,construct:kme,predicate:Lme,represent:Nme,defaultStyle:"lowercase"}),Mme=mme.extend({implicit:[yme,_me,Rme,Fme]}),Ume=Mme,dG=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),pG=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function qme(e){return e===null?!1:dG.exec(e)!==null||pG.exec(e)!==null}function $me(e){var t,n,r,i,o,s,a,u=0,c=null,l,d,p;if(t=dG.exec(e),t===null&&(t=pG.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(l=+t[10],d=+(t[11]||0),c=(l*60+d)*6e4,t[9]==="-"&&(c=-c)),p=new Date(Date.UTC(n,r,i,o,s,a,u)),c&&p.setTime(p.getTime()-c),p}function jme(e){return e.toISOString()}var Hme=new or("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:qme,construct:$me,instanceOf:Date,represent:jme});function Bme(e){return e==="<<"||e===null}var Vme=new or("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Bme}),mD=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Wme(e){if(e===null)return!1;var t,n,r=0,i=e.length,o=mD;for(n=0;n<i;n++)if(t=o.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function Gme(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,o=mD,s=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(r.charAt(t));return n=i%4*6,n===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):n===18?(a.push(s>>10&255),a.push(s>>2&255)):n===12&&a.push(s>>4&255),new Uint8Array(a)}function zme(e){var t="",n=0,r,i,o=e.length,s=mD;for(r=0;r<o;r++)r%3===0&&r&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[r];return i=o%3,i===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):i===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):i===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function Yme(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Kme=new or("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Wme,construct:Gme,predicate:Yme,represent:zme}),Xme=Object.prototype.hasOwnProperty,Qme=Object.prototype.toString;function Jme(e){if(e===null)return!0;var t=[],n,r,i,o,s,a=e;for(n=0,r=a.length;n<r;n+=1){if(i=a[n],s=!1,Qme.call(i)!=="[object Object]")return!1;for(o in i)if(Xme.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function Zme(e){return e!==null?e:[]}var ehe=new or("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Jme,construct:Zme}),the=Object.prototype.toString;function nhe(e){if(e===null)return!0;var t,n,r,i,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],the.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;o[t]=[i[0],r[i[0]]]}return!0}function rhe(e){if(e===null)return[];var t,n,r,i,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],i=Object.keys(r),o[t]=[i[0],r[i[0]]];return o}var ihe=new or("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:nhe,construct:rhe}),ohe=Object.prototype.hasOwnProperty;function she(e){if(e===null)return!0;var t,n=e;for(t in n)if(ohe.call(n,t)&&n[t]!==null)return!1;return!0}function ahe(e){return e!==null?e:{}}var che=new or("tag:yaml.org,2002:set",{kind:"mapping",resolve:she,construct:ahe}),fG=Ume.extend({implicit:[Hme,Vme],explicit:[Kme,ehe,ihe,che]}),Bc=Object.prototype.hasOwnProperty,j_=1,mG=2,hG=3,H_=4,cD=1,uhe=2,KW=3,lhe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,dhe=/[\x85\u2028\u2029]/,phe=/[,\[\]\{\}]/,gG=/^(?:!|!!|![a-z\-]+!)$/i,vG=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function XW(e){return Object.prototype.toString.call(e)}function Os(e){return e===10||e===13}function Tl(e){return e===9||e===32}function Br(e){return e===9||e===32||e===10||e===13}function Sf(e){return e===44||e===91||e===93||e===123||e===125}function fhe(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function mhe(e){return e===120?2:e===117?4:e===85?8:0}function hhe(e){return 48<=e&&e<=57?e-48:-1}function QW(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function ghe(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var yG=new Array(256),xG=new Array(256);for(Sl=0;Sl<256;Sl++)yG[Sl]=QW(Sl)?1:0,xG[Sl]=QW(Sl);var Sl;function vhe(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||fG,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function wG(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=ime(n),new Hr(t,n)}function he(e,t){throw wG(e,t)}function B_(e,t){e.onWarning&&e.onWarning.call(null,wG(e,t))}var JW={YAML:function(t,n,r){var i,o,s;t.version!==null&&he(t,"duplication of %YAML directive"),r.length!==1&&he(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&he(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&he(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&B_(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var i,o;r.length!==2&&he(t,"TAG directive accepts exactly two arguments"),i=r[0],o=r[1],gG.test(i)||he(t,"ill-formed tag handle (first argument) of the TAG directive"),Bc.call(t.tagMap,i)&&he(t,'there is a previously declared suffix for "'+i+'" tag handle'),vG.test(o)||he(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{he(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function Hc(e,t,n,r){var i,o,s,a;if(t<n){if(a=e.input.slice(t,n),r)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||he(e,"expected valid JSON character");else lhe.test(a)&&he(e,"the stream contains non-printable characters");e.result+=a}}function ZW(e,t,n,r){var i,o,s,a;for(Sn.isObject(n)||he(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),s=0,a=i.length;s<a;s+=1)o=i[s],Bc.call(t,o)||(t[o]=n[o],r[o]=!0)}function Tf(e,t,n,r,i,o,s,a,u){var c,l;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,l=i.length;c<l;c+=1)Array.isArray(i[c])&&he(e,"nested arrays are not supported inside keys"),typeof i=="object"&&XW(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&XW(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(c=0,l=o.length;c<l;c+=1)ZW(e,t,o[c],n);else ZW(e,t,o,n);else!e.json&&!Bc.call(n,i)&&Bc.call(t,i)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,he(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete n[i];return t}function hD(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):he(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function mn(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Tl(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Os(i))for(hD(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&B_(e,"deficient indentation"),r}function G_(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||Br(n)))}function gD(e,t){t===1?e.result+=" ":t>1&&(e.result+=Sn.repeat(`
`,t-1))}function yhe(e,t,n){var r,i,o,s,a,u,c,l,d=e.kind,p=e.result,f;if(f=e.input.charCodeAt(e.position),Br(f)||Sf(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(i=e.input.charCodeAt(e.position+1),Br(i)||n&&Sf(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;f!==0;){if(f===58){if(i=e.input.charCodeAt(e.position+1),Br(i)||n&&Sf(i))break}else if(f===35){if(r=e.input.charCodeAt(e.position-1),Br(r))break}else{if(e.position===e.lineStart&&G_(e)||n&&Sf(f))break;if(Os(f))if(u=e.line,c=e.lineStart,l=e.lineIndent,mn(e,!1,-1),e.lineIndent>=t){a=!0,f=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=u,e.lineStart=c,e.lineIndent=l;break}}a&&(Hc(e,o,s,!1),gD(e,e.line-u),o=s=e.position,a=!1),Tl(f)||(s=e.position+1),f=e.input.charCodeAt(++e.position)}return Hc(e,o,s,!1),e.result?!0:(e.kind=d,e.result=p,!1)}function xhe(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Hc(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,i=e.position;else return!0;else Os(n)?(Hc(e,r,i,!0),gD(e,mn(e,!1,t)),r=i=e.position):e.position===e.lineStart&&G_(e)?he(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);he(e,"unexpected end of the stream within a single quoted scalar")}function whe(e,t){var n,r,i,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Hc(e,n,e.position,!0),e.position++,!0;if(a===92){if(Hc(e,n,e.position,!0),a=e.input.charCodeAt(++e.position),Os(a))mn(e,!1,t);else if(a<256&&yG[a])e.result+=xG[a],e.position++;else if((s=mhe(a))>0){for(i=s,o=0;i>0;i--)a=e.input.charCodeAt(++e.position),(s=fhe(a))>=0?o=(o<<4)+s:he(e,"expected hexadecimal character");e.result+=ghe(o),e.position++}else he(e,"unknown escape sequence");n=r=e.position}else Os(a)?(Hc(e,n,r,!0),gD(e,mn(e,!1,t)),n=r=e.position):e.position===e.lineStart&&G_(e)?he(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}he(e,"unexpected end of the stream within a double quoted scalar")}function Ehe(e,t){var n=!0,r,i,o,s=e.tag,a,u=e.anchor,c,l,d,p,f,m=Object.create(null),h,g,v,y;if(y=e.input.charCodeAt(e.position),y===91)l=93,f=!1,a=[];else if(y===123)l=125,f=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),y=e.input.charCodeAt(++e.position);y!==0;){if(mn(e,!0,t),y=e.input.charCodeAt(e.position),y===l)return e.position++,e.tag=s,e.anchor=u,e.kind=f?"mapping":"sequence",e.result=a,!0;n?y===44&&he(e,"expected the node content, but found ','"):he(e,"missed comma between flow collection entries"),g=h=v=null,d=p=!1,y===63&&(c=e.input.charCodeAt(e.position+1),Br(c)&&(d=p=!0,e.position++,mn(e,!0,t))),r=e.line,i=e.lineStart,o=e.position,If(e,t,j_,!1,!0),g=e.tag,h=e.result,mn(e,!0,t),y=e.input.charCodeAt(e.position),(p||e.line===r)&&y===58&&(d=!0,y=e.input.charCodeAt(++e.position),mn(e,!0,t),If(e,t,j_,!1,!0),v=e.result),f?Tf(e,a,m,g,h,v,r,i,o):d?a.push(Tf(e,null,m,g,h,v,r,i,o)):a.push(h),mn(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(n=!0,y=e.input.charCodeAt(++e.position)):n=!1}he(e,"unexpected end of the stream within a flow collection")}function _he(e,t){var n,r,i=cD,o=!1,s=!1,a=t,u=0,c=!1,l,d;if(d=e.input.charCodeAt(e.position),d===124)r=!1;else if(d===62)r=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)cD===i?i=d===43?KW:uhe:he(e,"repeat of a chomping mode identifier");else if((l=hhe(d))>=0)l===0?he(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?he(e,"repeat of an indentation width identifier"):(a=t+l-1,s=!0);else break;if(Tl(d)){do d=e.input.charCodeAt(++e.position);while(Tl(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!Os(d)&&d!==0)}for(;d!==0;){for(hD(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),Os(d)){u++;continue}if(e.lineIndent<a){i===KW?e.result+=Sn.repeat(`
`,o?1+u:u):i===cD&&o&&(e.result+=`
`);break}for(r?Tl(d)?(c=!0,e.result+=Sn.repeat(`
`,o?1+u:u)):c?(c=!1,e.result+=Sn.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=Sn.repeat(`
`,u):e.result+=Sn.repeat(`
`,o?1+u:u),o=!0,s=!0,u=0,n=e.position;!Os(d)&&d!==0;)d=e.input.charCodeAt(++e.position);Hc(e,n,e.position,!1)}return!0}function eG(e,t){var n,r=e.tag,i=e.anchor,o=[],s,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,he(e,"tab characters must not be used in indentation")),!(u!==45||(s=e.input.charCodeAt(e.position+1),!Br(s))));){if(a=!0,e.position++,mn(e,!0,-1)&&e.lineIndent<=t){o.push(null),u=e.input.charCodeAt(e.position);continue}if(n=e.line,If(e,t,hG,!1,!0),o.push(e.result),mn(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&u!==0)he(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function bhe(e,t,n){var r,i,o,s,a,u,c=e.tag,l=e.anchor,d={},p=Object.create(null),f=null,m=null,h=null,g=!1,v=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),y=e.input.charCodeAt(e.position);y!==0;){if(!g&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,he(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),o=e.line,(y===63||y===58)&&Br(r))y===63?(g&&(Tf(e,d,p,f,m,null,s,a,u),f=m=h=null),v=!0,g=!0,i=!0):g?(g=!1,i=!0):he(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=r;else{if(s=e.line,a=e.lineStart,u=e.position,!If(e,n,mG,!1,!0))break;if(e.line===o){for(y=e.input.charCodeAt(e.position);Tl(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),Br(y)||he(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(Tf(e,d,p,f,m,null,s,a,u),f=m=h=null),v=!0,g=!1,i=!1,f=e.tag,m=e.result;else if(v)he(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=l,!0}else if(v)he(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=l,!0}if((e.line===o||e.lineIndent>t)&&(g&&(s=e.line,a=e.lineStart,u=e.position),If(e,t,H_,!0,i)&&(g?m=e.result:h=e.result),g||(Tf(e,d,p,f,m,h,s,a,u),f=m=h=null),mn(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&y!==0)he(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return g&&Tf(e,d,p,f,m,null,s,a,u),v&&(e.tag=c,e.anchor=l,e.kind="mapping",e.result=d),v}function Che(e){var t,n=!1,r=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&he(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(r=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):he(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Br(s);)s===33&&(r?he(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),gG.test(i)||he(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),phe.test(o)&&he(e,"tag suffix cannot contain flow indicator characters")}o&&!vG.test(o)&&he(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{he(e,"tag name is malformed: "+o)}return n?e.tag=o:Bc.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:he(e,'undeclared tag handle "'+i+'"'),!0}function She(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&he(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Br(n)&&!Sf(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&he(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function The(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Br(r)&&!Sf(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&he(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),Bc.call(e.anchorMap,n)||he(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],mn(e,!0,-1),!0}function If(e,t,n,r,i){var o,s,a,u=1,c=!1,l=!1,d,p,f,m,h,g;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=H_===n||hG===n,r&&mn(e,!0,-1)&&(c=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;Che(e)||She(e);)mn(e,!0,-1)?(c=!0,a=o,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=c||i),(u===1||H_===n)&&(j_===n||mG===n?h=t:h=t+1,g=e.position-e.lineStart,u===1?a&&(eG(e,g)||bhe(e,g,h))||Ehe(e,h)?l=!0:(s&&_he(e,h)||xhe(e,h)||whe(e,h)?l=!0:The(e)?(l=!0,(e.tag!==null||e.anchor!==null)&&he(e,"alias node should not have any properties")):yhe(e,h,j_===n)&&(l=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(l=a&&eG(e,g))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&he(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,p=e.implicitTypes.length;d<p;d+=1)if(m=e.implicitTypes[d],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Bc.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,f=e.typeMap.multi[e.kind||"fallback"],d=0,p=f.length;d<p;d+=1)if(e.tag.slice(0,f[d].tag.length)===f[d].tag){m=f[d];break}m||he(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&he(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):he(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||l}function Ihe(e){var t=e.position,n,r,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(mn(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!Br(s);)s=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),i=[],r.length<1&&he(e,"directive name must not be less than one character in length");s!==0;){for(;Tl(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!Os(s));break}if(Os(s))break;for(n=e.position;s!==0&&!Br(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}s!==0&&hD(e),Bc.call(JW,r)?JW[r](e,r,i):B_(e,'unknown document directive "'+r+'"')}if(mn(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,mn(e,!0,-1)):o&&he(e,"directives end mark is expected"),If(e,e.lineIndent-1,H_,!1,!0),mn(e,!0,-1),e.checkLineBreaks&&dhe.test(e.input.slice(t,e.position))&&B_(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&G_(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,mn(e,!0,-1));return}if(e.position<e.length-1)he(e,"end of the stream or a document separator is expected");else return}function EG(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new vhe(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,he(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Ihe(n);return n.documents}function Phe(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=EG(e,n);if(typeof t!="function")return r;for(var i=0,o=r.length;i<o;i+=1)t(r[i])}function Rhe(e,t){var n=EG(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Hr("expected a single document in the stream, but found more")}}var Ahe=Phe,Dhe=Rhe,_G={loadAll:Ahe,load:Dhe},bG=Object.prototype.toString,CG=Object.prototype.hasOwnProperty,vD=65279,khe=9,pv=10,Ohe=13,Nhe=32,Lhe=33,Fhe=34,lD=35,Mhe=37,Uhe=38,qhe=39,$he=42,SG=44,jhe=45,V_=58,Hhe=61,Bhe=62,Vhe=63,Whe=64,TG=91,IG=93,Ghe=96,PG=123,zhe=124,RG=125,sr={};sr[0]="\\0";sr[7]="\\a";sr[8]="\\b";sr[9]="\\t";sr[10]="\\n";sr[11]="\\v";sr[12]="\\f";sr[13]="\\r";sr[27]="\\e";sr[34]='\\"';sr[92]="\\\\";sr[133]="\\N";sr[160]="\\_";sr[8232]="\\L";sr[8233]="\\P";var Yhe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Khe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Xhe(e,t){var n,r,i,o,s,a,u;if(t===null)return{};for(n={},r=Object.keys(t),i=0,o=r.length;i<o;i+=1)s=r[i],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),u=e.compiledTypeMap.fallback[s],u&&CG.call(u.styleAliases,a)&&(a=u.styleAliases[a]),n[s]=a;return n}function Qhe(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new Hr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Sn.repeat("0",r-t.length)+t}var Jhe=1,fv=2;function Zhe(e){this.schema=e.schema||fG,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Sn.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Xhe(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?fv:Jhe,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function tG(e,t){for(var n=Sn.repeat(" ",t),r=0,i=-1,o="",s,a=e.length;r<a;)i=e.indexOf(`
`,r),i===-1?(s=e.slice(r),r=a):(s=e.slice(r,i+1),r=i+1),s.length&&s!==`
`&&(o+=n),o+=s;return o}function dD(e,t){return`
`+Sn.repeat(" ",e.indent*t)}function ege(e,t){var n,r,i;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(i=e.implicitTypes[n],i.resolve(t))return!0;return!1}function W_(e){return e===Nhe||e===khe}function mv(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==vD||65536<=e&&e<=1114111}function nG(e){return mv(e)&&e!==vD&&e!==Ohe&&e!==pv}function rG(e,t,n){var r=nG(e),i=r&&!W_(e);return(n?r:r&&e!==SG&&e!==TG&&e!==IG&&e!==PG&&e!==RG)&&e!==lD&&!(t===V_&&!i)||nG(t)&&!W_(t)&&e===lD||t===V_&&i}function tge(e){return mv(e)&&e!==vD&&!W_(e)&&e!==jhe&&e!==Vhe&&e!==V_&&e!==SG&&e!==TG&&e!==IG&&e!==PG&&e!==RG&&e!==lD&&e!==Uhe&&e!==$he&&e!==Lhe&&e!==zhe&&e!==Hhe&&e!==Bhe&&e!==qhe&&e!==Fhe&&e!==Mhe&&e!==Whe&&e!==Ghe}function nge(e){return!W_(e)&&e!==V_}function lv(e,t){var n=e.charCodeAt(t),r;return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function AG(e){var t=/^\n* /;return t.test(e)}var DG=1,pD=2,kG=3,OG=4,Cf=5;function rge(e,t,n,r,i,o,s,a){var u,c=0,l=null,d=!1,p=!1,f=r!==-1,m=-1,h=tge(lv(e,0))&&nge(lv(e,e.length-1));if(t||s)for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=lv(e,u),!mv(c))return Cf;h=h&&rG(c,l,a),l=c}else{for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=lv(e,u),c===pv)d=!0,f&&(p=p||u-m-1>r&&e[m+1]!==" ",m=u);else if(!mv(c))return Cf;h=h&&rG(c,l,a),l=c}p=p||f&&u-m-1>r&&e[m+1]!==" "}return!d&&!p?h&&!s&&!i(e)?DG:o===fv?Cf:pD:n>9&&AG(e)?Cf:s?o===fv?Cf:pD:p?OG:kG}function ige(e,t,n,r,i){e.dump=function(){if(t.length===0)return e.quotingType===fv?'""':"''";if(!e.noCompatMode&&(Yhe.indexOf(t)!==-1||Khe.test(t)))return e.quotingType===fv?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,n),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=r||e.flowLevel>-1&&n>=e.flowLevel;function u(c){return ege(e,c)}switch(rge(t,a,e.indent,s,u,e.quotingType,e.forceQuotes&&!r,i)){case DG:return t;case pD:return"'"+t.replace(/'/g,"''")+"'";case kG:return"|"+iG(t,e.indent)+oG(tG(t,o));case OG:return">"+iG(t,e.indent)+oG(tG(oge(t,s),o));case Cf:return'"'+sge(t)+'"';default:throw new Hr("impossible error: invalid scalar style")}}()}function iG(e,t){var n=AG(e)?String(t):"",r=e[e.length-1]===`
`,i=r&&(e[e.length-2]===`
`||e===`
`),o=i?"+":r?"":"-";return n+o+`
`}function oG(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function oge(e,t){for(var n=/(\n+)([^\n]*)/g,r=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,n.lastIndex=c,sG(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",o,s;s=n.exec(e);){var a=s[1],u=s[2];o=u[0]===" ",r+=a+(!i&&!o&&u!==""?`
`:"")+sG(u,t),i=o}return r}function sG(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,i=0,o,s=0,a=0,u="";r=n.exec(e);)a=r.index,a-i>t&&(o=s>i?s:a,u+=`
`+e.slice(i,o),i=o+1),s=a;return u+=`
`,e.length-i>t&&s>i?u+=e.slice(i,s)+`
`+e.slice(s+1):u+=e.slice(i),u.slice(1)}function sge(e){for(var t="",n=0,r,i=0;i<e.length;n>=65536?i+=2:i++)n=lv(e,i),r=sr[n],!r&&mv(n)?(t+=e[i],n>=65536&&(t+=e[i+1])):t+=r||Qhe(n);return t}function age(e,t,n){var r="",i=e.tag,o,s,a;for(o=0,s=n.length;o<s;o+=1)a=n[o],e.replacer&&(a=e.replacer.call(n,String(o),a)),(Ta(e,t,a,!1,!1)||typeof a>"u"&&Ta(e,t,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=i,e.dump="["+r+"]"}function aG(e,t,n,r){var i="",o=e.tag,s,a,u;for(s=0,a=n.length;s<a;s+=1)u=n[s],e.replacer&&(u=e.replacer.call(n,String(s),u)),(Ta(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&Ta(e,t+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=dD(e,t)),e.dump&&pv===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function cge(e,t,n){var r="",i=e.tag,o=Object.keys(n),s,a,u,c,l;for(s=0,a=o.length;s<a;s+=1)l="",r!==""&&(l+=", "),e.condenseFlow&&(l+='"'),u=o[s],c=n[u],e.replacer&&(c=e.replacer.call(n,u,c)),Ta(e,t,u,!1,!1)&&(e.dump.length>1024&&(l+="? "),l+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Ta(e,t,c,!1,!1)&&(l+=e.dump,r+=l));e.tag=i,e.dump="{"+r+"}"}function uge(e,t,n,r){var i="",o=e.tag,s=Object.keys(n),a,u,c,l,d,p;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new Hr("sortKeys must be a boolean or a function");for(a=0,u=s.length;a<u;a+=1)p="",(!r||i!=="")&&(p+=dD(e,t)),c=s[a],l=n[c],e.replacer&&(l=e.replacer.call(n,c,l)),Ta(e,t+1,c,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&pv===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,d&&(p+=dD(e,t)),Ta(e,t+1,l,!0,d)&&(e.dump&&pv===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,i+=p));e.tag=o,e.dump=i||"{}"}function cG(e,t,n){var r,i,o,s,a,u;for(i=n?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(n?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,bG.call(a.represent)==="[object Function]")r=a.represent(t,u);else if(CG.call(a.represent,u))r=a.represent[u](t,u);else throw new Hr("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=r}return!0}return!1}function Ta(e,t,n,r,i,o,s){e.tag=null,e.dump=n,cG(e,n,!1)||cG(e,n,!0);var a=bG.call(e.dump),u=r,c;r&&(r=e.flowLevel<0||e.flowLevel>t);var l=a==="[object Object]"||a==="[object Array]",d,p;if(l&&(d=e.duplicates.indexOf(n),p=d!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(i=!1),p&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(l&&p&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),a==="[object Object]")r&&Object.keys(e.dump).length!==0?(uge(e,t,e.dump,i),p&&(e.dump="&ref_"+d+e.dump)):(cge(e,t,e.dump),p&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?aG(e,t-1,e.dump,i):aG(e,t,e.dump,i),p&&(e.dump="&ref_"+d+e.dump)):(age(e,t,e.dump),p&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&ige(e,e.dump,t,o,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Hr("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function lge(e,t){var n=[],r=[],i,o;for(fD(e,n,r),i=0,o=r.length;i<o;i+=1)t.duplicates.push(n[r[i]]);t.usedDuplicates=new Array(o)}function fD(e,t,n){var r,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)fD(e[i],t,n);else for(r=Object.keys(e),i=0,o=r.length;i<o;i+=1)fD(e[r[i]],t,n)}function dge(e,t){t=t||{};var n=new Zhe(t);n.noRefs||lge(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Ta(n,0,r,!0,!0)?n.dump+`
`:""}var pge=dge,fge={dump:pge};function yD(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var hv=_G.load,aHe=_G.loadAll,cHe=fge.dump;var uHe=yD("safeLoad","load"),lHe=yD("safeLoadAll","loadAll"),dHe=yD("safeDump","dump");var qo=V(require("path")),$G=V(require("os")),jG=V(require("crypto")),HG=V(QE());var gv=V(require("path")),FG=V(require("os"));var LG=V(require("crypto"));var Uo={async readDocument(e){switch(e.scheme){case"file":try{return(await nt(e.fsPath)).toString()}catch(t){if(t&&t.code==="ENOENT")return;throw t}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}},async applyEdits(e,t,n){switch(e.scheme){case"file":let r=Mr(n,t);await Bw(e.fsPath,r);break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},_D=class{constructor(t,n=_D.scheme){this.fileHost=t;this.scheme=n}async readDocument(t){switch(t.scheme){case this.scheme:try{return(await this.fileHost.readFile(we(t,this.fileHost.platform))).toString()}catch{return}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}async applyEdits(t,n,r){switch(t.scheme){case this.scheme:let i=Mr(r,n);await this.fileHost.writeFile(we(t,this.fileHost.platform),Buffer.from(i));break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},st=_D;st.scheme="vscode-fileHost";var Il=class{constructor(t){this.shellServer=t}async readDocument(t){switch(t.scheme){case Il.scheme:try{let{stdout:n}=await this.shellServer.exec(`cat ${t.path}`);return n}catch{return}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}async applyEdits(t,n,r){switch(t.scheme){case Il.scheme:try{Il.nonce||(Il.nonce=LG.randomUUID());let i=Mr(r,n),o=`EOF-${Il.nonce}`;await this.shellServer.exec(`cat <<'${o}' >${t.path}
${i}
${o}
`)}catch(i){console.log(i)}break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},Vr=Il;Vr.scheme="vscode-remote";var wD=class{constructor(t){this.documents=t}async readDocument(t){let n=this.documents[t.scheme];if(!n)throw new Error(`Unsupported scheme: ${t.toString()}`);return n.readDocument(t)}async applyEdits(t,n,r){let i=this.documents[t.scheme];if(!i)throw new Error(`Unsupported scheme: ${t.toString()}`);return i.applyEdits(t,n,r)}};function On(e,t){let n={file:Uo,[st.scheme]:new st(e)};return t&&(n[Vr.scheme]="readFile"in t?new st(t,Vr.scheme):new Vr(t)),new wD(n)}var xD=new Map;async function ED(e,t){let n=e.toString(),r=xD.get(n);if(r||xD.set(n,r=[]),r.push(t),r.length===1){for(;r.length;)await r[0](),r.shift();xD.delete(n)}}function we(e,t){let n;return e.authority&&e.path.length>1&&(e.scheme==="file"||e.scheme===st.scheme)?n=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?n=e.path[1].toLowerCase()+e.path.substr(2):n=e.path,t==="win32"&&(n=n.replace(/\//g,"\\")),n}function Pf(e,t){return[e.join(t,".devcontainer","devcontainer.json"),e.join(t,".devcontainer.json")]}function vv(e,t){let n=e.normalize(t);return Pf(e,"").includes(n)}async function z_(e,t){let n=Pf(e.path,t);for(let r of n)if(await e.isFile(r))return ye.file(r).with({scheme:st.scheme})}async function MG(e){let t=Pf(gv,e);for(let n of t)if(await bn(n))return n}var Ia=`{${FG.EOL}}`;async function no(e,t,n,r){t.scheme==="file"&&await ko(gv.dirname(t.fsPath)),await e.applyEdits(t,n,r)}function Vc(e){let t=gv.posix.dirname(e.path);return e.with({path:t})}var bD=V(require("path")),hge={src:"source",destination:"target",dst:"target"};function UG(e){return e.split(",").map(t=>t.split("=")).reduce((t,[n,r])=>({...t,[hge[n]||n]:r}),{})}function Y_(e){let t=typeof e=="string"?bD.join(e,"dist"):e.distFolder;return bD.join(t,"node_modules","vscode-dev-containers","container-features")}function qG(e){var t;return(t=e.options)!=null&&t.version?"version":void 0}var yv=require("string_decoder");function wv(e){if(!(e.extensions||e.settings||e.devPort!==void 0))return e;let t={...e},n=t.customizations||(t.customizations={}),r=n.vscode||(n.vscode={});return t.extensions&&(r.extensions=(r.extensions||[]).concat(t.extensions),delete t.extensions),t.settings&&(r.settings={...t.settings,...r.settings||{}},delete t.settings),t.devPort!==void 0&&r.devPort===void 0&&(r.devPort=t.devPort,delete t.devPort),t}function xv(e,t,n){return K_(e,t.configFilePath,n)}function K_(e,t,n){let r=Vc(t);return t.with({path:qo.posix.resolve(r.path,e.platform==="win32"&&t.scheme!==Vr.scheme?(qo.win32.isAbsolute(n)?"/":"")+n.replace(/\\/g,"/"):n)})}function ar(e){return"dockerFile"in e||"build"in e&&"dockerfile"in e.build}function X_(e){return e&&(ar(e)||"image"in e||"dockerComposeFile"in e)}function Wc(e,t){return xv(e,t,gge(t))}function gge(e){return"dockerFile"in e?e.dockerFile:e.build.dockerfile}async function Gc(e,t,n,r){if(Array.isArray(t.dockerComposeFile)){if(t.dockerComposeFile.length)return t.dockerComposeFile.map(i=>we(xv(e,t,i),e.platform))}else if(typeof t.dockerComposeFile=="string")return[we(xv(e,t,t.dockerComposeFile),e.platform)];if(r){let i=n==null?void 0:n.COMPOSE_FILE;if(i)return i.split(e.path.delimiter).map(a=>e.path.resolve(r,a));try{let a=e.path.join(r,".env"),u=await e.readFile(a),c=/^COMPOSE_FILE=(.+)$/m.exec(u.toString()),l=c&&c[1].trim();if(l)return l.split(e.path.delimiter).map(d=>e.path.resolve(r,d))}catch(a){if(!(a&&(a.code==="ENOENT"||a.code==="EISDIR")))throw a}let o=[e.path.resolve(r,"docker-compose.yml")],s=e.path.resolve(r,"docker-compose.override.yml");return await e.isFile(s)&&o.push(s),o}return[]}async function Ns(e,t){let{cliHost:n,postCreate:r,output:i}=e,o=await vge(e),s=yge(n),a;return await xge({exec:n.exec,cwd:o.cwd,cmd:s.cmd,args:[...s.args,o.script,...t],env:wge(e,s.cmd),stdin:r==null?void 0:r.onDidInput,output:i,stdoutData:u=>a=u,stderrData:u=>{i.event(u)}}),a}async function vge(e){let{cliHost:t,extensionPath:n,output:r}=e,i=qo.join(n,...ks?["node_modules","@devcontainers","cli","src"]:["dist"],"spec-node",`devContainersSpecCLI.${ks?"t":"j"}s`),o=t.type==="local"?n:t.path.join(await t.homedir(),".vscode-remote-containers","dist",`dev-containers-cli-${e.package.version}`),s=t.type==="local"?i:t.path.join(o,"dist","spec-node","devContainersSpecCLI.js");if(["wsl","ssh"].indexOf(t.type)!==-1&&!await t.isFile(s)){let a=`${o}-${jG.randomUUID()}`,u=t.path.join(a,"dist","spec-node","devContainersSpecCLI.js");await t.mkdirp(t.path.dirname(u)),await t.writeFile(t.path.join(a,"package.json"),await nt(qo.join(n,"package.json"))),await t.writeFile(u,await nt(i));let c=Y_(n),l=t.path.join(a,"dist","node_modules","vscode-dev-containers","container-features");await Pl(c,t,l,r),await Pl(qo.join(n,"scripts"),t,t.path.join(a,"scripts"),r),await t.rename(a,o)}return{cwd:o,script:s}}function yge(e){if(e.type==="local")return ks?{cmd:VA,args:[]}:{cmd:process.argv[0],args:process.versions.electron&&process.versions["microsoft-build"]?["--ms-enable-electron-run-as-node"]:[]};if(e.nodeExecutable)return{cmd:e.nodeExecutable,args:[]};throw new Error("Node executable required")}async function xge(e){let{exec:t,cmd:n,args:r,cwd:i,env:o,stdin:s,output:a,stdoutData:u,stderrData:c}=e,l=await t({cmd:n,args:r,cwd:i,env:o,output:a});return new Promise((d,p)=>{let f=new yv.StringDecoder,m="";l.stdout.on("data",y=>{m+=f.write(y);let x=m.split(`
`);m=x.pop();for(let E of x)if(E.trim())try{u(JSON.parse(E))}catch{a.write(E)}}),l.stdout.on("error",y=>{if((y==null?void 0:y.code)!=="ENOTCONN")throw y});let h=new yv.StringDecoder,g="";l.stderr.on("data",y=>{g+=h.write(y);let x=g.split(`
`);g=x.pop();for(let E of x)if(E.trim())try{c(JSON.parse(E))}catch{a.write(E)}}),l.stderr.on("error",y=>{if((y==null?void 0:y.code)!=="ENOTCONN")throw y});let v=[];l.exit.then(({code:y})=>{try{v.forEach(x=>x.dispose()),y?(a.write(`Exit code ${y}`),p({message:`Command failed: ${n} ${(r||[]).join(" ")}`,code:y})):d()}catch(x){p(x)}},p),typeof s=="function"&&v.push(s(y=>l.stdin.write(y)))})}function wge(e,t){let{cliHost:n,env:r,appRoot:i}=e;return{...r,...n.type==="local"?i?{NODE_PATH:`${n.path.join(i,"node_modules.asar")}${qo.delimiter}${n.path.join(i,"node_modules")}`}:void 0:n.type==="container"?void 0:{NODE_PATH:n.path.join(n.path.dirname(t),"node_modules")},...ks?{TS_NODE_PROJECT:void 0}:{}}}async function Pl(e,t,n,r){await t.mkdirp(n);let i=HG.c({cwd:e,filter:c=>(console.log(c),!0)},["."]),o=new Promise((c,l)=>{i.on("error",l),i.on("finish",c)}),s=await t.exec({cmd:"tar",args:["--no-same-owner","-x","-f","-"],cwd:n,output:r}),a=new yv.StringDecoder;s.stdout.on("data",c=>{r.write(a.write(c))});let u=new yv.StringDecoder;s.stderr.on("data",c=>{r.write(Ze(u.write(c)))}),i.pipe(s.stdin),await Promise.all([s.exit,o])}async function ro(){return qo.join($G.tmpdir(),process.platform==="linux"?`vsch-${await b_()}`:"vsch")}function Ege(){return{contentHashes:{}}}async function J_(e,t,n,r){let i=e.getConfigurationState();if(i){let o=i.contentHashes,s=Object.keys(o),u=(await CD(t,n,r)).contentHashes,c=Object.keys(u),l=new Set(c);s.forEach(f=>l.delete(f));let d=new Set(s);c.forEach(f=>d.delete(f));let p=[];for(let f of s)f in u&&u[f]!==o[f]&&p.push(f);if(l.size||d.size||p.length){let f=await CD(t,n,r);(async()=>{await e.containerOutdated([...l,...d,...p].sort())==="ignore"&&await e.updateConfigurationState(f)})().catch(console.error)}}else await VG(e,t,n,r)}async function Z_(e,t,n,r,i){let o="Updating configuration state",s=i.start(o);await VG(e,t,n,r),i.stop(o,s)}async function VG(e,t,n,r){let i=await CD(t,n,r);await e.updateConfigurationState(i)}async function CD(e,t,n){let r=Ege();Q_(r,Ev.posix.basename(n.configFilePath.path),JSON.stringify({...n,forwardPorts:void 0,configFilePath:void 0,postStartCommand:void 0,postAttachCommand:void 0}));let i=Vc(n.configFilePath).path;if(ar(n)){let o=Wc(e,n),s=await t.readDocument(o);s!==void 0&&Q_(r,Ev.posix.relative(i,o.path),s)}if("dockerComposeFile"in n){let o=await Gc(e,n,e.env,e.cwd),s=await Promise.all(o.map(async a=>{let u=ye.file(a).with({scheme:st.scheme});return{uri:u,content:await t.readDocument(u)}}));for(let{uri:a,content:u}of s)u!==void 0&&Q_(r,Ev.posix.relative(i,a.path),u);for(let a=s.length-1;a>=0;a--){let{uri:u,content:c}=s[a];if(c){let l=hv(c),d=l&&l.services,p=d&&d[n.service],f=p&&p.build,m=f&&(typeof f=="string"?f:f.context);if(m){let h=K_(e,u,m),g=WG(h,f.dockerfile||"Dockerfile"),v=await t.readDocument(g);v!==void 0&&Q_(r,Ev.posix.relative(i,g.path),v)}if(p&&(p.image||p.build))break}}}return r}function Q_(e,t,n){let r=BG.createHash("sha256").update(n).digest("hex");e.contentHashes[t]=r}var jo=V(require("path")),Al=V(require("crypto"));var Qt=V(require("path")),jD=V(require("crypto"));var XG=V(require("net")),RD=V(require("path"));var SD=V(require("path")),ID=V(require("http")),GG=V(require("os")),zG=V(require("crypto"));async function YG(e,t){let n=await PD(e),r=new TD(n,t);return r.listen(),r}var TD=class{constructor(t,n){this.ipcHandlePath=t;this.server=ID.createServer((r,i)=>{Promise.resolve(n(r,i)).catch(o=>console.error(o&&o.message||o))}),this.server.on("error",r=>console.error(r))}listen(){this.server.listen(this.ipcHandlePath)}dispose(){this.server.close()}};async function KG(e){return new Promise((t,n)=>{let r=[];e.setEncoding("utf8"),e.on("data",i=>r.push(i)),e.on("error",i=>n(i)),e.on("end",()=>{let i=JSON.parse(r.join(""));t(i)})})}async function PD(e){let t=zG.randomUUID(),n=`${e}-${t}`;return process.platform==="win32"?`\\\\.\\pipe\\${n}-sock`:process.env.XDG_RUNTIME_DIR?SD.join(process.env.XDG_RUNTIME_DIR,`${n}.sock`):SD.join(GG.tmpdir(),`${n}.sock`)}var eb=class{constructor(){this.messages=[]}push(t){this.messages.push(t),this.dequeueRequest&&(this.dequeueRequest.resolve(this.messages),this.dequeueRequest=void 0,this.messages=[])}async dequeue(t){if(this.messages.length){let n=this.messages;return this.messages=[],n}return this.dequeueRequest&&this.dequeueRequest.resolve([]),new Promise((n,r)=>{this.dequeueRequest={resolve:n,reject:r},typeof t=="number"&&setTimeout(r,t)})}};async function Ls(e,t,n){let r=await PD("ssh-askpass");return await new Promise((i,o)=>{XG.createServer(s=>{s.setEncoding("utf8");let a="";s.on("data",async u=>{if(a+=u,a.endsWith(`
`))try{n.write(`SSH askpass request: ${a}`,1);let c=await t(JSON.parse(a));s.write(c,l=>{l&&console.error(l)}),s.end()}catch(c){console.error(c)}}),s.on("error",u=>console.error(u))}).on("error",s=>{o(s)}).listen(r,()=>{i()})}),{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:RD.join(e,"scripts",`ssh-askpass.${process.platform==="win32"?"bat":"sh"}`),SSH_ASKPASS_REQUIRE:"force",VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_EXTRA_ARGS:process.versions.electron?"--ms-enable-electron-run-as-node":"",VSCODE_SSH_ASKPASS_MAIN:RD.join(e,"dist","common","sshAskpass.js"),VSCODE_SSH_ASKPASS_HANDLE:r}}var _ge=0;function on(e){return e.VSCODE_SSH_ASKPASS_HANDLE?{VSCODE_SSH_ASKPASS_COUNTER:String(++_ge)}:{}}async function Wr(e,t){return(await zc(e,[t]))[0]}async function zc(e,t){let n=await nb(e,"container",t);for(let r of n){r.Ports=[];let i=r.NetworkSettings.Ports;for(let o in i){let[s,a]=o.split("/");for(let u of i[o]||[]){let{HostIp:c,HostPort:l}=u;r.Ports.push({IP:c,PrivatePort:parseInt(s),PublicPort:parseInt(l),Type:a})}}}return n}async function QG(e,t){return(await nb(e,"image",[t]))[0]}async function tb(e,t){return(await nb(e,"volume",[t]))[0]}async function _v(e,t){return nb(e,"volume",t)}async function nb(e,t,n){if(!n.length)return[];let r=Cv(e),i=await me({...r,args:(r.args||[]).concat(["inspect","--type",t,...n])});try{return JSON.parse(i.stdout.toString())}catch(o){throw console.error({stdout:i.stdout.toString(),stderr:i.stderr.toString()}),o}}async function Pa(e,t=!1,n=[]){let r=[];t&&r.push("-a");for(let o of n)r.push("--filter",`label=${o}`);return(await $e(e,"ps","-q",...r)).stdout.toString().split(/\r?\n/).filter(o=>!!o)}async function io(e,t=[]){let n=[];for(let i of t)n.push("--filter",`label=${i}`);return(await $e(e,"volume","ls","-q",...n)).stdout.toString().split(/\r?\n/).filter(i=>!!i)}async function AD(e){return(await $e(e,"volume","ls","-q","-f","dangling=true")).stdout.toString().split(/\r?\n/).filter(n=>!!n)}async function JG(e){return(await $e(e,"volume","prune","-f")).stdout.toString()}async function rb(e,t,n){let r=[];for(let i of n||[])r.push("--label",i);await $e(e,"volume","create",...r,t)}async function DD(e,t){let{exec:n,cmd:r,args:i,env:o,output:s}=Cv(e),a=[];for(let p in t)for(let f of t[p])a.push("--filter",`${p}=${f}`);let u=await OD(e)?"json":"{{json .}}",c=(i||[]).concat(["events","--format",u,...a]),l=await n({cmd:r,args:c,env:o,output:s}),d=[];return l.stderr.on("data",p=>d.push(p)),l.exit.then(({code:p,signal:f})=>{d.length&&s.write(Ze(Buffer.concat(d).toString())),(p||f&&f!=="SIGKILL")&&s.write(Ze(`Docker events terminated (code: ${p}, signal: ${f}).`))},p=>{s.write(Ze(p&&(p.stack||p.message)))}),l}async function $e(e,...t){let n=Cv(e);return me({...n,args:(n.args||[]).concat(t)})}async function kD(e){var t;try{let{stdout:n}=await $e(e,"context","ls","--format","{{json .}}"),r=`[${n.toString().trim().split(/\r?\n/).join(",")}]`;return(t=JSON.parse(r).find(s=>s.Current))==null?void 0:t.Name}catch{return}}async function OD(e){if(("cliHost"in e?e.cliHost:e.common.cliHost).platform!=="linux")return!1;try{let{stdout:n}=await $e(e,"-v");return n.toString().toLowerCase().indexOf("podman")!==-1}catch{return!1}}async function ZG(e,...t){let n=nz(e);return sf({...n,args:(n.args||[]).concat(t)})}async function bv(e,...t){let n=Cv(e,"dockerComposeCLI"in e?await e.dockerComposeCLI():void 0);return me({...n,args:(n.args||[]).concat(t)})}function $o(e,t,n){return async function(r){let{exec:i,cmd:o,args:s,env:a}=Cv(e),{argsPrefix:u,args:c}=tz(t,n,r,!1);return i({cmd:o,args:(s||[]).concat(c),env:a,output:ez(r.output,o,u)})}}async function Fs(e,t,n,r){if(!await r("node-pty"))throw new Error("Missing node-pty");return async function(o){let{ptyExec:s,cmd:a,args:u,env:c}=nz(e),{argsPrefix:l,args:d}=tz(t,n,o,!0);return s({cmd:a,args:(u||[]).concat(d),env:c,output:ez(o.output,a,l)})}}function ez(e,t,n){return bge(e,`Run: ${t} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function bge(e,t,n){let r=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");return Wi({...e,get dimensions(){return e.dimensions},event:o=>e.event("text"in o?{...o,text:o.text.replace(r,n)}:o)})}function tz(e,t,n,r){let{env:i,cwd:o,cmd:s,args:a}=n,u=["exec","-i"];r&&u.push("-t"),t&&u.push("-u",t),i&&Object.keys(i).forEach(l=>u.push("-e",`${l}=${i[l]}`)),o&&u.push("-w",o),u.push(e);let c=u.slice();return u.push(s),a&&u.push(...a),{argsPrefix:c,args:u}}function Cv(e,t){return"dockerEnv"in e?{exec:e.common.cliHost.exec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.dockerEnv,...on(e.dockerEnv)},output:e.common.output}:"cliHost"in e?{exec:e.cliHost.exec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.env,...on(e.env)},output:e.output}:{...e,env:{...e.env,...on(e.env)}}}function nz(e,t){return"dockerEnv"in e?{ptyExec:e.common.cliHost.ptyExec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.dockerEnv,...on(e.dockerEnv)},output:e.common.output}:"cliHost"in e?{ptyExec:e.cliHost.ptyExec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.env,...on(e.env)},output:e.output}:{...e,env:{...e.env,...on(e.env)}}}function rz(e){return e.toLowerCase().replace(/[^a-z0-9\._-]+/g,"").replace(/(\.[\._-]|_[\.-]|__[\._-]|-+[\._])[\._-]*/g,(t,n)=>n.substr(0,n.length-1))}var iz="com.docker.compose.project",Cge="com.docker.compose.service";async function oz(e,t,n,r,i,o,s,a,u,c,l,d,p,f,m){return Sge(e,t,n,r,i,o,Tge(r),s,a,u,c,l,d,p,f,m)}async function Sge(e,t,n,r,i,o,s,a,u,c,l,d,p,f,m,h){var x,E;let{common:g}=e,{cliHost:v}=t,y;try{let _=await Gc(v,r,v.env,v.cwd),C=v.path.join(v.cwd,".env"),P=Array.isArray(r.dockerComposeFile)&&r.dockerComposeFile.length===0&&await v.isFile(C)?C:void 0,T=await ND(t,n,_),b=!c,R={...t.env,...on(t.env)},D={cliHost:v,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:R,extensionPath:g.extensionPath,appRoot:g.appRoot,package:g.package,output:g.postCreate.output},{mergedConfiguration:I}=await Kc(D,o,f,g.getLogLevel(),h,p,a.Id,m,g.cliMode),L=I.remoteUser;y=await Df(e,a.Id,s,L),d&&c&&y.user!=="root"&&(y.launchRootShellServer?await U_(y,y.launchRootShellServer,s,r.configFilePath.path):g.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let q=On(v,y.shellServer);b||await Z_(e.configurationTracking,v,q,r,g.output);let k=I.shutdownAction;k==="stopContainer"&&(k="stopCompose");let N={cwd:i,dockerCLI:e.dockerCLI,dockerComposeCLI:await e.dockerComposeCLI(),env:g.env,containerId:a.Id,user:y.user,sessionId:g.sessionId,shutdownAction:k,projectName:T,composeFiles:_,envFile:P,buildContainerRunArgs:l,service:r.service,runServices:r.runServices,logLevel:g.getLogLevel(),delay:1e4},{shutdownArgs:U,doneWithDocuments:H}=await ob(e,v,q,"dockerCompose",N,b?r:void 0);g.backgroundTasks.push(H);let oe=((E=(((x=I.customizations)==null?void 0:x.vscode)||[]).slice().reverse().find(_e=>typeof _e.devPort=="number"))==null?void 0:E.devPort)||jc,{hostOrContainerPort:O,hostPortServer:Q,connectionToken:ee,webConnectionToken:B,remoteEnv:fe,serverDownloaded:Fe}=await bf(g,y,r,I,oe,kf(e,t,y,o,p,a.Id,u,f,m));return U.hostPortServer=Q,Rf(g,y,O,ee,B,a,n),{params:g,properties:y,config:r,resolvedAuthority:{host:Yc,port:O,connectionToken:ee,extensionHostEnv:fe},webConnectionToken:B,tunnelInformation:g.isLocalContainer?Af(a):{},dockerParams:e,dockerContainerId:a.Id,serverDownloaded:Fe}}catch(_){let C=_ instanceof ve?_:new ve({description:"An error occurred setting up the container.",originalError:_});throw a&&(C.manageContainer=!0,C.params=e.common,C.containerId=a.Id,C.dockerParams=e),y&&(C.containerProperties=y),C.config=r,C}}function Tge(e){return e.workspaceFolder||"/"}async function sz(e,t,n){let r=await Pa(e,!0,[`${iz}=${t}`,`${Cge}=${n}`]);return r&&r[0]}async function ND(e,t,n){let{cliHost:r}="cliHost"in e?e:e.common,i=await Ige(e),o=ib(r.env.COMPOSE_PROJECT_NAME||"",i);if(o)return o;try{let u=r.path.join(r.cwd,".env"),c=await r.readFile(u),l=/^COMPOSE_PROJECT_NAME=(.+)$/m.exec(c.toString()),d=l&&l[1].trim(),p=ib(d||"",i);if(p)return p}catch(u){if(!(u&&(u.code==="ENOENT"||u.code==="EISDIR")))throw u}let s=t.configFolderPath,a=n[0]?r.path.dirname(n[0]):r.cwd;return Z3(r.platform,a,r.path.join(s,".devcontainer"))?ib(`${r.path.basename(s)}_devcontainer`,i):ib(r.path.basename(a),i)}function LD(e){let t=(e.Config.Labels||{})[iz];return t||void 0}function ib(e,t){return t?e.toLowerCase().replace(/[^-_a-z0-9]/g,""):e.toLowerCase().replace(/[^a-z0-9]/g,"")}async function Ige(e){try{let t=yf((await e.dockerComposeCLI()).version);return t?!xf(t,[1,21,0]):!0}catch{return!0}}function Ms(e,t,n){let r;return()=>r||(r=(async()=>{let i=!1,o;try{o=(await bv({...e,cmd:n},"version","--short")).stdout}catch(s){if((s==null?void 0:s.code)!=="ENOENT")throw s;o=(await bv({...e,cmd:t},"compose","version","--short")).stdout,i=!0}return{version:o.toString().trim(),cmd:i?t:n,args:i?["compose"]:[]}})())}var Us=V(require("url")),az=V(require("https"));function qs(e){return e.toLowerCase().indexOf("github.com")>=0?kge(e):e.toLowerCase().indexOf("visualstudio.com")>=0?Age(e):e.toLowerCase().indexOf("dev.azure.com")>=0?Rge(e):e.toLowerCase().indexOf("gitlab.com")>=0?Dge(e):Pge(e)}function Ra(e){let t="owner",n="repository";return{repository:"unknown",repositoryUrl:e,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`}}function Pge(e){var s;let t="unknown-owner",n,r=e,i;i=(s=Us.parse(e))==null?void 0:s.path;let o=i==null?void 0:i.split("/");return!o||o.length<1?Ra(e):(n=o[o.length-1],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),{repository:"unknown",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`})}function Rge(e){var o,s;let t,n,r=e,i;if(ab(e)){let a=`http://${e}`;i=(o=Us.parse(a))==null?void 0:o.path;let u=i==null?void 0:i.split("/");if(!u||u.length<5)return Ra(e);t=u[3],n=u[4]}else{i=(s=Us.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return Ra(e);t=a[2],n=a[4],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf(".")))}return{repository:"ado",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`}}function Age(e){var o,s;let t,n,r=e,i;if(ab(e)){let a=`http://${e}`;i=(o=Us.parse(a))==null?void 0:o.path;let u=i==null?void 0:i.split("/");if(!u||u.length<5)return Ra(e);t=u[3],n=u[4]}else{i=(s=Us.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return Ra(e);t=a[2],n=a[4],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf(".")))}return{repository:"vso",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`}}function Dge(e){var o,s;let t,n,r=e,i;if(ab(e)){let a=`http://${e}`;i=(o=Us.parse(a))==null?void 0:o.path,i&&(i=i.replace("/:","/"));let u=i==null?void 0:i.split("/");if(!u||u.length<3)return Ra(e);t=u[u.length-2],n=u[u.length-1]}else{i=(s=Us.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<3)return Ra(e);t=a[a.length-2],n=a[a.length-1]}return n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),{repository:"gitlab",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`}}function kge(e){var u,c;let t,n,r=e,i,o,s;if(ab(e)){let l=`http://${e}`;s=(u=Us.parse(l))==null?void 0:u.path,s&&(s=s.replace("/:","/"))}else s=(c=Us.parse(e))==null?void 0:c.path;let a=s==null?void 0:s.split("/");if(!a||a.length<=2)return Ra(e);if(t=a[1],n=a[2],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),a.length>=3){if(a[3]==="commit"||a[3]==="tree"){let l=e.match(/\/tree\/|\/commit\//);l&&l.index&&(r=e.substring(0,l.index),i=e.substring(l.index+l[0].length))}if(a[3]==="pull"){o=a[4];let l=e.match(/\/pull\//);l&&l.index&&(r=e.substring(0,l.index))}}return{repository:"github",repositoryUrl:r,ref:i,commit:a[3]==="commit",repositoryOwner:t,repositoryName:n,pullRequestId:o,fullRepositoryName:`${t}/${n}`}}function ab(e){return e=e.toLowerCase(),e.indexOf("://")<0?e.indexOf("@")<e.indexOf(":"):!1}var Sv=class extends Error{constructor(n,r){super();this.code=n,this.description=r}},Tv=class{constructor(t){this.inputUrl=t,this.gitUrlInfo=qs(this.inputUrl)}repositoryName(){return this.gitUrlInfo.repositoryName}repositoryOwner(){return this.gitUrlInfo.repositoryOwner}async postClone(t,n,r,i){}installExtension(){return null}},FD=class extends Tv{constructor(t){super(t)}async parseUrl(t){var o,s,a;let n=(o=this.gitUrlInfo)==null?void 0:o.repositoryOwner,r=(s=this.gitUrlInfo)==null?void 0:s.repositoryName,i=(a=this.gitUrlInfo)==null?void 0:a.pullRequestId;return this.getPullRequestInfo(t,n,r,i)}async getPullRequestInfo(t,n,r,i){var l,d,p,f,m,h,g,v,y,x,E;let o=await this.fetchPullRequestInfo(t,n,r,i),s=(d=(l=o.head)==null?void 0:l.repo)==null?void 0:d.clone_url,a=(f=(p=o.base)==null?void 0:p.repo)==null?void 0:f.clone_url;if(!a)throw new Sv(2,"Cannot access the head repository of the Pull Request.");let u=(m=o.head)==null?void 0:m.ref,c=((v=(g=(h=o.head)==null?void 0:h.repo)==null?void 0:g.owner)==null?void 0:v.login)===n?null:(E=(x=(y=o.head)==null?void 0:y.repo)==null?void 0:x.owner)==null?void 0:E.login;return{urlToClone:a,prRepositoryUrl:s,ref:u,sourceOwner:c}}async fetchPullRequestInfo(t,n,r,i){let o=`/repos/${n}/${r}/pulls/${i}`,s={"user-agent":"vscode-remote-containers"};t&&(s.authorization=`token ${t}`);let a={hostname:"api.github.com",port:443,path:o,method:"GET",headers:s};return new Promise((u,c)=>{let l="",d=az.request(a,p=>{if(p.statusCode<200||p.statusCode>=300)return c(new Error(`Status Code: ${p.statusCode}`));p.on("data",f=>{l+=f}),p.on("end",()=>{let f=JSON.parse(l.toString());u(f)})});d.on("error",c),d.end()})}cloneOptions(t){return{url:t.urlToClone,fullClone:!0}}async postClone(t,n,r,i){if(t.sourceOwner){let c=t.prRepositoryUrl.replace(/\.[^/.]+$/,"");await me({exec:n.exec,cmd:"git",args:["remote","add",t.sourceOwner,c],cwd:r,output:i}),await me({exec:n.exec,cmd:"git",args:["fetch",t.sourceOwner,t.ref],cwd:r,output:i});try{await me({exec:n.exec,cmd:"git",args:["checkout","-t",`${t.sourceOwner}/${t.ref}`],cwd:r,output:i})}catch(l){if(!(l.stderr&&l.stderr.startsWith(`fatal: A branch named '${t.ref}' already exists`)))throw l}await me({exec:n.exec,cmd:"git",args:["config","--local",`remote.${t.sourceOwner}.github-pr-remote`,"true"],cwd:r,output:i})}else await me({exec:n.exec,cmd:"git",args:["checkout",t.ref],cwd:r,output:i});let o=this.gitUrlInfo.repositoryOwner,s=this.gitUrlInfo.repositoryName,a=this.gitUrlInfo.pullRequestId,u=`${o}#${s}#${a}`;await me({exec:n.exec,cmd:"git",args:["config","--local",`branch.${t.ref}.github-pr-owner-number`,u],cwd:r,output:i})}installExtension(){return"GitHub.vscode-pull-request-github"}},MD=class extends Tv{constructor(t){super(t)}async parseUrl(t){var n,r;return{urlToClone:(n=this.gitUrlInfo)==null?void 0:n.repositoryUrl,ref:(r=this.gitUrlInfo)==null?void 0:r.ref}}cloneOptions(t){let n=this.gitUrlInfo.commit;return{url:t.urlToClone,branch:!n&&t.ref||void 0,fullClone:n}}async postClone(t,n,r,i){this.gitUrlInfo.commit&&await me({exec:n.exec,cmd:"git",args:["checkout",t.ref],cwd:r,output:i})}},sb=class extends Tv{constructor(n,r){super(n);this.branch=r}async parseUrl(n){return{urlToClone:this.inputUrl,ref:this.branch}}cloneOptions(n){return{url:n.urlToClone,branch:n.ref||void 0}}};function Of(e,t){if(t)return new sb(e,t);let n=qs(e);if(n.repository==="github"){if(n.pullRequestId)return new FD(e);if(n.ref)return new MD(e)}return new sb(e)}var Iv=Qt.join(__dirname,"..","node_modules","vscode-dev-containers","repository-containers");async function cz(e,t,n,r){if(t&&!/\/\.?devcontainer\.json$/.test(t.path))throw new Error(`Filename must be devcontainer.json or .devcontainer.json (${we(t,e.common.cliHost.platform)}).`);let i=e.parsedAuthority;if(!i||Nn(i))return Oge(e,i,t,n,r);if(wr(i))return i.inspectVolume?UD(e,i):Nge(e,i,t);if(Aa(i))return i.inspectVolume?UD(e,i):Lge(e,i,t);if(Dv(i))return UD(e,i);throw new Error(`Unexpected authority: ${JSON.stringify(i)}`)}async function Oge(e,t,n,r,i){let{common:o,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:u}=e,{cliHost:c,env:l,output:d}=o,p=c.cwd,f=e.originalCwd||p,m=t&&gt(c.path,Yg(t.hostPath)?c.path.join(p,Qt.basename(t.hostPath)):p);(t==null?void 0:t.configFile)&&!n&&(n=t.configFile);let h;m&&(h=await $ge(e,m),h&&(o.backgroundTasks.push(h==null?void 0:h.gitUnshallow),await h.gitClone()));let g={cliHost:c,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:u,env:l,output:d},v=i?void 0:[`${zD}=${f}`],y=i||[`${YD}=${f}`,`${fb}=${o.product.quality}`];return HD(e,g,v,y,f,p,n,r,void 0,m,t==null?void 0:t.settings,[],o.cliMode?"never":"on")}async function Nge(e,t,n){let{repositoryPath:r,volumeName:i,folder:o}=t,s=oo(r);i=await hz(e,s,i);let{labels:a,remoteWorkspaceFolder:u}=gz(s,r,o,i),c=[...a],l=[...a,`${fb}=${e.common.product.quality}`],{containerId:d,shellServer:p,remoteContainersEnv:f,config:m,preInstalledExtensions:h}=await s.cloneAndInitializeRepository(e,t,s,i,n),g=o?s.workspaceFolder(o):s.fullRepositoryName,v=VD(s,i,o);return uz(e,t,n,m,h,d,p,f,i,g,u,c,l,v)}async function Lge(e,t,n){let{common:r}=e,{extensionPath:i,appRoot:o,loadNativeModule:s,output:a}=r,{volumeName:u,folder:c}=t,l=[`${pz}=${u}`,`${fz}=${c}`],d=l;await GD(e);let p=WD(u,Xc()),{stdout:f}=await $e(e,...p),m=f.toString().trim(),h=$o(e,m,"root"),g=await Ji(h,a),v=[],y=Nf(c),x=y,E=await Fs(e,m,"root",s),_=xi("container",y,{},h,E,()=>{throw new Error("not implemented")},"node",a),{configuration:C}=await Rv({cliHost:_,dockerPath:"docker",dockerComposePath:"docker-compose",env:{},extensionPath:i,appRoot:o,package:r.package,output:a},y,n,e.common.getLogLevel(),l);return uz(e,t,n,C,v,m,g,{},u,y,x,l,d,p)}async function uz(e,t,n,r,i,o,s,a,u,c,l,d,p,f){var T,b,R;let m=gt(Qt.posix,c),h=[`type=volume,source=${u},target=${Qt.posix.dirname(m.rootFolderPath)},external=true`],g=await vz(e,o,a,l),v={},{HOME:y,USERPROFILE:x}=e.common.env;y!==void 0&&(v.HOME=y,await s.exec(`test -e "${y}" || (mkdir -p "$(dirname "${y}")" && ln -s ~ "${y}")`)),x!==void 0&&(v.USERPROFILE=x);let E=g.cliHost,_,C,P=ar(r)||"image"in r;if(P||"dockerComposeFile"in r&&r.workspaceFolder||i.length){let D=i.length?{...r.customizations,vscode:{...(T=r.customizations)==null?void 0:T.vscode,extensions:[...((R=(b=r.customizations)==null?void 0:b.vscode)==null?void 0:R.extensions)||[],...i]}}:r.customizations;C=P?k=>({...k,workspaceFolder:void 0,workspaceMount:"",customizations:D}):k=>({...k,workspaceFolder:m.rootFolderPath,customizations:D});let I=E.path.join(await E.tmpdir(),`devcontainer-${jD.randomUUID()}.json`),L=`EOF-${I}`,q=`${I}_${Date.now()}`;await s.exec(`cat <<'${L}' >${q}
${JSON.stringify({...C(r),configFilePath:void 0})}
${L}
mv ${q} ${I}`),_=ye.from({scheme:st.scheme,path:I})}try{return await HD(e,g,d,p,e.common.cliHost.cwd,E.cwd,n,_,C,m,t.settings,h,"off",f,!0,void 0,v)}finally{Promise.all(e.common.backgroundTasks.filter(D=>typeof D!="function").map(D=>D.catch(()=>{}))).then(()=>$e(e,"rm","-f",o))}}async function UD(e,t){let{common:n,dockerCLI:r,dockerComposeCLI:i,dockerComposePath:o}=e,{cliHost:s,env:a,output:u}=n,{volumeName:c}=t,l,d,p=Dv(t);p?(l=pb,d="Inspect Volume"):(l=oo(t.repositoryPath).volumeDestination,d="Recovery Container");let f=[`${lb}=${c}`],m=[`${lb}=${c}`,`${fb}=${n.product.quality}`],h=await mz(e),g=[`type=volume,source=${c},target=${l},external=true`],v={cliHost:s,dockerCLI:r,dockerComposeCLI:i,dockerComposePath:o,env:a,output:u},y=gt(s.path,h);return HD(e,v,f,m,h,h,void 0,void 0,void 0,y,t.settings,g,"never",void 0,!p,d)}async function HD(e,t,n,r,i,o,s,a,u,c,l,d,p,f,m,h,g){let{common:v,userRepositoryConfigurationPaths:y}=e,{output:x,extensionPath:E,appRoot:_,postCreate:C,localWaylandSocket:P}=v,{cliHost:T}=t,b=[...d];if(e.cacheMount==="bind"&&(await ko(v.localCacheFolder),b.push(`type=bind,source=${v.localCacheFolder},target=/vscode`)),e.cacheMount==="volume"){let He="vscode";(await io(t)).indexOf(He)===-1&&await rb(t,He),b.push("type=volume,source=vscode,target=/vscode,external=true")}if(P){let He=await U3(void 0);b.push(`type=bind,source=${P},target=${He}`)}let R=s?{uri:s,location:Fge(v,T,c,s)}:c?await db(T,c,y,!a,x):void 0,D=R==null?void 0:R.uri;if((D==null?void 0:D.scheme)==="file"&&T.type!=="local"){let He=Qt.dirname(D.fsPath),$t=Qt.basename(D.fsPath),Dn=$t===".devcontainer.json"?He:Qt.dirname(He),kt=T.path.join(await T.tmpdir(),`devcontainer-config-${jD.randomUUID()}`);await Pl(Dn,T,kt,x),D=ye.from({scheme:st.scheme,path:T.path.join(kt,...$t===".devcontainer.json"?[$t]:[Qt.basename(He),$t])})}typeof e.removeOnStartup=="string"&&await Ei(e,e.removeOnStartup)&&await $e(e,"rm","-f",e.removeOnStartup);let I=await ub(t,r);I&&e.removeOnStartup===!0&&n&&(await $e(e,"rm","-f",I.Id),I=void 0);let L=!!I||!n,q=L?r:await Mge(e,t,R,n),k=e.removeOnStartup===!0||!(I||n&&await ub(t,n)),N={...g,...t.env,...on(t.env)},U={cliHost:T,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:N,extensionPath:E,appRoot:_,package:v.package,postCreate:C,output:v.postCreate.output},H=v.postCreate.output.dimensions||v.output.dimensions,oe=v.additionalFeaturesToInstall,O=await Ns(U,["up",...t.cliHost.type==="local"&&v.persistedFolder?["--user-data-folder",v.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...v.containerSessionDataFolder?["--container-session-data-folder",v.containerSessionDataFolder]:[],...L?["--container-data-folder",Zi(e.common.product.serverDataFolderName)]:[],...L?["--container-system-data-folder",_f(e.common.product.serverDataFolderName)]:[],"--workspace-folder",o,...e.workspaceMountConsistencyDefault?["--workspace-mount-consistency",e.workspaceMountConsistencyDefault]:[],...[].concat(...q.map(He=>["--id-label",He])),"--log-level",Ss(v.getLogLevel()),"--log-format","json",...D?["--config",we(D,T.platform)]:[],...a?["--override-config",we(a,T.platform)]:[],"--default-user-env-probe",v.defaultUserEnvProbe,...e.buildNoCache?["--build-no-cache"]:[],...e.removeOnStartup===!0?["--remove-existing-container"]:[],...e.expectExistingContainer?["--expect-existing-container"]:[],...[].concat(...b.map(He=>["--mount",He])),"--skip-post-create","--update-remote-user-uid-default",p,"--mount-workspace-git-root",String(!v.cliMode),...H?["--terminal-columns",String(H.columns),"--terminal-rows",String(H.rows)]:[],...Object.keys(oe).length>0?["--additional-features",JSON.stringify(oe)]:[]]);if((O==null?void 0:O.outcome)!=="success")throw new ve({description:`devcontainer command failed: ${O?JSON.stringify(O):"data missing"}`});let Q=await Ei(e,O.containerId);if(!Q)return xz(v.output,"Dev container not found.");let ee=await Rv(U,o,D,v.getLogLevel(),q,Q.Id,a,v.cliMode),B=ee.configuration,fe=Lf(l),Fe=h||(B.name?`Dev Container: ${B.name}${fe}`:`Dev Container${fe}`);v.setWorkspaceName(Fe);let _e;if(ar(B)||"image"in B)_e=await yz(e,t,c,B,ee.workspace,i,o,Q,L,k,m,q,D,a,v.additionalFeaturesToInstall);else if("dockerComposeFile"in B){if(!c)throw new ve({description:"A Dev Container using Docker Compose requires a workspace folder."});_e=await oz(e,t,c,B,i,o,Q,L,k,f,m,q,D,a,v.additionalFeaturesToInstall)}else throw new ve({description:`Dev container config (${B.configFilePath}) is missing one of "image", "dockerFile" or "dockerComposeFile" properties.`});return Uge(e,U,B,a,u,Q,f,o,D,q,_e.properties),_e.configLocation=R==null?void 0:R.location,_e}function Fge(e,t,n,r){return(r.scheme==="file"||r.scheme===st.scheme&&t.type==="local")&&Vw(Qt,e.extensionPath,r.fsPath)?"builtin":n&&(r.scheme===st.scheme||r.scheme==="file"&&t.type==="local")&&Vw(Qt,n.rootFolderPath,we(r,t.platform))?"workspace":r.scheme==="file"?"user":"unknown"}async function Mge(e,t,n,r){var s;let{cliHost:i}=t,o;if(n){let{uri:a}=n,u;if(n.location==="builtin"){let l=Qt.relative(e.common.extensionPath,a.fsPath);u=ye.file(l).with({scheme:"vscode-dev-containers-builtin"}).toString()}else a.scheme===st.scheme||a.scheme==="file"&&i.type==="local"?u=we(a,i.platform):u=a.toString();let c=[...r,`${$D}=${u}`];if(await ub(t,c))o=c;else{let l=await ub(t,r);l&&!((s=l.Config.Labels)!=null&&s[$D])?e.removeOnStartup===!0?(await $e(t,"rm","-f",l.Id),o=c):o=r:o=c}}else o=r;return o}function Uge(e,t,n,r,i,o,s,a,u,c,l){let{common:d}=e,{output:p,extensionPath:f,appRoot:m}=d,{cliHost:h}=t;if(e.watch){let g,v=n.configFilePath;if(v.scheme===st.scheme)if(h.type==="local")g=v.with({scheme:"file"});else if(h.type==="container")g=v.with({scheme:Vr.scheme,authority:d.authority});else{let y=we(v,h.platform),x=o.Mounts.find(E=>Vw(h.path,E.Source,y));if(x){let E=h.path.relative(x.Source,y),_=h.platform==="win32"?E.replace(/\\/g,"/"):E;g=ye.from({scheme:Vr.scheme,authority:d.authority,path:Qt.posix.join(x.Destination,_)})}}else(v.scheme==="file"||v.scheme===Vr.scheme)&&(g=v);if(g){let C=function(){y||(E=x().finally(async()=>{await to(h.type==="container"?5e3:1e3),E=void 0,_&&(_=!1,C())}))},y=!1;async function x(){let T=t,b;try{if(h.type==="container"){let{stdout:I}=await $e(e,...s);b=I.toString().trim();let L=$o(e,b,"root");if(r&&i){let N=r.path,U=`EOF-${N}`,H=`${N}_${Date.now()}`,oe=await Ji(L,p),O=Je((await oe.exec(`cat '${v.path}'`)).stdout);await oe.exec(`cat <<'${U}' >${H}
${JSON.stringify({...i(O),configFilePath:void 0})}
${U}
mv ${H} ${N}`)}let q=await Fs(e,b,"root",d.loadNativeModule);T={cliHost:xi("container",a,{},L,q,()=>{throw new Error("not implemented")},"node",p),dockerPath:"docker",dockerComposePath:"docker-compose",env:{},extensionPath:f,appRoot:m,package:d.package,output:p}}let R=await Rv(T,a,u,d.getLogLevel(),c,o.Id,r,d.cliMode),D=On(T.cliHost,l.shellServer);await J_({...e.configurationTracking,containerOutdated:async I=>{y=!0;let L=await e.configurationTracking.containerOutdated(I);return L==="ignore"&&(y=!1),L}},T.cliHost,D,R.configuration)}finally{b&&await $e(e,"rm","-f",b)}}let E,_=!1,P=e.watch(g,()=>{E?_=!0:C()});e.common.shutdowns.push(async()=>(await P).dispose())}}}async function ub(e,t){let n=await Pa(e,!0,t);return(await zc(e,n)).filter(i=>i.State.Status!=="removing")[0]}async function Rv(e,t,n,r,i,o,s,a=!1){let{cliHost:u,output:c}=e,l=await Ns(e,["read-configuration",...e.dockerPath!=="docker"?["--docker-path",e.dockerPath]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],"--workspace-folder",t,...(i||[]).map(d=>["--id-label",d]).flat(),...o?["--container-id",o]:[],"--log-level",Ss(r),"--log-format","json",...n?["--config",we(n,u.platform)]:[],...s?["--override-config",we(s,u.platform)]:[],"--mount-workspace-git-root",String(!a),...c.dimensions?["--terminal-columns",String(c.dimensions.columns),"--terminal-rows",String(c.dimensions.rows)]:[]]);return l.configuration.configFilePath=ye.revive(l.configuration.configFilePath).with({scheme:u.type==="local"?"file":st.scheme}),l}async function Av(e,t,n,r,i){let o=await db(e,t,n,r,i);return o==null?void 0:o.uri}async function db(e,t,n,r,i){let o=await wV(e,t,qe),s=o&&await Pv(o,n);if(s)return{uri:s,location:"user"};let a=await z_(e,t.configFolderPath);if(a)return{uri:a,location:"workspace"};let u=o&&await Pv(o,[Iv]);if(u)return{uri:u,location:"builtin"};r&&i&&(o!=null&&o.length?i.write(`No dev container config found. Additional locations checked:
${[...qD(o,n),...qD(o,[Iv])].map(c=>`- ${Qt.join(c,".devcontainer","devcontainer.json")}`).join(`
`)}`):i.write("No dev container config found. No repository connection string found."))}async function Pv(e,t){let n=qD(e,t);for(let r of n){let i=await MG(r);if(i)return ye.file(i)}}function qD(e,t){let n=[],r=new Set(e.map(qge).filter(i=>!!i));for(let i of r)for(let o of t){let s=Qt.join(o,i);n.push(s)}return n}function lz(e,t,n){let r=e.path.relative(t.rootFolderPath,we(n,e.platform));return r&&!r.startsWith("..")&&!e.path.isAbsolute(r)}function dz(e){if(e.scheme!=="file")return;let t=Qt.relative(Iv,e.fsPath);if(t&&!t.startsWith("..")&&!Qt.isAbsolute(t))return t}function qge(e){let t;if(e.startsWith("https://"))t=e.substr(8);else{let n=/[^@:]+@([^:]+):(.+)/.exec(e);if(n)t=`${n[1]}/${n[2]}`;else return}if(!(t.toLowerCase().startsWith("github.com")&&(t=(/^[^/]+\/[^/]+\/[^/]+/.exec(t)||[])[0],!t)))return t.endsWith(".git")&&(t=t.substr(0,t.length-4)),t}async function $ge(e,t){var f;let{common:n,gitClone:r}=e,{cliHost:i}=n;if(!r)return;let o=cv(n),s=cv(n),a=Of(r.url,r.branch),u=await a.parseUrl(r.tokenEnvVar?i.env[r.tokenEnvVar]:void 0),c=a.cloneOptions(u),l={...r,...c,env:{...r.env,...c.env}},d=await n_(n,n.cliHost,t.rootFolderPath,l,o.output,s.output),p=(f=d.gitClone)==null?void 0:f.then(()=>a.postClone(u,i,t.rootFolderPath,o.output));return{gitClone:async()=>{o.flush(),await p},gitUnshallow:async()=>{o.flush(),s.flush(),await d.gitUnshallow}}}var pz="vsc.devcontainer.volume.name",fz="vsc.devcontainer.volume.folder";function BD(e){return e?`${e.volumeName}:${e.folder}`:void 0}function Rl(e){let t=(e.Config.Labels||{})[pz],n=(e.Config.Labels||{})[fz];return t&&n?{volumeName:t,folder:n}:void 0}function oo(e){return{repositoryPath:e,fullRepositoryName:hb(e),repositoryName:Hge(e),workspaceFolder:Nf,volumeDestination:Xc(),oldVolumeName:Bge(e),alreadyCloned:!1,imageName:Vge(e),uniqueVolumeName:Wge(e),getWorkspaceConfiguration:(t,n)=>Gge(t,n),getOldWorkspacePath:_z,cloneAndInitializeRepository:zge,getConfigurationFromImage:Ez,gitUrlHandler:Of(e),gitUrlInfo:qs(e)}}function hb(e){let t=qs(e);return t==null?void 0:t.fullRepositoryName}function Hge(e){let t=qs(e);return t==null?void 0:t.repositoryName}function Xc(){return"/workspaces"}function Bge(e){let t=hb(e);return`vsc-${jo.posix.basename(t)}-${QD(e)}`}function Vge(e){let t=hb(e),n=QD(e),r=jo.posix.basename(t);return rz(`vsc-${r}-${n}`)}function Wge(e){let t=qs(e),n="";t&&t.repositoryName&&(n=t.repositoryName,t.ref?n=`${n}-${t.ref.replace(/\//g,"-")}`:t.pullRequestId&&(n=`${n}-pull-${t.pullRequestId}`));let r=QD(e);return`${n}-${r}`}function QD(e){return Al.createHash("md5").update(e).digest("hex")}function Gge(e,t){let n=Nf(e),r=`type=volume,src=${t},dst=${Xc()}`;return{workspaceFolder:n,workspaceMount:r}}function Nf(e){return jo.posix.join(`${Xc()}`,`${e}`)}async function zge(e,{folder:t,cloneInfo:n},r,i,o){var d;await GD(e);let{containerId:s,shellServer:a,remoteContainersEnv:u}=await Yge(e,r,i,t,o,e.configProvider,n),{config:c}=await Ez(e,r,t,o,a),l=(d=r.gitUrlHandler)==null?void 0:d.installExtension();return{repository:r,volumeName:i,containerId:s,shellServer:a,remoteContainersEnv:u,config:c,preInstalledExtensions:l?[l]:[]}}async function Yge(e,t,n,r,i,o,s){let{common:a}=e,{output:u,loadNativeModule:c}=a,l=t.fullRepositoryName,d,p,f,m;e.common.progress(1);let h=VD(t,n,r,e.buildContainerRunArgs);r?(u.write(`Cloning Github repository: ${l} into ${t.workspaceFolder(r)}
\r`),d=`fatal: destination path '${t.workspaceFolder(r)}' already exists`,m=t.workspaceFolder(r),f=`Repository '${l}' was already cloned into '${t.workspaceFolder(r)}'.
\r`):(u.write(`Cloning Github repository: ${l} into volume ${n}
\r`),d=`fatal: destination path '${l}' already exists`,m=`${l}`,f=`Repository '${l}' was already cloned into volume.`);let g=t.gitUrlHandler;if(!g)throw new ve({description:"Could not analyze the URL."});s?p=g.cloneOptions(s):p={url:t.repositoryPath};let{stdout:v}=await $e(e,...h),y=v.toString().trim(),x=$o(e,y,"root"),E=await Ji(x,u),_,C={},P=Promise.resolve(),T;if(!a.cliMode){let I=await tv(a,{remoteExec:x,user:"root",nodeExecutable:"node",shellServer:E,launchRootShellServer:async()=>E});_=I.remoteContainersCLI,C=I.remoteEnv,P=I.ready,T=I.mrpcExec}let b=await Fs(e,y,"root",c),R=xi("container",m,{},await T||x,b,()=>{throw new Error("not implemented")},void 0,u);try{a.cliMode||(e.common.isCopyGitConfigEnabled&&(await Cl(e.common,{homeFolder:"/root",shellServer:E},[".gitconfig"],"git"),await q_(e.common,{homeFolder:"/root",shellServer:E},{})),await Ef({shellServer:E,nodeExecutable:"node"},_,u,"global"),await Cl(e.common,{homeFolder:"/root",shellServer:E},[".ssh","known_hosts"],"ssh"),await P);let I=cv(a),L=await n_(a,R,m,{...p,env:{...C,...p.env}},u,I.output);if(await L.gitClone,L.gitUnshallow&&(a.backgroundTasks.push(L.gitUnshallow.then(()=>{})),L.gitUnshallow.then(I.flush,I.flush)),L.gitClone&&s)try{await g.postClone(s,R,m,u)}catch{return KD(e,y,`Failed to checkout the repository ${s.urlToClone}.`)}}catch(I){let L=I&&(I.cmdOutput||I.stack||I.message)||String(I);if(L=L.replace(Ip,""),L.replace(/[\r\n]+/gm,"").includes(d))u.write(f),t.alreadyCloned=!0;else return KD(e,y,`Git clone failed. ${L}`)}let{configRaw:D}=await wz(e,t,r,i,E);if(!X_(D)&&o){u.write(`Repository ${l} has no dev container files.
\r`);let I=!0;for(;I;){let L=await o.createConfiguration(m,R);if(L)I=!1;else if(L=await o.showError("You must select a container configuration since the repository does not contain a dev container configuration. Without a dev container configuration the container cannot be started.","Select Configuration"),L!=="Select Configuration")return KD(e,y,"Cancelled container configuration selection.")}}return{containerId:y,shellServer:E,remoteContainersEnv:C}}function VD(e,t,n,r=[]){let i=n?e.volumeDestination:e.fullRepositoryName;return WD(t,i,r)}function WD(e,t,n=[]){return["run","-d","--mount",`type=volume,src=${e},dst=${t}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...n,`${bz}`,"sleep","infinity"]}function KD(e,t,n){throw t&&$e(e,"rm","-f",t),new ve({description:n})}async function wz(e,t,n,r,i){let o,s;if(n?s=t.workspaceFolder(n):s=`${_z(t.repositoryPath)}`,r)return o=(await i.exec(`cat ${r.path} 2>/dev/null`,{logOutput:!1})).stdout,{configRaw:o&&Je(o),configFile:r,workspaceFolder:s};if(r=await Pv([t.repositoryPath],e.userRepositoryConfigurationPaths),r&&(o=(await nt(r.fsPath)).toString()),!r)for(let a of Pf(jo.posix,s))try{o=(await i.exec(`cat ${a} 2>/dev/null`,{logOutput:!1})).stdout,r=ye.from({scheme:"vscode-remote",path:a});break}catch{}return r||(r=await Pv([t.repositoryPath],[Iv]),r&&(o=(await nt(r.fsPath)).toString())),{configRaw:o&&Je(o),configFile:r,workspaceFolder:s}}async function Ez(e,t,n,r,i){let{configRaw:o,configFile:s,workspaceFolder:a}=await wz(e,t,n,r,i);if(!s||!o)throw new ve({description:"The repository does not have a 'devcontainer.json' configuration file."});let{common:u,configUpdater:c}=e,{cliHost:l,output:d}=u,p=wv({...o}),f=p;c&&(p.configFilePath=s,f=c(p),delete f.configFilePath);let m=D_({platform:l.platform,configFile:s,env:l.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:a},f);return m.configFilePath=s,("workspaceMount"in m||"workspaceFolder"in m)&&d.write("The options 'workspaceMount' or 'workspaceFolder' are ignored when cloning a repository into a volume."),{workspaceFolder:a,config:m}}function _z(e){return`/workspaces/${jo.posix.basename(hb(e))}`}var bz="vsc-volume-bootstrap";var XD="bootstrap.Dockerfile",Kge="volume.Dockerfile";async function GD(e,t,n,r){let{cliHost:i,output:o}="cliHost"in e?e:e.common;"cliHost"in e||(t=e.common.extensionPath,n=e.common.package.version,r=e.development);let s=i.path.join(await ek(i),"bootstrap-image",r?`${n}-dev-${Date.now()}`:n),a=i.path.join(s,XD),u=!await i.isFolder(s);if(!u&&!await i.isFile(a)){let l="Removing incomplete bootstrap-image folder.",d=o.start(l),p=`${s}-${Al.randomUUID()}`;await i.rename(s,p),await i.rm(p,{recursive:!0,force:!0}),u=!await i.isFolder(s),o.stop(l,d)}if(u){let l=`${s}-${Al.randomUUID()}`,d=i.path.join(l,".vscode-remote-containers","dist",`dev-containers-cli-${n}`);await i.mkdirp(i.path.join(d,"dist","spec-node")),await i.writeFile(i.path.join(l,XD),await nt(jo.join(t,"scripts",XD))),await i.writeFile(i.path.join(d,"package.json"),await nt(jo.join(t,"package.json"))),await i.writeFile(i.path.join(d,"dist","spec-node","devContainersSpecCLI.js"),await nt(jo.join(t,"dist","spec-node","devContainersSpecCLI.js")));let p=Y_(t),f=i.path.join(d,"dist","node_modules","vscode-dev-containers","container-features");await Pl(p,i,f,o),await i.rename(l,s)}await ZG(e,...["build","-f",a,"-t",bz,s])}async function mz(e){let{common:t}=e,{cliHost:n,output:r}=t,i=await Xge(e),o=n.path.join(i,Kge),s=!await n.isFolder(i);if(!s&&!await n.isFile(o)){let a="Removing incomplete inspect-volume folder.",u=r.start(a),c=`${i}-${Al.randomUUID()}`;await n.rename(i,c),await n.rm(c,{recursive:!0,force:!0}),s=!await n.isFolder(i),r.stop(a,u)}if(s){let a=`${i}-${Al.randomUUID()}`;await Pl(jo.join(t.extensionPath,"scripts","inspect-volume"),n,a,r),await n.rename(a,i)}return i}async function Xge(e){let{common:t,development:n}=e,{cliHost:r}=t,i=t.package.version;return r.path.join(await ek(r),"inspect-volume",n?`${i}-dev-${Date.now()}`:i)}async function hz(e,t,n){let r=[`vsch.local.repository=${t.repositoryPath}`];return n?n===_i?(n=t.uniqueVolumeName,r.push("vsch.local.repository.unique=true")):r.push("vsch.local.repository.unique=false"):(n=t.oldVolumeName,r.push("vsch.local.repository.unique=false")),t.gitUrlInfo.ref&&r.push(`vsch.local.repository.branch=${t.gitUrlInfo.ref}`),t.gitUrlInfo.pullRequestId&&r.push(`vsch.local.repository.pullRequestId=${t.gitUrlInfo.pullRequestId}`),(await io(e)).indexOf(n)===-1&&await rb(e,n,r),n}var mb="vsch.local.repository",JD="vsch.local.repository.volume",ZD="vsch.local.repository.folder";function gz(e,t,n,r){return n?{labels:[`${mb}=${t}`,`${JD}=${r}`,`${ZD}=${n}`],remoteWorkspaceFolder:e.workspaceFolder(n)}:{labels:[`${mb}=${t}`],remoteWorkspaceFolder:e.getOldWorkspacePath(t)}}async function vz(e,t,n,r){let{loadNativeModule:i,output:o}=e.common,s=$o(e,t,"root"),a=await Fs(e,t,"root",i),u=xi("container",r,n,s,a,()=>{throw new Error("not implemented")},"node",o);return{cliHost:u,dockerCLI:"docker",dockerComposeCLI:Ms({exec:u.exec,env:n,output:o},"docker","docker-compose"),dockerComposePath:"docker-compose",env:n,output:o}}var zD="devcontainer.local_folder",$D="devcontainer.config_file",lb="vsch.local.volume",pb="/volume",fb="vsch.quality",YD="vsch.local.folder";async function yz(e,t,n,r,i,o,s,a,u,c,l,d,p,f,m){let{common:h}=e,g;try{let v=!c,y={...t.env,...on(t.env)},x={cliHost:t.cliHost,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:y,extensionPath:h.extensionPath,appRoot:h.appRoot,package:h.package,output:h.postCreate.output},{mergedConfiguration:E}=await Kc(x,s,p,h.getLogLevel(),m,d,a.Id,f,h.cliMode),_=E.remoteUser;g=await Df(e,a.Id,i.workspaceFolder,_),l&&c&&i.workspaceFolder&&g.user!=="root"&&(g.launchRootShellServer?await U_(g,g.launchRootShellServer,i.workspaceFolder,r.configFilePath.path):h.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let C=await Tz(h,c,i,g);return await Jge(a,u,e,t,g,r,E,n,v,o,s,d,p,f,C)}catch(v){throw Qge(v,a,e,g,r)}}function Qge(e,t,n,r,i){let o=e instanceof ve?e:new ve({description:"An error occurred setting up the container.",originalError:e});return t&&(o.manageContainer=!0,o.params=n.common,o.containerId=t.Id,o.dockerParams=n),r&&(o.containerProperties=r),i&&(o.config=i),o}async function Jge(e,t,n,r,i,o,s,a,u,c,l,d,p,f,m){var I,L;let{common:h}=n,g=On(r.cliHost,i.shellServer);u||await Z_(n.configurationTracking,r.cliHost,g,o,h.output);let v=s.shutdownAction;v==="stopCompose"&&(v="stopContainer");let y={cwd:c,dockerCLI:n.dockerCLI,env:h.env,containerId:e.Id,user:i.user,sessionId:h.sessionId,shutdownAction:v,logLevel:h.getLogLevel(),delay:1e4},{shutdownArgs:x,doneWithDocuments:E}=await ob(n,r.cliHost,g,"singleContainer",y,u?o:void 0);h.backgroundTasks.push(E);let _=((L=(((I=s.customizations)==null?void 0:I.vscode)||[]).slice().reverse().find(q=>typeof q.devPort=="number"))==null?void 0:L.devPort)||jc,{hostOrContainerPort:C,hostPortServer:P,connectionToken:T,webConnectionToken:b,remoteEnv:R,serverDownloaded:D}=await bf(h,i,o,s,_,kf(n,r,i,l,d,e.Id,t,p,f),m);return x.hostPortServer=P,Rf(h,i,C,T,b,e,a),{params:h,properties:i,config:o,resolvedAuthority:{host:Yc,port:C,connectionToken:T,extensionHostEnv:R},webConnectionToken:b,tunnelInformation:h.isLocalContainer?Af(e):{},dockerParams:n,dockerContainerId:e.Id,serverDownloaded:D}}function Dl(e){let t=e.Config.Labels||{},n=t[zD]||t[YD];return n||void 0}function kl(e){let t=(e.Config.Labels||{})[mb];return t||void 0}function gb(e){let t=(e.Config.Labels||{})[JD];return t||void 0}function Cz(e){let t=(e.Config.Labels||{})[lb];return t||void 0}function Sz(e){let t=(e.Config.Labels||{})[ZD];return t||void 0}function xz(e,t){throw e.write(Ze(t)),new Error(t)}var Iz=V(require("path"));async function Pz(e,t,n,r,i,o){let s,a=new Promise(m=>s=m),u=new eb,c=[],l=await YG("vscode-remote-containers",async(m,h)=>{let g=await KG(m),v=[];if(g.type==="poll")try{v=await u.dequeue(6e4)}catch{}else if(g.type==="reply"){let y=c[g.sequence];y&&(y(g.reply),delete c[g.sequence])}else g.type==="done"&&s?s():g.type==="log"&&r.event(g.event);h.write(JSON.stringify(v)),h.end()});l.server.unref();let d=Iz.join(n,"dist","shutdown","shutdownMonitorProcess"),p=[l.ipcHandlePath,e,li[t],i||"",o.getTime().toString()];r.write(`Forking shutdown monitor: ${d} ${p.join(" ")}\r
`);let f=tW(d,p,{stdio:["ignore","ignore","ignore","ipc"],detached:!0,execArgv:[]});return f.on("error",m=>{console.error(m)}),f.unref(),{queue:u,sequence:0,replies:c,done:a}}async function vb(e,t,n){let r=e.sequence++,i=new Promise(s=>e.replies[r]=s);return e.queue.push({type:"configure",sequence:r,options:t}),await i}async function Rz({queue:e,done:t}){e.push({type:"cleanup"}),await t}var Az=require("util");var _i="__UNIQUE__",Yc="127.0.0.1";async function Dz(e,t){if(e.scheme==="file"&&t.type==="wsl"){let{stdout:n}=await me({exec:t.exec,cmd:"wslpath",args:["-u",e.fsPath],output:qe});return n.toString().trim()}return we(e,t.platform)}function Mf(e,t){let n=e.platform==="win32"&&!e.env.SSH_AUTH_SOCK?f_:e.type==="wsl"?e.env.SSH_AUTH_SOCK:void 0,r={DOCKER_CONTEXT:"default"};return t&&("context"in t?r.DOCKER_CONTEXT=t.context:(t.host&&(t.host.startsWith("ssh://")&&e.type==="ssh"?r.VSCODE_DOCKER_HOST=t.host:r.DOCKER_HOST=t.host),t.certPath&&(r.DOCKER_CERT_PATH=t.certPath),t.tlsVerify&&(r.DOCKER_TLS_VERIFY=t.tlsVerify))),n&&(r.SSH_AUTH_SOCK=n),r}function Ln(e){let t;if(e.DOCKER_CONTEXT&&e.DOCKER_CONTEXT!=="default")t={context:e.DOCKER_CONTEXT};else{t={};let n=e.VSCODE_DOCKER_HOST||e.DOCKER_HOST;n&&(t.host=n),e.DOCKER_CERT_PATH&&(t.certPath=e.DOCKER_CERT_PATH),e.DOCKER_TLS_VERIFY&&(t.tlsVerify=e.DOCKER_TLS_VERIFY),Object.keys(t).length||(t=void 0)}return t}function yb(e,t){t&&("context"in t&&t.context&&e.write(`Context: ${t.context}\r
`),"host"in t&&t.host&&e.write(`Host: ${t.host}\r
`),"certPath"in t&&t.certPath&&e.write(`CertPath: ${t.certPath}\r
`),"tlsVerify"in t&&t.tlsVerify&&e.write(`TLSVerify: ${t.tlsVerify}\r
`))}function xb(e){return!e.VSCODE_DOCKER_HOST&&!e.DOCKER_HOST&&(!e.DOCKER_CONTEXT||e.DOCKER_CONTEXT==="default")}function Lf(e){return e&&("context"in e||e.host)?` @ ${"context"in e?e.context:e.host}`:""}async function Ei(e,t){try{return await Wr(e,t)}catch{return}}function Rf(e,t,n,r,i,o,s){let a=o.Ports.filter(p=>!!p.PublicPort),u="";if(e.authority&&s){let p=s.isWorkspaceFile?"workspace":"folder",f=t.remoteWorkspaceFolder||"/",m=s.isWorkspaceFile?Ff.posix.join(f,e.cliHost.path.basename(s.workspaceOrFolderPath)):f;u=`&${p}=${encodeURIComponent(`vscode-remote://${e.authority}${m}`)}`}let c=[...a.length?["Published Ports:"]:[],...a.map(p=>`${p.PrivatePort}/${p.Type} -> ${p.IP}:${p.PublicPort}`),...a.length?[""]:[],...e.web?[`VS Code Web: http://localhost:${n}?tkn=${r||i}${u}`,""]:[]],l=c.reduce((p,f)=>Math.max(f.length,p),0),d="-".repeat(l);l>0&&e.output.write(`\r
\r
${d}\r
${c.join(`\r
`)}${d}\r
\r
`)}async function wb(e){let{common:t}=e,{output:n}=t,r="Check Docker is running",i=n.start(r);try{let{stdout:o}=await $e(e,"version","--format","{{.Server.APIVersion}}"),s=o.toString();if(s.toLowerCase().indexOf("cannot connect")!==-1)throw new Error(s);n.write(`Server API version: ${s.trim()}`)}catch(o){console.error(o);let s=o&&(o.stderr?o.stderr.toString():o.message)||"";s&&n.write(Ze(s));let a="Docker returned an error. Make sure the Docker daemon is running and select an option how to proceed.",u=o&&(o.stderr?o.stderr.toString().toLowerCase():o.message)||"";throw u.indexOf("permission denied")!==-1?u.indexOf("ssh")!==-1?a="Cannot connect to Docker daemon using 'ssh'. Make sure public/private keys are set up for connecting without keyboard interaction.":a="Current user does not have permission to run 'docker'. Try adding the user to the 'docker' group.":u.indexOf("ENOENT")!==-1&&(a="The 'docker' command was not found. Make sure Docker is installed."),new ve({description:a,originalError:`Docker returned an error code ${o.code}, message: ${o.message}`})}finally{n.stop(r,i)}}function Nn(e){return e.hostPath!==void 0}function wr(e){return e.repositoryPath!==void 0}function Aa(e){return!wr(e)&&!!e.folder}function Dv(e){return!wr(e)&&!Aa(e)&&e.volumeName!==void 0}function bi(e){let t=Oz("dev-container",e);if(!!t)return typeof t=="string"?{hostPath:t}:"repositoryPath"in t?t.dockerHost?{repositoryPath:t.repositoryPath,settings:{host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`,cloneInfo:t.cloneInfo}}:t:("hostPath"in t&&t.configFile&&(t.configFile=ye.revive(t.configFile)),"hostPath"in t&&t.dockerHost?{hostPath:t.hostPath,settings:{host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`}}:t)}function kv(e,t,n,r,i){let o=n||i?JSON.stringify({hostPath:e,localDocker:r,settings:n,configFile:i}):e;return`vscode-remote://dev-container+${Buffer.from(o,"utf8").toString("hex")}${t}`}function Ho(e,t,n,r,i,o){if(e){let a=oo(e);if(!t){let c=JSON.stringify({repositoryPath:e,settings:i,cloneInfo:o,inspectVolume:r});return`vscode-remote://dev-container+${Buffer.from(c,"utf8").toString("hex")}${a.getOldWorkspacePath(e)}`}let u=JSON.stringify({repositoryPath:e,volumeName:t,folder:n,settings:i,cloneInfo:o,inspectVolume:r});return`vscode-remote://dev-container+${Buffer.from(u,"utf8").toString("hex")}${a.workspaceFolder(n)}`}if(n){let a={volumeName:t,folder:n,settings:i};return`vscode-remote://dev-container+${Buffer.from(JSON.stringify(a),"utf8").toString("hex")}${Nf(n)}`}let s=JSON.stringify({volumeName:t,settings:i});return`vscode-remote://dev-container+${Buffer.from(s,"utf8").toString("hex")}${pb}`}function Uf(e){let t=Oz("attached-container",e);if(!!t)return typeof t=="string"?{containerId:t}:(t.dockerHost&&(t.settings={host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`},delete t.dockerHost),t)}function kz(e,t,n){let r=JSON.stringify({containerName:e,settings:t,cwd:n});return`attached-container+${Buffer.from(r,"utf8").toString("hex")}`}function Oz(e,t){try{let[n,r]=t.split("+"),i=n===e&&r?Buffer.from(r,"hex").toString("utf8"):void 0;return i?i.startsWith("{")?JSON.parse(i):i:void 0}catch(n){console.warn(n);return}}async function Nz(e,t,n,r=!1){return!r&&await Qg(e,t,n)||t}function Lz(e,t,n){let r=e.path.relative(e.path.dirname(t),n);return`/workspaces/${e.platform==="win32"?r.replace(/\\/g,"/"):r}`}function Fz(e,t,n){if(e==="win32")return t;let r=`${Zge(n,"/")}/`;return(e==="linux"?t.startsWith(r):t.toLowerCase().startsWith(r.toLowerCase()))&&(t=`~/${t.substr(r.length)}`),t}function Zge(e,t){if(t.length===0)return e;for(;e.endsWith(t);)e=e.substr(0,e.length-t.length);return e}function WG(e,t){return e.with({path:Ff.posix.resolve(e.path,t)})}async function ob(e,t,n,r,i,o){let{common:s,onRemoveOnShutdownChanged:a}=e;if(s.cliMode)return{shutdownArgs:{},doneWithDocuments:Promise.resolve()};let u=s.output.start("Setup shutdown monitor"),c=await Pz(r,s.getLogLevel(),s.extensionPath,s.output,s.logFilePath?Ff.dirname(s.logFilePath):void 0,s.sessionStart);vb(c,i,s.output).catch(f=>console.error(f)),a&&a(async f=>{i.rebuild=!!f,i.delay=0,await vb(c,i,s.output)}),s.onDidChangeLogLevel(async f=>{i.logLevel=f,await vb(c,i,s.output)});let l={},d=async()=>{let f=Rz(c);l.hostPortServer&&await(0,Az.promisify)(l.hostPortServer.close.bind(l.hostPortServer))(),await f};s.shutdowns.push(d);let p=o?J_(e.configurationTracking,t,n,o).catch(console.error):Promise.resolve();return s.output.stop("Setup shutdown monitor",u),{monitor:c,shutdownArgs:l,doneWithDocuments:p}}function Af(e){return{environmentTunnels:e.Ports.filter(t=>!!t.PublicPort).map(t=>({remoteAddress:{port:t.PrivatePort,host:t.IP},localAddress:t.IP+":"+t.PublicPort}))}}async function Df(e,t,n,r,i){var E;let{common:o}=e,s="Inspecting container",a=o.output.start(s),u=await Wr(e,t);o.output.stop(s,a);let c=r||u.Config.User||"root",[,l,,d]=/([^:]*)(:(.*))?/.exec(c),p=eve(u.Config.Env),f=$o(e,t,c),m=await Fs(e,t,c,o.loadNativeModule),h=$o(e,t,"root"),g=u.Mounts.find(_=>_.Type==="volume"&&_.Name==="vscode"),v=u.Mounts.find(_=>_.Type==="bind"&&_.Source===o.localCacheFolder),y=g&&Ff.posix.join(g.Destination,/^\.*(.*)$/.exec(o.product.serverDataFolderName)[1])||(v==null?void 0:v.Destination),x=(E=u.Mounts.find(_=>_.Type==="bind"&&_.Destination.startsWith("/tmp/vscode-wayland-")))==null?void 0:E.Destination;return F_({params:o,createdAt:u.Created,startedAt:u.State.StartedAt,sharedDataFolder:y,sharedDataFolderIsLocalCacheFolder:!g&&!!v,remoteWorkspaceFolder:n,containerUser:l==="0"?"root":l,containerGroup:d,containerEnv:p,remoteExec:f,remotePtyExec:m,remoteExecAsRoot:h,rootShellServer:i,remoteWaylandSocket:x})}function eve(e){return(e||[]).reduce((t,n)=>{let r=n.indexOf("=");return r!==-1&&(t[n.substr(0,r)]=n.substr(r+1)),t},{})}async function ek(e){return e.path.join(await e.tmpdir(),e.platform==="linux"?`vsch-${await e.getUsername()}`:"vsch")}async function Mz(e){let{common:t,dockerCLI:n,dockerComposeCLI:r,dockerComposePath:i,dockerEnv:o}=e,{cliHost:s,output:a}=t;return{cliHost:s,dockerCLI:n,dockerComposeCLI:r,dockerComposePath:i,env:o,output:a}}async function Uz(e,t){return e.type==="local"&&t?e.path.join(t,"data"):e.path.join(await e.homedir(),".vscode-remote-containers","data")}function kf(e,t,n,r,i,o,s,a,u){let c=!s;return async(l,d,p,f,m)=>{let{common:h}=e,{cliHost:g}=t,{dotfilesConfiguration:v}=h,y=f.getDotfileConfiguration("dotfiles.repository")||v.repository,x=f.getDotfileConfiguration("dotfiles.installCommand")||v.installCommand,E=f.getDotfileConfiguration("dotfiles.targetPath")||v.targetPath;c&&y&&(c=!1,await sW(n));let _={...t.env,...on(t.env)},C={cliHost:t.cliHost,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:_,extensionPath:h.extensionPath,appRoot:h.appRoot,package:h.package,postCreate:h.postCreate,output:h.postCreate.output},P=h.postCreate.output.dimensions||h.output.dimensions,T=await Ns(C,["run-user-commands",...t.cliHost.type==="local"&&h.persistedFolder?["--user-data-folder",h.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...h.containerSessionDataFolder?["--container-session-data-folder",h.containerSessionDataFolder]:[],...s?["--container-data-folder",Zi(e.common.product.serverDataFolderName)]:[],...s?["--container-system-data-folder",_f(e.common.product.serverDataFolderName)]:[],...r?["--workspace-folder",r]:[],...(i||[]).map(b=>["--id-label",b]).flat(),"--container-id",o,"--log-level",Ss(h.getLogLevel()),"--log-format","json",...a?["--config",we(a,g.platform)]:[],...u?["--override-config",we(u,g.platform)]:[],"--default-user-env-probe",h.defaultUserEnvProbe,"--skip-non-blocking-commands",String(l),...h.skipPostAttach?["--skip-post-attach"]:[],"--prebuild",String(p),"--stop-for-personalization",String(d),...[].concat(...Object.keys(m).map(b=>["--remote-env",`${b}=${m[b]}`])),"--mount-workspace-git-root",String(!h.cliMode),...P?["--terminal-columns",String(P.columns),"--terminal-rows",String(P.rows)]:[],...y?["--dotfiles-repository",y]:[],...x?["--dotfiles-install-command",x]:[],...E?["--dotfiles-target-path",E]:[]]);if((T==null?void 0:T.outcome)!=="success")throw new ve({description:`devcontainer command failed: ${T?JSON.stringify(T):"data missing"}`});return T.result}}async function Kc(e,t,n,r,i,o,s,a,u=!1){let{cliHost:c,output:l}=e,d=await Ns(e,["read-configuration",...e.dockerPath!=="docker"?["--docker-path",e.dockerPath]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],...t?["--workspace-folder",t]:[],...(o||[]).map(p=>["--id-label",p]).flat(),...s?["--container-id",s]:[],"--log-level",Ss(r),"--log-format","json",...n?["--config",we(n,c.platform)]:[],...a?["--override-config",we(a,c.platform)]:[],"--include-merged-configuration","--mount-workspace-git-root",String(!u),...l.dimensions?["--terminal-columns",String(l.dimensions.columns),"--terminal-rows",String(l.dimensions.rows)]:[],...Object.keys(i).length>0?["--additional-features",JSON.stringify(i)]:[]]);return d.configuration.configFilePath=d.configuration.configFilePath&&ye.revive(d.configuration.configFilePath).with({scheme:c.type==="local"?"file":st.scheme}),d}async function Tz(e,t,n,r){if(!e.cliMode&&t&&n.workspaceMount)try{let i=UG(n.workspaceMount);if(i.type==="bind")return await r.shellServer.exec(`command -v git >/dev/null 2>&1 && cd '${i.target}' && test -d .git && test "$(stat -c %u .)" != "$(id -u)"`),e.cliHost.platform==="win32"?await me({exec:e.cliHost.exec,cmd:"powershell",args:["-NoProfile","-NonInteractive","-Command",'if (-not (Get-Acl . | foreach { $_.Owner }).Equals("$env:UserDomain\\$env:UserName")) { exit 1 }'],cwd:i.source,output:e.output}):await me({exec:e.cliHost.exec,cmd:"/bin/sh",args:["-c",`cd '${i.source}' && test "$(stat -${e.cliHost.platform==="darwin"?"f":"c"} %u .)" = "$(id -u)"`],output:e.output}),async()=>{await r.shellServer.exec(`git config --global --add safe.directory '${i.target}'`)}}catch{}}var Lt=V(require("vscode"));var Ol={id:"openDocumentation",title:"Open Documentation",isLastAction:!1,applicable:(e,t)=>!t,execute:async e=>{await Lt.env.openExternal(Lt.Uri.parse("https://aka.ms/vscode-remote/container/resolve-failed"))}},Nl={id:"reloadWindow",title:"Reload Window",isLastAction:!0,applicable:(e,t)=>!t&&e.data.reload!==!1,execute:async e=>{e.manageContainer&&e.dockerParams&&e.containerId&&await $e(e.dockerParams,"stop","-t","0",e.containerId),await Lt.commands.executeCommand("workbench.action.reloadWindow")}},$z={id:"rebuildContainer",title:"Rebuild Container",isLastAction:!0,applicable:(e,t)=>e.manageContainer&&!!e.dockerParams&&!!e.containerId&&!t,execute:async e=>{await $e(e.dockerParams,"rm","-f",e.containerId),await Lt.commands.executeCommand("workbench.action.reloadWindow")}},qf={id:"openRecent",title:"Open Recent...",isLastAction:!0,applicable:(e,t)=>!t,execute:async e=>{await Lt.commands.executeCommand("workbench.action.openRecent")}},jz={id:"startContainer",title:"Start Container",isLastAction:!0,applicable:e=>!!e.dockerParams&&!!e.containerId&&e.data.start===!0,execute:async e=>{await $e(e.dockerParams,"start",e.containerId),await Lt.commands.executeCommand("workbench.action.reloadWindow")}},Hz={id:"chooseContainer",title:"Choose Container",isLastAction:!0,applicable:e=>e.data.attach===!0,execute:async()=>{await Lt.commands.executeCommand("remote-containers.attachToRunningContainer")}},Qc={id:"closeRemote",title:"Close Remote",isLastAction:!0,applicable:(e,t)=>{if(!t)return!1;let n=Lt.workspace.workspaceFile;return!(n&&n.scheme==="untitled"||Lt.workspace.textDocuments.some(i=>i.isDirty))},execute:async e=>{await Lt.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null})}},$f=[{id:"retry",title:"Retry",isLastAction:!0,applicable:(e,t)=>t&&e.data.reload!==!1,execute:Nl.execute},{id:"moreActions",title:"More Actions...",isCloseAffordance:!0,isLastAction:!1,applicable:(e,t)=>t,execute:async e=>{}},{id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(e,t)=>t&&!!e.data.learnMoreUrl,async execute(e){await Lt.env.openExternal(Lt.Uri.parse(e.data.learnMoreUrl))}}];async function Jc(e,t,n,r=!1,i){var p,f,m,h,g,v;let o=e instanceof ve?e:new ve({description:"An error occurred setting up the container.",originalError:e});if(i){i.show();let y=o.originalError&&(o.originalError.stack||o.originalError.message)||o.originalError;if(y!==void 0){i.log.write(Ze(String(y)));let x=(f=(p=o.originalError)==null?void 0:p.stdout)==null?void 0:f.toString().trim();x&&i.log.write(x);let E=(h=(m=o.originalError)==null?void 0:m.stderr)==null?void 0:h.toString().trim();E&&i.log.write(Ze(E)),(g=o.originalError)!=null&&g.code&&i.log.write(`Exit code ${(v=o.originalError)==null?void 0:v.code}`)}}if(e.message.indexOf("Cancelled container configuration selection")!==-1)throw await Lt.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),Lt.RemoteAuthorityResolverError.NotAvailable(void 0,!1);let s=o.actions;s.length||(s=[Ol]);let a=await s.reduce(async(y,x)=>await x.applicable(o,!0)?[...await y,x]:y,Promise.resolve([])),u=await Lt.window.showErrorMessage(o.description,{modal:!0},...a);if(u&&(qz(n,t,u.id),await u.execute(o)),u&&u.isLastAction){if(r)throw Lt.RemoteAuthorityResolverError.NotAvailable(void 0,!0);return}let c=await s.reduce(async(y,x)=>await x.applicable(o,!1)?[...await y,x]:y,Promise.resolve([])),l=c.map(y=>({label:y.title,action:y}));async function d(){let x=await(c.length?Lt.window.showQuickPick(l,{ignoreFocusOut:!0,placeHolder:"Pick an action to help resolve the problem."}):Promise.resolve(void 0));x&&(qz(n,t,x.action.id),x.action.execute(o).catch(console.error),x.action.isLastAction||await d())}if(d().catch(console.error),r)throw Lt.RemoteAuthorityResolverError.NotAvailable(void 0,!0)}function qz(e,t,n){e.sendTelemetryEvent("errorAction",{resolver:t,action:n})}var Z=V(require("vscode")),Jh=V(require("path"));var oie=V(_ne()),el=V(Jre());var Zre=V(require("vscode"));function mr(e){let t=Zre.workspace.getConfiguration(),n=cf(e),r=t.get(n),i=Uc(e),o=t.get(i);if(o!=null&&o!==r){let s=t.inspect(n);if(!s||s.globalValue===void 0&&s.workspaceValue===void 0&&s.workspaceFolderValue===void 0)return o}return r}function wq(e,t){return e.affectsConfiguration(cf(t))||e.affectsConfiguration(Uc(t))}var mP=V(require("path"));var Ui=V(require("vscode"));async function hP(){await Ui.window.showInformationMessage("You need to first save your workspace in a folder containing all its workspace folders.",{modal:!0})}var gP="{.devcontainer.json,.devcontainer/devcontainer.json,.devcontainer/*/devcontainer.json}";async function cp(e,t){let n;if(t.length>1){let r=Ui.window.createQuickPick();r.placeholder="Select a devcontainer.json file.",r.busy=!0,r.enabled=!1,r.show(),r.items=await Promise.all(t.map(async o=>{let s=we(o,e.platform),a=Je((await e.readFile(s)).toString()),u,c,l=e.path.dirname(s),d=e.path.dirname(l);return e.path.basename(l)===".devcontainer"?(u="Main",c=d):e.path.basename(d)===".devcontainer"?(u=e.path.basename(l),c=e.path.dirname(d)):(u="Project Root",c=l),{label:a.name||u,description:e.path.relative(c,s),uri:o,buttons:[{iconPath:new Ui.ThemeIcon("go-to-file"),tooltip:"Open File"}]}})),r.busy=!1,r.enabled=!0;let i=await new Promise(o=>{r.onDidAccept(()=>o(r.selectedItems[0])),r.onDidHide(()=>o(void 0)),r.onDidTriggerItemButton(({item:s})=>{Ui.commands.executeCommand("vscode.open",s.uri),o(void 0)})});r.dispose(),n=i?ye.from(i.uri):"cancelled"}else t.length===1&&(n=t[0]);return n}function Qh(e,t){let n=Ui.workspace.fs;return{platform:e,path:e==="win32"?mP.win32:mP.posix,async isFile(r){try{return((await n.stat(hc(e,t,r))).type&Ui.FileType.File)!==0}catch(i){if((i==null?void 0:i.code)==="FileNotFound"||(i==null?void 0:i.code)==="FileNotADirectory")return!1;throw i}},async readFile(r){try{let i=await n.readFile(hc(e,t,r));return Buffer.from(i)}catch(i){if((i==null?void 0:i.code)==="FileNotFound"){let o=new Error(`Could not read file: ${r}`);throw o.originalError=i,o.code="ENOENT",o}throw i}},async rename(r,i){try{let o=hc(e,t,r),s=hc(e,t,r);await n.rename(o,s)}catch(o){if((o==null?void 0:o.code)==="FileNotFound"){let s=new Error(`Could not rename  ${r} -> ${i}`);throw s.originalError=o,s.code="ENOENT",s}throw o}},async writeFile(r,i){await n.writeFile(hc(e,t,r),i)},async readDir(r){return(await n.readDirectory(hc(e,t,r))).map(o=>o[0])},async readDirWithTypes(r){return n.readDirectory(hc(e,t,r))},async mkdirp(r){await n.createDirectory(hc(e,t,r))},async toCommonURI(r){return hc(e,t,r)}}}function hc(e,t,n){let r=e==="win32"?"/"+n.replace(/\\/g,"/"):n;return t.with({path:r})}var iw=class{async readDocument(t){try{let n=await Ui.workspace.fs.readFile(t);return Buffer.from(n).toString()}catch{return}}async applyEdits(t,n,r){let i=Mr(r,n);await Ui.workspace.fs.writeFile(t,Buffer.from(i))}};var Or="remote-containers.revealLogTerminal",Iq="remote-containers.revealPostCreateTerminal",lp="remote-containers.openDevContainerFile",sie="remote-containers.openRepositoryInVolume",yP="remote-containers.openRepositoryInUniqueVolume",aie="remote-containers.openRepositoryFromRemoteHubWithEditSession",cie="remote-containers.openRepositoryFromGitWithEditSession",uie="remote-containers.openPullRequestInVolume",dp=Z.Uri.parse("https://aka.ms/vscode-remote/containers/folder-setup"),pp=Z.Uri.parse("https://aka.ms/vscode-dev-containers"),eie=new Ww,kr={onRemoveOnShutdownChangedEmitter:eie,onRemoveOnShutdownChanged:eie.event,results:new Map},up,qi=e=>C_(e,Z.env.appRoot);function xP(e,t,n,r,i){return async(o,s)=>{if(Z.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0),s.resolveAttempt>1){let a=n.get(o);if(!a)throw new Error("Reconnect attempt without old result.");let u=`Reconnection attempt ${s.resolveAttempt-1}`,c=e.log.start(u),{cliHost:l}=a.params;if(l.reconnect)try{await l.reconnect()}catch(d){throw e.log.write(Ze(String(d&&(d.stack||d.message)||d))),Z.RemoteAuthorityResolverError.TemporarilyNotAvailable("Cannot reconnect to remote host.")}if(a.dockerContainerId){let d=await Ei(a.dockerParams,a.dockerContainerId);if(!d)throw Z.RemoteAuthorityResolverError.NotAvailable("Container no longer exists.");if(d.State.Status==="paused")throw Z.RemoteAuthorityResolverError.TemporarilyNotAvailable("Container is paused.");if(d.State.Status!=="running")throw Z.RemoteAuthorityResolverError.NotAvailable("Container is no longer running.")}return e.log.stop(u,c),{...a.resolvedAuthority,isTrusted:a.isTrusted}}else{let a="Resolving Remote",u=e.log.start(a),c=await i(o,e,t);return Zke(c.params,c.properties).catch(l=>{}),n.set(o,c),r(),e.log.stop(a,u),Z.window.withProgress({location:Z.ProgressLocation.Window,title:xOe,cancellable:!1},async l=>{await zW(c.params.backgroundTasks)}).then(void 0,l=>{e.log.write(Ze(String(l&&(l.stack||l.message)||l)))}),{...c.resolvedAuthority,...c.tunnelInformation,isTrusted:c.isTrusted}}}}async function Zke(e,t){if(!t.nodeExecutable)return;let n=await nt(Jh.join(e.extensionPath,"dist","node","remoteCloudGuesser.js"),{encoding:"utf8"}),{stdout:r}=await Sa(e,t,[t.nodeExecutable,"-e",n],void 0,{silent:!0}),i=r.toString().trim();e.sendTelemetryEvent("extraInfo",{remoteCloud:i})}var Eq;async function eOe(e){return Eq||(Eq=Ls(Jh.join(__dirname,"..",".."),gc,e)),Eq}var ow={};async function gc(e,t=!0){var n;if(e.counter&&((n=ow[e.prompt])==null?void 0:n.from)===e.counter&&delete ow[e.prompt],!ow[e.prompt]){if(!t)return"";ow[e.prompt]={result:Promise.resolve(Z.window.showInputBox({prompt:e.prompt||"Enter password",password:!0,ignoreFocusOut:!0}).then(r=>r||"")),from:e.counter}}return ow[e.prompt].result}async function tt(e,t,n,r=!0,i=eOe(t),o=!0){var g;let s=!n;if(s){if(kr.results.size){let v=[...kr.results.values()].filter(y=>y.dockerParams)[0];return Mz(v.dockerParams)}if(up)return up}n&&typeof n!="string"&&"scheme"in n&&(n.scheme==="file"?n=n.fsPath:n=mf(n));let a;if(!n){let v=(Z.workspace.workspaceFolders||[])[0];if(Z.env.remoteName==="wsl")v?n=mf(v.uri):n={wslDistro:w_(Z.env.remoteAuthority),wslPath:"/"};else if(Z.env.remoteName==="ssh-remote"){let y=tOe(Z.env.remoteAuthority);if(y){let{user:x,hostName:E,port:_}=y;a={host:`ssh://${x?`${x}@`:""}${E}${_?`:${_}`:""}`},v?n=v.uri.path:n="/"}}else Z.env.remoteName==="attached-container"?a=(g=Uf(Z.env.remoteAuthority))==null?void 0:g.settings:(v==null?void 0:v.uri.scheme)==="file"&&(n=v.uri.fsPath);n||(n=process.cwd())}let u=a&&"host"in a&&a.host||void 0,c=r?ua():{executeInWSL:"never",defaultDistro:void 0},l=wi(u,n,qi,c,e.extensionPath,await ro(),await iv(Z.env.appRoot),t,ys,{sshAskpassEnv:i,settings:Zh()});o&&!await Promise.race([l,to(1e3)])&&await Z.window.withProgress({location:Z.ProgressLocation.Notification,title:`[Setting up Dev Containers (show log)](command:${Or} "Show details in terminal")`,cancellable:!1},async()=>{await l});let d=await l,p=vs(),f=ca();if(!a){let v=Z.workspace.getConfiguration("docker"),y=v.get("environment")||{},x=y.DOCKER_CONTEXT||v.get("context")||d.env.DOCKER_CONTEXT;if(!x){let E={cliHost:d,dockerCLI:p,dockerComposeCLI:Ms({exec:d.exec,env:{},output:qe},p,f),dockerComposePath:f,env:{},output:qe};x=await kD(E)||"default"}x&&x!=="default"?a={context:x}:(a={...Ln(d.env),...["host","certPath","tlsVerify"].reduce((E,_)=>nOe(E,v,_),{}),...Ln(y)},Object.keys(a).length||(a=void 0))}let m={...await i,...Mf(d,a)},h={cliHost:d,dockerCLI:p,dockerComposeCLI:Ms({exec:d.exec,env:m,output:t},p,f),dockerComposePath:f,env:m,output:t};return s&&(up=h,Pq(e)),h}var vP;function Pq(e){if(vP)return vP;let t=oOe(e);return e.subscriptions.push(t),e.subscriptions.push(t.event(()=>{let n=up==null?void 0:up.cliHost;up=void 0,n!=null&&n.terminate&&n.terminate()})),vP=t.event,vP}function tOe(e){let t=/^ssh-remote\+(.*)$/.exec(e);if(!t)return;let n=t[1];try{let r=JSON.parse(Buffer.from(n,"hex").toString("utf8"));if(r&&r.hostName)return r}catch{}return{hostName:n}}function nOe(e,t,n){let r=t.get(n);return r&&(e[n]=r),e}var rOe=["docker.context","docker.host","docker.certPath","docker.tlsVerify","docker.environment"],iOe=["dockerComposePath","executeInWSL","executeInWSLDistro"];function oOe(e){let t=new Z.EventEmitter,n=Z.workspace.onDidChangeConfiguration(async u=>{(rOe.some(c=>u.affectsConfiguration(c))||iOe.some(c=>wq(u,c)))&&t.fire()}),r,i,o,s=()=>{(async()=>{i||(i=await wi(void 0,process.cwd(),qi,ua(),e.extensionPath,await ro(),void 0,qe,ys));let u={cliHost:i,dockerCLI:vs(),dockerComposeCLI:Ms({exec:i.exec,env:{},output:qe},vs(),ca()),dockerComposePath:ca(),env:{},output:qe},c=await kD(u);c===void 0?o=setTimeout(s,2*60*1e3):(c!==r&&(r!==void 0&&t.fire(),r=c),o=setTimeout(s,2*1e3))})().catch(console.error)};s();let a=t.dispose;return t.dispose=()=>{n.dispose(),o&&clearTimeout(o),a.call(t)},t}function fp(){let e=Z.workspace.workspaceFolders;if((e==null?void 0:e.length)===1){let t=e[0].uri;return Rq(t)}return null}function Rq(e){if(e&&e.scheme==="vscode-remote"&&/dev-container\+(.*)/.exec(e.authority)){let n=bi(e.authority);if(Nn(n))return null;if(wr(n)&&n.inspectVolume&&n.inspectVolume===!0)return n}return null}function wP(e){return{getConfigurationState:()=>e.get("configurationState"),updateConfigurationState:async t=>e.update("configurationState",t),containerOutdated:sOe}}async function sOe(e){let t="Rebuild",n="Ignore",r=await Z.window.showInformationMessage(`Configuration file(s) changed: ${e.join(", ")}. The container might need to be rebuilt to apply the changes.`,t,n);if(r===t)return Z.commands.executeCommand("remote-containers.rebuildContainer");if(r===n)return"ignore"}async function aOe(e){return e?tie():Array.from(new Set([...mr("defaultExtensions")||[],...tie()]))}function lie(){return mr("defaultFeatures")||{}}function tie(){let e=Z.env.language,t=e.indexOf("-"),n=nie(e)||(t!==-1?nie(e.substr(0,t)):void 0);return n?[n]:[]}function nie(e){let t=e.toLowerCase();return Z.extensions.all.filter(n=>{var i;let r=n.packageJSON&&n.packageJSON.contributes;return(i=r==null?void 0:r.localizations)!=null&&i.length?!!r.localizations.find(o=>{var s;return((s=o==null?void 0:o.languageId)==null?void 0:s.toLowerCase())===t}):!1}).map(n=>n.id)[0]}function rie(){return!!Z.workspace.getConfiguration().get("workbench.enableExperiments")}function cOe(){return!!mr("enableWebAccess")}function EP(){return mr("workspaceMountConsistency")||"cached"}function _P(){return!!mr("experimentalUpdateRemoteUserUIDOnMacOS")}function bP(){return mr("cacheVolume")??!0}function uOe(){let e=mr("copyGitConfig");return typeof e=="boolean"?e:!0}function lOe(){return mr("gitCredentialHelperConfigLocation")||"global"}function dOe(){let e=mr("dockerCredentialHelper");return typeof e=="boolean"?e:!0}function vs(){return mr("dockerPath")||"docker"}function ua(){return{executeInWSL:Aq(),defaultDistro:Dq()}}function Aq(){return process.platform!=="win32"?"never":mr("executeInWSL")?"always":"forWSLPath"}function Dq(){if(process.platform==="win32")return mr("executeInWSLDistro")||void 0}function ca(){return mr("dockerComposePath")||"docker-compose"}function aw(){let e=mr("logLevel")||"debug";return J$(e)}var pOe=e=>Z.workspace.onDidChangeConfiguration(t=>{wq(t,"logLevel")&&e(aw())});function fOe(){let e=Z.workspace.getConfiguration(),t=n=>(e.get(Uc(n),"")||e.get(n,"")).trim();return{repository:t("dotfiles.repository")||void 0,installCommand:t("dotfiles.installCommand")||void 0,targetPath:t("dotfiles.targetPath")||"~/dotfiles"}}function Zh(){let e=Z.workspace.getConfiguration();return{executablePath:e.get("remote.SSH.path"),configFilePath:e.get("remote.SSH.configFile")}}function vc(e,t,n,r,i,o,s,a){var d,p;let u={resolver:t,outcome:n};r&&(u.hostType=r.cliHost.type),i&&(u.configProperties=JSON.stringify(Object.keys(i)),u.configExtensions=JSON.stringify(((p=(d=i.customizations)==null?void 0:d.vscode)==null?void 0:p.extensions)||[]),u.configFeatures=JSON.stringify(Object.keys(i.features||{})),"image"in i?u.configType="image":ar(i)?u.configType="dockerfile":"dockerComposeFile"in i&&(u.configType="dockerCompose")),o&&(u.configLocation=o),s&&(u.hardwareId=s.osRelease.hardware,u.osReleaseId=s.osRelease.id,u.osReleaseVersion=s.osRelease.version);let c=a&&a.originalError,l=c&&(c.stack||c.message||String(c))||a&&a.description;l&&(u.errorMessage=l),e.sendTelemetryEvent("resolver",u)}var _q=class{constructor(t){this.onClose=t;this.writeEmitter=new Z.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.inputEmitter=new Z.EventEmitter;this.onDidInput=this.inputEmitter.event;this.queue=[];this.ready=!1}open(){this.ready=!0,this.queue.forEach(t=>this.writeEmitter.fire(t))}close(){this.ready=!1,this.onClose()}write(t){this.queue.push(t),this.ready&&this.writeEmitter.fire(t)}handleInput(t){this.inputEmitter.fire(t)}},sw=class{constructor(t,n,r=void 0){this.sessionStart=n;this.outputTerminal=new _q(()=>this._terminal=void 0);this.onDidInput=this.outputTerminal.onDidInput;this._name="Dev Containers";this._revealOnNextOutput=!1;let i=o=>{this.outputTerminal.write(o),this.revealOnNextOutput&&(this.revealOnNextOutput=!1,this.show())};this.logFilePath=t?Jh.join(t,`remoteContainers-${n.toISOString().replace(/:/g,"-")}.log`):void 0,this.log=mOe(i,aw,this.logFilePath,n,r),Object.defineProperty(this.log,"dimensions",{get:()=>{var o;return(o=this._terminal)==null?void 0:o.dimensions}}),this.log.onDidChangeDimensions=o=>Z.window.onDidChangeTerminalDimensions(s=>{s.terminal===this._terminal&&o(s.dimensions)})}get name(){return this._name}set name(t){this._name=t}get revealOnNextOutput(){return this._revealOnNextOutput}set revealOnNextOutput(t){this._revealOnNextOutput=t}show(){this._terminal||(this._terminal=Z.window.createTerminal({name:this.name,pty:this.outputTerminal})),this._terminal.show()}dispose(){this._terminal&&this._terminal.dispose()}get shown(){return!!this._terminal}};function mOe(e,t,n,r,i=void 0){let o=[];return n&&o.push(ej(n,()=>Math.min(2,t()))),o.push(tj(e,t,r)),Wi(Z$(o,i))}async function kq(e,t){let n=await Ei(e,t.Id);if(n&&n.State.Status==="running")try{await $e(e,"stop",n.Id)}catch(r){Z.window.showErrorMessage(`Error stopping container: ${r.message}`)}}async function CP(e,t){let n=await Ei(e,t.Id);if(n&&n.State.Status!=="running")try{await $e(e,"start",n.Id)}catch(r){Z.window.showErrorMessage(`Error starting container: ${r.message}`)}}async function die(e,t){try{await $e(e,"rm",t)}catch(n){Z.window.showErrorMessage(`Error removing container: ${n.message}`)}}async function Oq(e,t){try{await $e(e,"volume","rm","--force",t)}catch(n){Z.window.showErrorMessage(`Error removing volume: ${n.message}`)}}function hOe(){return Z.env.sessionId!=="someValue.sessionId"?Z.env.sessionId:`${Z.env.sessionId}_${Date.now()}`}function gOe(e,t){let n=Z.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:e.authority,formatting:{label:"${path}",separator:"/",workspaceSuffix:t,tildify:!0}});e.shutdowns.push(n.dispose.bind(n))}async function pie(e,t){if(e.globalState.get("removeOnStartup")===t)return await e.globalState.update("removeOnStartup",null),!0;let n=e.workspaceState.get("removeOnStartup",!1);return n&&await e.workspaceState.update("removeOnStartup",null),n}async function fie(e,t){await e.workspaceState.update("removeOnStartup",t)}async function Nq(e,t){await e.globalState.update("removeOnStartup",t)}async function mie(e,t){return e.globalState.get("buildNoCache")===t?(await e.globalState.update("buildNoCache",null),!0):!1}async function cw(e,t){await e.globalState.update("buildNoCache",t)}async function uw(e,t,n,r,i){await e.globalState.update("openEditorsOnStartup",{workspaceFolder:t,fileWithError:n==null?void 0:n.toString(),logFile:r,openLog:i})}async function hie(e){var n;let t=e.globalState.get("openEditorsOnStartup");if(t){await e.globalState.update("openEditorsOnStartup",void 0);let r=(n=Z.workspace.workspaceFolders)==null?void 0:n.some(o=>o.uri.fsPath===t.workspaceFolder||o.uri.path===t.workspaceFolder),i=await fp();if(r||i&&i.repositoryPath===t.workspaceFolder&&(r=!0),r){let o=t.fileWithError?ye.parse(t.fileWithError):void 0;if(t.openLog==="onTheSide"&&await iie(o),t.openLog&&t.logFile){let s={viewColumn:t.openLog==="onTheSide"?Z.ViewColumn.Beside:Z.ViewColumn.One,preserveFocus:!0},a=await Z.window.showTextDocument(Z.Uri.file(t.logFile),s),u=new Z.Position(a.document.lineCount-1,0);a.selection=new Z.Selection(u,u),a.revealRange(a.selection)}return t.openLog!=="onTheSide"&&await iie(o),!0}}return!1}function gie(e){return[`vscode-remote:/workspaces/${e}/.devcontainer/devcontainer.json`,`vscode-remote:/workspaces/${e}/.devcontainer.json`]}async function iie(e){return e?Z.commands.executeCommand("vscode.open",Z.Uri.parse(e.toString()),{viewColumn:Z.ViewColumn.One}):Z.commands.executeCommand("remote-containers.openDevContainerFile",void 0,{viewColumn:Z.ViewColumn.One})}async function Lq(){return kr.results.size?[...kr.results.values()].filter(e=>e.config).map(e=>e.config.configFilePath):Z.workspace.findFiles(gP)}function tl(){return mr("repositoryConfigurationPaths")||[]}async function vOe(e,t,n="localhost"){await Z.workspace.openTunnel({remoteAddress:{host:n,port:t}})}function vie(e,t){let n=new sw(void 0,t);n.name="Configuring...",n.revealOnNextOutput=!0;let r=!1;n.onDidInput(()=>{r&&(r=!1,n.dispose())});let i,o={enabled:!0,skipNonBlocking:!1,output:nW(n.log,"postCreate",e),onDidInput:n.onDidInput,done:()=>{n.shown&&(n.log.raw("\x1B[1mDone. Press any key to close the terminal.\x1B[0m"),r=!0),i()},promise:new Promise(s=>i=s)};return{channel:n,postCreate:o}}async function eg(e){let{authority:t,extensionContext:n,sessionStart:r,progress:i,cliHost:o,env:s,cwd:a,wslSettings:u,isLocalContainer:c,telemetry:l,output:d,logFilePath:p,allowSystemConfigChange:f,postCreate:m}=e,h=cOe(),g=hOe(),v=await ro(),y;if(o.type!=="wsl"&&process.platform==="win32")try{y=await E_(void 0,u,n.extensionPath,v,l.product,qi,d,ys)}catch(E){d.write("Could not connect to WSL."),d.write((E==null?void 0:E.message)||String(E)),E!=null&&E.stdout&&d.write(E.stdout.toString()),E!=null&&E.stderr&&d.write(E.stderr.toString())}let x={computeExtensionHostEnv:!0,...l,appRoot:Z.env.appRoot,localCacheFolder:v,containerSessionDataFolder:Jh.posix.join("/tmp",`devcontainers-${g}`),extensionPath:n.extensionPath,webConnectionToken:void 0,sessionId:g,sessionStart:r,authority:t,cliHost:o,env:s,cwd:a,isLocalContainer:c,getAdditionalExtensionsToInstall:aOe,additionalFeaturesToInstall:lie(),isCopyGitConfigEnabled:uOe(),credentialHelperConfigLocation:lOe(),isDockerCredentialHelperEnabled:dOe(),dotfilesConfiguration:fOe(),progress:_Oe(i),output:d,logFilePath:p,allowSystemConfigChange:f,defaultUserEnvProbe:"loginInteractiveShell",postCreate:m,getTelemetryLevel:()=>l.getTelemetryLevel(),forwardServerPort:!0,web:h,getLogLevel:aw,onDidChangeLogLevel:pOe,loadNativeModule:qi,shutdowns:[],forwardedPorts:new Set,backgroundTasks:[],setWorkspaceName:E=>gOe(x,E),openTunnel:vOe,getTunnels:()=>Promise.resolve(Z.workspace.tunnels),onAdoptProcess:Z.window.onDidOpenTerminal,persistedFolder:await Uz(o,n.globalStoragePath),alternateDownload:ys,skipPostAttach:!1,wslCLIHost:y,localWaylandSocket:c?await yOe(o,y,d):void 0};return x}async function yOe(e,t,n){let r=await RA(e);if(r)return r;let i=t&&await RA(t);if(i)return W3(t,i,n)}async function ys(e,t){let n=await Z.commands.executeCommand("_workbench.downloadResource",Z.Uri.parse(e));if(!n)throw new ve({description:"Downloading the VS Code Server failed. Please try again later."});await fa(n.fsPath,t)}var tg=`[Starting Dev Container (show log)](command:${Or} "Show details in terminal")`,xOe=`[Configuring Dev Container (show log)](command:${Iq} "Show details in terminal")`,wOe=`[Reading Dev Container Configuration (show log)](command:${Or} "Show details in terminal")`,EOe={[0]:"",[1]:"Cloning Repository",[2]:"Building image",[3]:"Starting container",[4]:"Installing server",[5]:"Starting server",[6]:""};function _Oe(e){let t=0;return n=>{let r=6-n,i=(100-t)/(r+1);e.report({message:EOe[n],increment:i}),t+=i}}function yie(e,t,n){let{name:r,publisher:i,version:o,aiKey:s}=t;if(!s)return z$(t,n);let a=i?`${i}.${r}`:r,u=new oie.default(s);e.subscriptions.push(u);let c=new bq(u),l=bOe(n),d=rie()?(0,el.getExperimentationService)(a,o,l,c,e.globalState):void 0;return{sendTelemetryEvent:c.sendTelemetryEvent.bind(c),isCachedFlightEnabled:async p=>d&&rie()?d.isCachedFlightEnabled(p):!1,product:n,package:t,getTelemetryLevel:()=>u.telemetryLevel}}var bq=class{constructor(t){this.baseReporter=t;this.sharedProperties={}}sendTelemetryEvent(t,n,r){this.baseReporter.sendTelemetryEvent(t,{...this.sharedProperties,...n},r)}setSharedProperty(t,n){this.sharedProperties[t]=n}postEvent(t,n){let r={};for(let[i,o]of n)r[i]=o;this.sendTelemetryEvent(t,r)}};function bOe(e){switch(e.quality){case"stable":return el.TargetPopulation.Public;case"insider":return el.TargetPopulation.Insiders;case"exploration":return el.TargetPopulation.Internal;case void 0:return el.TargetPopulation.Team;default:return el.TargetPopulation.Public}}var lw="Opening a folder in a Dev Container may execute arbitrary code both inside and outside the container.",Cq="userConfirmedCloneRepositoryInDevContainerRequiresTrust";async function dw(e,t){if(t!=null&&t.toLowerCase().startsWith("https://github.com/microsoft/vscode-remote-try-")||e.globalState.get(Cq))return!0;let n="Got It",r="Learn More",i=await Z.window.showWarningMessage("Cloning a repository in a Dev Container may execute arbitrary code. ",{modal:!0,detail:"Only clone a repository in a Dev Container if you trust its authors."},n,r);return i===n?(await e.globalState.update(Cq,!0),!0):(i===r&&Z.env.openExternal(Z.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}var Sq="userConfirmedAttachToContainerRequiresTrust";async function nl(e){if(e.globalState.get(Sq))return!0;let t="Got It",n="Learn More",r=await Z.window.showWarningMessage("Attaching to a container may execute arbitrary code.",{modal:!0,detail:"Only attach to a container if you trust its origin."},t,n);return r===t?(await e.globalState.update(Sq,!0),!0):(r===n&&Z.env.openExternal(Z.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}function xie(e){e.globalState.setKeysForSync([Cq,Sq,Tq])}function wie(){let e=process.env.PATH||"";process.platform==="darwin"&&!/(^|:)\/usr\/local\/bin(:|$)/i.test(e)&&(process.env.PATH=`${e}:/usr/local/bin`)}var Tq="updatedToPreRelease2",COe="2022-01-19T05:14:31.474Z";async function Eie(e,t){try{t.quality==="insider"&&t.date&&t.date.localeCompare(COe)>=0&&!e.globalState.get(Tq,!1)&&(await e.globalState.update(Tq,!0),await Z.commands.executeCommand("workbench.extensions.installExtension","ms-vscode-remote.remote-containers",{installPreReleaseVersion:!0}))}catch(n){console.error(n)}}async function pw(e,t,n,r,i=!1){try{return Rv(e,t,n,aw(),void 0,void 0,r,i)}catch{return}}async function Fq(e,t,n,r,i=!1){let o=(async()=>{try{return Kc(e,t,n,aw(),lie(),void 0,void 0,r,i)}catch{return}})(),s=await Promise.race([o,new Promise(a=>setTimeout(()=>a("timeout"),1e3))]);return s!=="timeout"?s:Z.window.withProgress({location:Z.ProgressLocation.Notification,title:wOe,cancellable:!0},async(a,u)=>Promise.race([o,new Promise(c=>{let l=u.onCancellationRequested(()=>{l.dispose(),c("canceled")})})]))}async function mp(e){return Z.commands.executeCommand("_workbench.addToRecentlyOpened",e)}var Hi=V(require("vscode")),da=V(require("path"));var ce=V(require("vscode"));var Pse=V(mse());var $P=V(require("path"));var hse=V(kp()),gse=V(require("url"));function vse(e,t){return new Promise((n,r)=>{let i=new gse.URL(e.url),o={hostname:i.hostname,port:i.port,path:i.pathname+i.search,method:e.type,headers:e.headers},s=hse.https.request(o,a=>{if(a.statusCode<200||a.statusCode>299)r(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`)),t&&t.write(`HTTP request failed with status code ${a.statusCode}: : ${a.statusMessage}`,5);else{a.on("error",r);let u=[];a.on("data",c=>u.push(c)),a.on("end",()=>n(Buffer.concat(u)))}});s.on("error",r),e.data&&s.write(e.data),s.end()})}async function il(e){let r=await vse({type:"GET",url:"https://containers.dev/static/devcontainer-index.json",headers:{"user-agent":"devcontainers-vscode",Accept:"application/json"}},e),i=Je(r.toString());if(i.collections.length===0||i.collections[0].features.length===0){e.write("No container features retrieved from index.",5);return}return i}var _n=V(require("vscode")),Zq=V(require("os"));var Sw=V(require("path"));var qn=V(require("vscode"));var yse="Keep Defaults",fFe="Configure Options",bw={iconPath:new qn.ThemeIcon("check-all"),tooltip:"Finish"};async function Cw(e,t,n,r=[],i=!0,o=!1){if(!t.length)return{};let s={iconPath:new qn.ThemeIcon("info"),tooltip:"Open Documentation"},a=e.quickPick.onDidTriggerItemButton(h=>{let g=h.item.feature.documentationURL;qn.env.openExternal(qn.Uri.parse(g))}),u=t.map(h=>{let g=r.indexOf(h)!==-1,v;if(g)v="$(lock) Feature is included in base image and cannot be removed";else if(h.owner){let y=h.owner==="devcontainers"?"$(verified)":"";v=`${h.owner||"Unknown Publisher"} ${y}`}else v=void 0;return{label:h.name,detail:h.description,description:v,picked:n.indexOf(h)!==-1,buttons:h.documentationURL?[s]:void 0,feature:h,isAlreadyInstalledViaBaseImage:g,kind:qn.QuickPickItemKind.Default}}).sort((h,g)=>h.label.localeCompare(g.label)).sort((h,g)=>h.isAlreadyInstalledViaBaseImage===g.isAlreadyInstalledViaBaseImage?0:h.isAlreadyInstalledViaBaseImage?1:-1),c,l=e.quickPick,{matchOnDetail:d}=l;try{l.matchOnDetail=!0;let h=[];o&&h.push(qn.QuickInputButtons.Back),i&&h.push(bw),c=await ji(l,u,"Select additional features to install","Select Features",!0,h)}finally{l.matchOnDetail=d}if(a.dispose(),!c)return;if(c.button===qn.QuickInputButtons.Back)return"back";let p=c.pick.filter(h=>!h.isAlreadyInstalledViaBaseImage).map(h=>h.feature),f={};if(!p||!p.length)return f;for(let h of t){let g=p.indexOf(h)!==-1;f[h.id]=g?{}:!1}return c.button===bw||!i||await qn.window.showQuickPick([yse,fFe],{title:"Keep Feature defaults or configure options?",canPickMany:!1})===yse?f:mFe(e,f,p,()=>Cw(e,t,n,r))}async function mFe(e,t,n,r){return async function i(o,s,a){if(!s.length)return o;let u=s[0],c=o;if(!(u!=null&&u.options))return i(c,s.slice(1),a);let l,d;return l=await hFe(e,c,u),l&&(d=await gFe(e,l,u,a)),!l||!d?await a():i(d,s.slice(1),a)}(t,n,r)}async function hFe(e,t,n){let r=n==null?void 0:n.options;if(!r)return t;let o=Object.keys(r).filter(c=>{var l;return((l=r[c])==null?void 0:l.type)==="boolean"}).map(c=>{let l=r[c];return{label:c,description:l.description,key:c,value:!0,picked:!!(l!=null&&l.default)}});if(!o.length)return t;let s=n.id,a=n.name||s,u=await ji(e.quickPick,o,`Select boolean options for ${a}`,`Select boolean options for '${a}'`,!0,[qn.QuickInputButtons.Back,bw]);if(!(!u||u.button===qn.QuickInputButtons.Back))return u.pick.reduce((c,l)=>({...c,[s]:{...c==null?void 0:c[s],[l.key]:l.value}}),t)}async function gFe(e,t,n,r){let i=n==null?void 0:n.options;if(!i)return t;let o=n.id,s=n.name||o;return async function a(u,c,l){if(!c.length)return u;let d=c[0],p=i[d],f=("enum"in p&&p.enum||"proposals"in p&&p.proposals||[]).map(g=>({label:String(g),value:g,description:p.default===g?"(default)":void 0,picked:!1}));if(f.length===0)return a(u,c.slice(1),l);let m=f.length===1?{pick:f[0],button:"ok"}:await ji(e.quickPick,f,p.description||"Select a value",`Select options for '${s}'`,void 0,[qn.QuickInputButtons.Back,bw]);if(!m||m.button===qn.QuickInputButtons.Back)return;let h={...u,[o]:{...u==null?void 0:u[o],[d]:m.pick.value}};return m.button===bw?h:a(h,c.slice(1),l)}(t,Object.keys(i).filter(a=>{var u;return((u=i[a])==null?void 0:u.type)==="string"}),r)}var vFe=["png","md","json","txt","map"],yFe=["node_modules",".git","bin","out","dist",".vscode-test"],xFe=[{tag:"function.json",pattern:/^function\.json$/i},{tag:"package.json",pattern:/^package\.json$/i},{tag:"sln",pattern:/^.+\.sln$/i},{tag:"project.json",pattern:/^project\.json$/i},{tag:"csproj",pattern:/^.+\.csproj$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"amlignore",pattern:/^.+\.amlignore$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"environment.yml",pattern:/^environment\.yml$/i},{tag:"_config.yml",pattern:/^_config\.yml$/i},{tag:"_config.toml",pattern:/^_config\.toml$/i},{tag:"server.xml",pattern:/^server\.xml$/i},{tag:"web.xml",pattern:/^web\.xml$/i}],xse={"Node.js":["package.json"],".NET Core":["sln","project.json","csproj"],"Azure Functions":["function.json"],"Azure Machine Learning":["azureml","amlignore"],Anaconda:["environment.yml"],Jekyll:["_config.yml","_config.toml"],Tomcat:["server.xml","web.xml"],Dapr:[]},wse={"C#":["cs"],"C++":["cpp","cxx",".cc","c++"],"F#":["fs"],JavaScript:["js"],TypeScript:["ts"],Java:["java"],Elm:["elm"],Go:["go"],Python:["py","ipynb"],Ruby:["rb"],Perl:["pl"],PHP:["php"],R:["r"],PowerShell:["ps1"],Dart:["dart"],Rust:["rs"],Swift:["swift"],ReasonML:["re"],TerraForm:["tf"]},wFe=["ghcr.io/devcontainers/templates/docker-existing-docker-compose","ghcr.io/devcontainers/templates/docker-existing-dockerfile","ghcr.io/devcontainers/templates/codespaces-linux"];function Ese(e,t){let n=new Map;for(let r of t)if(r.platforms){if(wFe.indexOf(r.id)>-1)continue;let i=0,o=0,s=r.platforms;if(s[0]==="Any")i+=5;else for(let a of s)if(wse[a]){let u=wse[a];for(let c of u)e.fileTypes.get(c.toLowerCase())&&(i+=10),e.mostPopularFileType===c&&(i+=10)}else if(xse[a]){let u=xse[a],c=!1;for(let l of u)e.configFiles.get(l)&&(c=!0,o+=20);c||(o-=20)}n.set(r,i+(o<0?-4:o))}return n}async function _se(e,t){return EFe(e,t.rootFolderPath,yFe,vFe)}async function EFe(e,t,n,r){let i=new Map,o=new Map,s=500;function a(f,m,h,g){let v=[];(e.readDirWithTypes||e.readDir)(f).then(x=>{if(h.count>=s)return h.count+=x.length,h.maxReached=!0,g(v);let E=x.length;if(E===0)return g(v);let _=x;h.count+x.length>s&&(h.maxReached=!0,E=s-h.count,_=x.slice(0,E)),h.count+=x.length;for(let C of _){let P=Array.isArray(C)?C[0]:C;(Array.isArray(C)?Promise.resolve((C[1]&1)!==0):e.isFile(e.path.join(f,P))).then(b=>{b?(v.push(P),--E===0&&g(v)):m.indexOf(P)===-1?a(e.path.join(f,P),m,h,R=>{if(v=v.concat(R),--E===0)return g(v)}):--E===0&&g(v)},()=>{if(--E===0)return g(v)})}},()=>g(v))}let u=f=>{i.has(f)?i.set(f,i.get(f)+1):i.set(f,1)},c=f=>{for(let m of xFe)m.pattern.test(f)&&(o.has(m.tag)?o.set(m.tag,o.get(m.tag)+1):o.set(m.tag,1))},l=f=>{if(f.lastIndexOf(".")>=0){let m=f.split(".").pop();m&&!r.includes(m)&&u(m.toLowerCase())}c(f)},d=f=>[...f.entries()].reduce((m,h)=>h[1]>m[1]?h:m,["",0])[0],p={count:0,maxReached:!1};return new Promise((f,m)=>{a(t,n,p,async h=>{h.forEach(l),f({configFiles:o,fileTypes:i,fileCount:p.count,mostPopularFileType:d(i)})})})}var Jq=Sw.default.join(__dirname,"..",".."),bse=_n.env.appRoot,_Fe=e=>C_(e,bse);async function sg(e){let{fileHost:t,output:n}=e;n.write(" -- CREATEDEVCONTAINER v2");let r=await Ise();if(r){let i=we(r,t.platform),o=gt(t.path,i),s=await JE(t,o);if(s){let u="Continue";if(await _n.window.showInformationMessage(`The workspace could fail to open in a container: ${s}`,{modal:!0},u)!==u)return!1}let a=await n$(e,o);if(a){let u=await t.toCommonURI(a);u&&_n.window.showTextDocument(_n.Uri.parse(u.toString()))}return!!a}return!1}async function MP(e,t,n,r,i=(o,s)=>s){return _n.window.withProgress({location:_n.ProgressLocation.Notification,title:"Adding Dev Container Configuration Files...",cancellable:!1},async()=>t$(e,t,n,r,i))}async function t$(e,t,n,r,i=(o,s)=>s){let{output:o}=e,s=Sw.default.join(Zq.tmpdir(),`tmp-output-dir-${Date.now()}`),a=Sw.default.join(Zq.tmpdir(),`tmp-dir-${Date.now()}`);e.quickPick.busy=!0,e.quickPick.enabled=!1;let u={executeInWSL:"forWSLPath",defaultDistro:void 0},c=await ro(),l=process.cwd(),p={cliHost:await wi(void 0,l,_Fe,u,Jq,c,void 0,o,void 0,void 0),dockerPath:"",dockerComposePath:"",extensionPath:Jq,appRoot:bse,output:o,package:await jr(Jq)},f=await Ns(p,["templates","apply","--workspace-folder",s,"--template-id",r.id,"--template-args",r.options?JSON.stringify(r.options):"{}","--features",r.features?JSON.stringify(r.features):"[]","--tmp-dir",a]),m="Skip",h;for(let g of f.files){let v=t.path.join(n.configFolderPath,g);if(await t.isFile(v)){let E=await _n.window.showInformationMessage(`File '${g}' already exists, overwrite?`,{modal:!0},m,"Overwrite");if(!E)return;if(E===m)continue}await t.mkdirp(t.path.dirname(v));let y=await nt(Sw.default.join(s,g)),x=i(g,y);await t.writeFile(v,x),!h&&vv(t.path,g)&&(h=v)}return await Cc(s,{recursive:!0,force:!0}),await Cc(a,{recursive:!0,force:!0}),e.quickPick.busy=!1,e.quickPick.enabled=!0,h}async function n$(e,t,n){let{fileHost:r,telemetry:i}=e,o=await qP(r,t);if(o){la(await i,"exists");let u=we(o.uri,r.platform);if(!await _n.window.showWarningMessage(`Dev Container configuration '${r.path.relative(t.configFolderPath,u)}' file already exists.`,{modal:!0},"Continue")){let l=await r.toCommonURI(u);l&&_n.window.showTextDocument(_n.Uri.parse(l.toString()));return}}let s=await r$(e,n,!1),a=await Tw(s,r,t,i$);return s.quickPick.hide(),a}async function r$(e,t,n){let r=_n.window.createQuickPick();r.ignoreFocusOut=!0,t&&(r.title=t);let i=await il(e.output);return{...e,quickPick:r,replaceExistingConfig:!0,existingConfig:void 0,telemetry:await e.telemetry,index:i,skipOptions:n}}async function i$(e,t,n,r){if(!e.index)return;let o=await UP(e,t,n);if(!!o)return o==="back"?r?r():void 0:MP(e,t,n,o)}var Cse=["ghcr.io/devcontainers/templates/docker-existing-docker-compose","ghcr.io/devcontainers/templates/docker-existing-dockerfile"];async function UP(e,t,n){let{index:r,predefinedDefinitionsLearnMoreLink:i}=e,o=((r==null?void 0:r.collections.map(c=>c.templates).flat())||[]).filter(c=>!Cse.includes(c.id));if(!(o!=null&&o.length))return;let s=()=>UP(e,t,n),a=await bFe(e,t,n,o);if(!(a!=null&&a.length))return e$(e,[],o,s);let u=[{label:"Show All Definitions...",detail:"Show all available predefined container definitions.",alwaysShow:!0,type:"showAll"},...i?[o$]:[]];return e$(e,u,a,s)}async function bFe(e,t,n,r){r=r.filter(a=>a.owner==="devcontainers");let i=e.stats||t&&n&&(e.stats=await _se(t,n));if(!(i!=null&&i.mostPopularFileType.length))return;let o=Ese(i,r);return r.filter(a=>(o.get(a)||0)>0).sort(CFe.bind(null,o))}function CFe(e,t,n){let r=e.get(n)||0,i=e.get(t)||0;return r-i}async function e$(e,t,n,r){let{index:i,predefinedDefinitionsLearnMoreLink:o,telemetry:s}=e,a={iconPath:new _n.ThemeIcon("info"),tooltip:"Open Documentation"},u=e.quickPick.onDidTriggerItemButton(d=>{let p=d.item.template.documentationURL;_n.env.openExternal(_n.Uri.parse(p))}),c=n.map(d=>{let p;if(d.owner){let f=(d==null?void 0:d.owner)==="devcontainers"?"$(verified)":"";p=`${((d==null?void 0:d.owner)==="microsoft"&&d.id.includes("microsoft/vscode-dev-containers")?"community":d==null?void 0:d.owner)||"Unknown Publisher"} ${f}`}return{label:d.name,picked:n.indexOf(d)!==-1,detail:d==null?void 0:d.description,description:p,buttons:[a],template:d}}).sort((d,p)=>d.label.localeCompare(p.label)),l=await ji(e.quickPick,[...t,...c],"Select a container configuration template",void 0,void 0,!1);if(u.dispose(),!l){la(s,"canceled");return}if(l.type==="help"){la(s,"help"),_n.env.openExternal(o);return}if(l.type==="showAll"){let d=((i==null?void 0:i.collections.map(p=>p.templates).flat())||[]).filter(p=>!Cse.includes(p.id));return e$(e,[],d,r)}if(l.template)return ag(e,l.template,r)}async function ag(e,t,n){let r={id:`${t.id}:latest`,options:{},features:[],metadata:{template:t,features:[]}};if(e.skipOptions)return r;if(!t.options){let u=await Tse(e,r,n);return u?u==="back"?n():u:void 0}let i=t.options,o=[],s=[];for(let u in i){let c=i[u];c.name=u,c.type==="boolean"?o.push(c):c.type==="string"&&s.push(c)}let a=await SFe(e,s,r,async()=>"back",(u,c)=>Sse(e,o,t.name,u,c));if(a==="back")return n();if(!!a)return a}async function SFe(e,t,n,r,i){let o=t.map(s=>{let a=[];s.proposals&&s.proposals.length>0?a=s.proposals:s.enum&&s.enum.length>0&&(a=s.enum);let u=s.default,c=a.map(d=>({label:d,description:d===u?"(default)":void 0,value:d})),l=c.findIndex(d=>d.value===u);return l!==-1&&c.unshift(...c.splice(l,1)),{placeholder:s.description||s.name,name:s.name,default:s.default,items:c}});return async function s(a,u,c){if(!a.length)return i(u,c);let l=a[0],d=await ji(e.quickPick,l.items,l.placeholder,void 0,void 0,!0);if(!d)return;if(d==="back")return c();let p={...u.options};return p[l.name]=d.value,u.options={...p},s(a.slice(1),u,()=>s(a,u,c))}(o,n,r)}async function Sse(e,t,n,r,i){let o=r,s=t.map(c=>{let l=c.default==="true";return{label:c.description||c.name,picked:l,name:c.name,default:l}}),a=s.length?await ji(e.quickPick,s,`Select the options for the '${n}' dev container`,void 0,!0,!0):[];if(!a)return r;if(a==="back")return i();for(let c of s){let l=a.indexOf(c)!==-1,d={...r.options};d[c.name]=l.toString(),r.options={...d}}let u=await Tse(e,r,()=>t.length>0?Sse(e,t,n,o,i):i());if(!!u)return u==="back"?i():u}async function Tse(e,t,n){let{quickPick:r,telemetry:i,output:o,index:s}=e,a=s==null?void 0:s.collections.reduce((p,f)=>p.concat(f.features),[]).filter(p=>!p.deprecated);if(!(a!=null&&a.length))return t;let c=await Cw({quickPick:r,telemetry:i,output:o},a,[],[],!0,!0);if(!c)return;if(c==="back")return n();let l=[],d=[];for(let p in c)if(c[p]){let f=a.find(m=>m.id===p);if(f){d.push(f);let m=f.majorVersion||"latest",h={id:`${p}:${m}`,options:c[p]};l.push(h)}}return t.features=l,t.metadata.features=d,t}function Rse(e){return{provideCompletionItems(t,n,r){let i=H$(t.getText(),t.offsetAt(n)),o=t.getWordRangeAtPosition(n)||new ce.Range(n,n);if(i.path[0]==="extensions"||i.path[0]==="vscode"&&i.path[1]==="extensions"){let s=Je(t.getText());return s.configFilePath=t.uri,TFe(s,o)}if(i.path[0]==="features"){let s=Je(t.getText());s.configFilePath=t.uri;try{return IFe(e,s,i,o)}catch(a){console.error(a)}}return[]}}}function TFe(e,t){var r,i;let n=((e==null?void 0:e.extensions)||[]).concat(((i=(r=e==null?void 0:e.customizations)==null?void 0:r.vscode)==null?void 0:i.extensions)||[]);if(Array.isArray(n)){let o=ce.extensions.all.filter(s=>!(s.id.startsWith("vscode.")||s.id==="Microsoft.vscode-markdown"||n.indexOf(s.id)>-1));if(o.length)return o.map(s=>{let a=new ce.CompletionItem(s.id),u=`"${s.id}"`;return a.kind=ce.CompletionItemKind.Value,a.insertText=u,a.range=t,a.filterText=u,a})}}async function IFe(e,t,n,r){var o;let i=t&&t.features||{};if(typeof i=="object"){if(t.configFilePath.scheme==="vscode-remote"&&e.fileHost.type==="local"){t={...t,configFilePath:t.configFilePath.with({scheme:st.scheme,authority:""})};let u=ce.env.remoteName&&ce.env.remoteName!=="test"?"linux":process.platform,c=((o=(ce.workspace.workspaceFolders||[])[0])==null?void 0:o.uri)||ye.file(process.cwd());e={...e,fileHost:await Qh(u,c)}}let s=await il(e.output),a=(s==null?void 0:s.collections.map(u=>u.features).flat().filter(u=>!u.deprecated))||[];if(n.path.length===2)if(n.isAtPropertyKey){let u=a.filter(c=>!(c.id in i));if(u.length)return u.map(c=>{let l=new ce.CompletionItem(c.id),d=`"${c.id}": `;return l.kind=ce.CompletionItemKind.Property,l.insertText=d,l.range=r,l.filterText=d,l})}else{let u=n.path[1],c=a.find(l=>l.id===u);if(c){let l=qG(c),d=l&&(c.options||{})[l]||{type:"boolean",description:"Set to true to install."},p=(d.type==="string"?("enum"in d&&d.enum||"proposals"in d&&d.proposals||[""]).map(f=>`"${f}"`):["true","false"]).map(f=>({label:f,text:f}));return p.push({label:"{}",text:new ce.SnippetString(`{
	$1
}$0`)}),p.map(({label:f,text:m},h)=>{let g=new ce.CompletionItem(f);return g.kind=ce.CompletionItemKind.Value,g.insertText=m,g.range=r,g.sortText=`${h}_${f}`,g})}}else if(n.path.length===3){let u=n.path[1],c=a.find(l=>l.id===u);if(c){let l=c.options||{};if(n.isAtPropertyKey)return Object.keys(l).filter(d=>!(d in(i[u]||{}))).map(d=>{let p=new ce.CompletionItem(d),f=`"${d}": `;return p.kind=ce.CompletionItemKind.Property,p.insertText=f,p.range=r,p.filterText=f,p.detail=l[d].description,p});{let d=n.path[2],p=l[d];if(p)return(p.type==="string"?("enum"in p&&p.enum||"proposals"in p&&p.proposals||[""]).map(m=>`"${m}"`):["true","false"]).map((m,h)=>{let g=new ce.CompletionItem(m),v=m;return g.kind=ce.CompletionItemKind.Value,g.insertText=v,g.range=r,g.filterText=v,g.sortText=`${h}_${m}`,g})}}}}}async function Ase(e){let t=await a$(e);if((t==null?void 0:t.scheme)===st.scheme){let n=we(t,e.fileHost.platform);t=await e.fileHost.toCommonURI(n)}t&&await ce.window.showTextDocument(ce.Uri.parse(t.toString()))}async function a$(e){let t=await e.findDevContainerFiles();if(!t.length){let r="Add Files...";await ce.window.showInformationMessage("No container configuration file found.",{modal:!0},r)===r&&await sg(e)&&(t=await e.findDevContainerFiles())}let n=await cp(e.fileHost,t);return n!=="cancelled"?n:void 0}async function Dse(e,t){var r,i,o,s,a,u,c;let n=await a$(e);if(n){let l=On(e.fileHost);n.scheme==="file"&&!await bn(n.fsPath)?await no(Uo,n,[],Ia):n.scheme==="vscode-remote"&&(l=new iw);let d=await l.readDocument(n);if(d){let p=!/\.?devcontainer\.json/.test($P.default.posix.basename(n.path)),f=Je(d),m=!p&&(((i=(r=f.customizations)==null?void 0:r.vscode)==null?void 0:i.extensions)||!f.extensions),h=(m?(s=(o=f.customizations)==null?void 0:o.vscode)==null?void 0:s.extensions:f.extensions)||[],g=e.openConfigurationCommandId?`[Dev Container configuration](command:${e.openConfigurationCommandId})`:"Dev Container configuration";if((f.extensions||[]).concat(((u=(a=f.customizations)==null?void 0:a.vscode)==null?void 0:u.extensions)||[]).indexOf(t)===-1){h.push(t);let v;m?(c=f.customizations)!=null&&c.vscode?v=pn(d,["customizations","vscode","extensions"],h,{formattingOptions:{}}):f.customizations?v=pn(d,["customizations","vscode"],{extensions:h},{formattingOptions:{}}):v=pn(d,["customizations"],{vscode:{extensions:h}},{formattingOptions:{}}):v=pn(d,["extensions"],h,{formattingOptions:{}}),await l.applyEdits(n,v,d),await ce.window.showInformationMessage(`Extension has been added to the ${g}.`)}else await ce.window.showInformationMessage(`Extension is already included in the ${g}.`)}}}async function kse(e,t){let n=await ce.commands.executeCommand("remote.tunnel.label",t);if(n===void 0)return;let r=n.label,i=n.port,o=await a$(e);if(o){let s=On(e.fileHost);o.scheme==="file"&&!await bn(o.fsPath)?await no(Uo,o,[],Ia):o.scheme==="vscode-remote"&&(s=new iw);let a=await s.readDocument(o);if(a){let c=Je(a).portsAttributes??{},l=c[`${i}`]??{},d=e.openConfigurationCommandId?`[Dev Container configuration](command:${e.openConfigurationCommandId})`:"Dev Container configuration";if(c&&l&&l.label===r)await ce.window.showInformationMessage(`Port attributes are already included in the ${d}.`);else{l.label=r,c[`${i}`]=l;let p=pn(a,["portsAttributes"],c,{formattingOptions:{}});await s.applyEdits(o,p,a),await ce.window.showInformationMessage(`Port attributes have been added to the ${d}.`)}}}}function Ose(e,t,n){let r=ce.languages.createDiagnosticCollection("devcontainer"),i=ce.window.activeTextEditor;return i&&n.then(o=>{ce.window.activeTextEditor===i&&s$(ce.window.activeTextEditor.document,r,t.output,o)},o=>{t.output.write(`Error updating diagnostics: ${(o==null?void 0:o.stack)||(o==null?void 0:o.message)||String(o)}`)}),e.subscriptions.push(ce.workspace.onDidChangeTextDocument(async o=>{o&&s$(o.document,r,t.output,await n)})),e.subscriptions.push(ce.workspace.onDidOpenTextDocument(async o=>{o&&s$(o,r,t.output,await n)})),r.dispose}function Nse(e,t,n){let r=async(s,a,u)=>{let c=$P.default.basename(s.uri.fsPath);if(/\.?devcontainer\.json/.test(c)){let l=Cg(s.getText());if(!l)return;if((Sg(l)||{}).features){let p=s.getText(s.getWordRangeAtPosition(a,/"[^"]*"/)).replace(/"/g,""),f=RFe(p,t.output,await n);if(f)return{contents:[f],range:s.getWordRangeAtPosition(a,/"[^"]*"/)}}}},i=ce.languages.registerHoverProvider({pattern:"**/devcontainer.json"},{provideHover:r}),o=ce.languages.registerHoverProvider({pattern:"**/.devcontainer.json"},{provideHover:r});return e.subscriptions.push(i),e.subscriptions.push(o),[i,o]}function s$(e,t,n,r){let i=$P.default.basename(e.uri.fsPath);if(/\.?devcontainer\.json/.test(i)){let o=Cg(e.getText());if(!o)return;let s=Sg(o)||{},a=[...AFe(e,s,n,r),...DFe(o,e)];t.set(e.uri,a)}}function PFe(e,t,n){let r=new RegExp("^[a-zA-Z0-9_-]*$");if(!e)return{type:void 0,tooltip:"Empty feature id"};let i={};if(!e.includes("/")&&!e.includes("\\")&&r.test(e))return{...i,type:"local-cache",isLegacy:!0,level:ce.DiagnosticSeverity.Warning};if(e.startsWith("http://"))return{...i,type:void 0,tooltip:"Direct tarball references must be served over HTTPS.",level:ce.DiagnosticSeverity.Error};if(e.startsWith("https://"))try{return ce.Uri.parse(e,!0).scheme==="https"?{...i,type:"direct-tarball",level:void 0}:{...i,type:void 0,level:ce.DiagnosticSeverity.Error,tooltip:"Failed to parse scheme of URI"}}catch{return{...i,type:void 0,level:ce.DiagnosticSeverity.Error,tooltip:"Invalid URI"}}if(e.startsWith("/"))return{...i,type:void 0,tooltip:"Absolute file paths are not allowed.  Local file path must be indicated relative to the devcontainer.json.",level:ce.DiagnosticSeverity.Error};if(e.startsWith("./")||e.startsWith("../"))return{...i,type:"file-path"};if(e.split("/").length===3&&e.length>=5&&!e.includes("."))return new RegExp("^[a-zA-Z0-9_/@-]*$").test(e)?{...i,type:"github-repo",isLegacy:!0,level:ce.DiagnosticSeverity.Warning}:{...i,type:void 0,tooltip:"GitHub release feature id contains invalid characters",level:ce.DiagnosticSeverity.Error};let s=e.split("/");return e.includes(".")&&s.length>1&&s[1].length>=1?new RegExp("^[a-zA-Z0-9_/:.-]*$").test(e)?{...i,type:"oci"}:{...i,type:void 0,level:ce.DiagnosticSeverity.Error,tooltip:"OCI Feature id contains invalid characters"}:{...i,type:void 0,level:ce.DiagnosticSeverity.Error,tooltip:"Failed to parse feature identifier."}}function RFe(e,t,n){var o;if(!n){t.write("No index found.",5);return}let i=(n==null?void 0:n.collections.map(s=>s.features).flat()).find(s=>e.startsWith(s.id));if(i){let s=`${i.name}
`??"",a=i.description?`
${i.description}
`:"",u=i.documentationURL?`
${i.documentationURL}
`:"",c="";if(i.majorVersion){let l=e.split(":");if(l.length===2){let d=l[1];if(d&&d!=="latest")try{let p=(o=Pse.parse(d,{loose:!0}))==null?void 0:o.major,f=Number.parseInt(i.majorVersion),m=`
\u26A0\uFE0F New major version "${f}" published.
`;if(p&&p<f)c=m;else{let h=Number.parseInt(d);h!==void 0&&h<f&&(c=m)}}catch{}}}return new ce.MarkdownString(`${s}${a}${u}${c}`)}}function AFe(e,t,n,r){let i=t==null?void 0:t.features;if(!i)return[];let o=[];return Object.keys(i).forEach(s=>{let a=PFe(s,n,r);for(let u=0;u<e.lineCount;u++){let c=e.lineAt(u);if(c.text.includes(`"${s}"`)){let l=c.text.indexOf(s),d=l+s.length;if(a.hint){let f={message:a.hint,severity:ce.DiagnosticSeverity.Hint,range:new ce.Range(new ce.Position(u,l),new ce.Position(u,d))};o.push(f)}if(a.level!==void 0){let p=a.tooltip??"",f=a.level,m={message:p,severity:f,range:new ce.Range(new ce.Position(u,l),new ce.Position(u,d)),code:{target:ce.Uri.parse("https://containers.dev/implementors/features/#referencing-a-feature"),value:"referencing-a-feature"}};o.push(m)}break}}}),o}function DFe(e,t){return["extensions","settings","devPort"].filter(n=>_c(e,[n])&&_c(e,["vscode",n])).map(n=>{var s,a;let r=(((a=(s=_c(e,[n]))==null?void 0:s.parent)==null?void 0:a.children)||[])[0],i=t.positionAt(r.offset),o=t.positionAt(r.offset+r.length);return{message:`Legacy "${n}" property when "${n}" property under "vscode" is also present.`,range:new ce.Range(i,o),severity:ce.DiagnosticSeverity.Warning}})}var c$=V(require("vscode"));async function Lse(e,t){let n=await kFe(e);if(!n){e.output.write("Failed to find configuration.  Cannot configure container features.",5);return}await OFe(e,n,(t==null?void 0:t.preInstalledInBaseImageFeatureIds)||[])}async function kFe(e){let t=await e.findDevContainerFiles();if(t.length){let n=await cp(e.fileHost,t);if(!n||n==="cancelled")return;let r=n.scheme==="file"?Qh(process.platform,Vc(n)):e.fileHost,i=r.path.dirname(we(n,r.platform)),o=r.path.basename(i)===".devcontainer"?r.path.dirname(i):i,s=gt(r.path,o),a=await qP(r,s,n);if(a)return{fileHost:r,workspace:s,config:a}}else{let n="Add Files...";await c$.window.showInformationMessage("No container configuration file found.",{modal:!0},n)===n&&await sg(e)}}async function OFe(e,t,n){var f;let{fileHost:r,workspace:i,config:o}=t,s=c$.window.createQuickPick();s.ignoreFocusOut=!0;let a={workspace:i,quickPick:s,telemetry:await e.telemetry,output:e.output},u=await il(e.output);if(!u)return;let c=u.collections.reduce((m,h)=>m.concat(h.features),[]).filter(m=>!m.deprecated),l=c.filter(m=>n.includes(m.id)),d=[];if(o.object.features&&Object.entries(o.object.features).length>0){let m=Object.keys(o.object.features);d=c.filter(h=>m.some(g=>g.split(":")[0]===h.id))}let p=await Cw(a,c,d,l,!0,!1);if(!!p)try{if(p){let m=o.text,h=o.text;for(let g of c){let v=[],y=g.majorVersion?`${g.id}:${g.majorVersion}`:g.id,x=["features",y];if(!p[g.id]&&((f=o.object.features)==null?void 0:f[y]))v=v.concat(pn(h,x,void 0,{formattingOptions:{}}));else if(p[g.id]){let _=p[g.id];v=v.concat(pn(h,x,_,{formattingOptions:{}}))}v.length&&(h=Mr(h,v))}m!==h&&await On(r,r).applyEdits(o.uri,[{content:h,offset:0,length:o.text.length}],o.text)}}catch(m){e.output.write(`Error in selecting dev container features: ${m}`,5),console.log("Error in selecting dev container features: ",m)}finally{s.dispose()}}function Mse(e,t){let n=il(t.output);return Ose(e,t,n),Nse(e,t,n),{async openConfiguration(){return Ase(t)},async createConfiguration(r){return sg(t)},async addExtensionToConfiguration(r){return Dse(t,r)},async addPortLabelToConfiguration(r){return kse(t,r)},async configureContainerFeatures(r){return Lse(t,r)},createCompletionItemProvider(){return Rse(t)}}}async function Ise(){let e=Hi.workspace.workspaceFile,t=Hi.workspace.workspaceFolders,n;if(e){if(e.scheme==="untitled"){await hP();return}n=e}else if(t&&t.length)if(t.length>1){let r=await Hi.window.showWorkspaceFolderPick({placeHolder:"Select a folder to create a container configuration for"});r&&(n=r.uri)}else n=t[0].uri;return n}function ji(e,t,n,r,i,o,s){if(e.value="",e.title=r||e.title||"Add Dev Container Configuration Files",e.placeholder=n,e.canSelectMany=!!i,Array.isArray(t))if(e.items=t,i)e.selectedItems=t.filter(p=>p.picked);else{let p=t.find(f=>f.picked);p&&(e.activeItems=[p])}e.buttons=o?Array.isArray(o)?o:[Hi.QuickInputButtons.Back]:[];let a=[],u=e.items,c=u.filter(p=>p.isAlreadyInstalledViaBaseImage===!0),l={kind:Hi.QuickPickItemKind.Separator,label:"pre-installed features"};c.length&&(e.items=e.items.slice(0,u.length-c.length).concat(l).concat(e.items.slice(u.length-c.length)));let d=new Promise((p,f)=>{if(Array.isArray(t)||(e.busy=!0,t.then(m=>{if(e.busy=!1,e.items=m,i)e.selectedItems=m.filter(h=>h.picked);else{let h=m.find(g=>g.picked);h&&(e.activeItems=[h])}},m=>{e.busy=!1,f(m)})),a.push(e.onDidAccept(()=>{let m=i?e.selectedItems.slice():e.selectedItems[0];p(Array.isArray(o)?{pick:m,button:"ok"}:m),a.forEach(h=>h.dispose())})),a.push(e.onDidChangeSelection(m=>{if(!i)return;let h=c.filter(g=>!e.selectedItems.includes(g));h.length&&(e.selectedItems=e.selectedItems.concat(h))})),e.buttons.length&&a.push(e.onDidTriggerButton(m=>{let h=i?e.selectedItems.slice():e.activeItems[0];p(o===!0?"back":{pick:h,button:m}),a.forEach(g=>g.dispose())})),a.push(e.onDidHide(()=>{a.forEach(m=>m.dispose()),e.dispose(),p(void 0)})),s){let m;a.push(e.onDidChangeValue(h=>{let g=h.trim().toLowerCase(),v=!g||e.items.find(y=>y.label.toLowerCase()===g);if(v&&m)e.items=e.items.filter(y=>y!==m),m=void 0;else if(!v){let y=e.items.filter(x=>x!==m);y.push(m={label:`Other: ${h}`,value:h}),e.items=y}}))}});return e.show(),d}var o$={label:"Learn More",description:"Documentation on predefined container definitions",alwaysShow:!0,type:"help"};async function jP(e,t,n){return n$(e,t,n)}async function Tw(e,t,n,r=i$){let{telemetry:i,existingFilesLearnMoreLink:o,index:s}=e,a=s==null?void 0:s.collections.find(y=>y.sourceInformation.ociReference==="ghcr.io/devcontainers/templates"),u=a==null?void 0:a.templates.find(y=>y.id==="ghcr.io/devcontainers/templates/docker-existing-docker-compose"),c=a==null?void 0:a.templates.find(y=>y.id==="ghcr.io/devcontainers/templates/docker-existing-dockerfile"),l=await t.readDir(n.rootFolderPath),d=u?l.filter(y=>/docker.*compose/i.test(y)).map(y=>t.path.join(n.rootFolderPath,y)):[],p=c?l.filter(y=>/dockerfile/i.test(y)).map(y=>t.path.join(n.rootFolderPath,y)):[],f=p.map(y=>{let x=t.path.basename(y);return{label:`From '${x}'`,description:Fse(t,y),dockerfile:x,dockerfilePath:y,detail:`Refer to the existing '${x}' in the container configuration`,type:"dockerfile"}}),m=d.map(y=>{let x=t.path.basename(y);return{label:`From '${x}'`,description:Fse(t,y),dockerComposeFile:x,dockerComposePath:y,detail:`Refer to the existing '${x}' in the container configuration`,type:"dockerComposeFile"}});if(!(p.length>0||d.length>0))return r(e,t,n,void 0);let g={label:"From a predefined container configuration definition...",detail:"Use a base configuration from the container definition registry",alwaysShow:!0,type:"predefined"},v=await ji(e.quickPick,[g,...f,...m,...o?[o$]:[]],"How would you like to create your container configuration?");if(!v){la(i,"canceled");return}if(v.type==="help"){la(i,"help"),Hi.env.openExternal(o);return}if(v.type==="predefined")return r(e,t,n,()=>Tw(e,t,n));if(v.type==="dockerComposeFile")return LFe(e,t,n,v.dockerComposePath,u,()=>Tw(e,t,n));if(v.type==="dockerfile")return NFe(e,t,n,v.dockerfilePath,c,()=>Tw(e,t,n))}function Fse(e,t){let n=Hi.workspace.workspaceFolders||[];if(n.length<2)return;let r=n.find(i=>e.platform==="win32"?t.toLowerCase().startsWith(i.uri.fsPath.toLowerCase()):t.startsWith(i.uri.fsPath));return r&&r.name}async function NFe(e,t,n,r,i,o){let{telemetry:s}=e,a=await ag(e,i,async()=>{});if(!a){la(s,"canceled");return}if(a==="back")return o();let u=await MP(e,t,n,a,(c,l)=>{if(!vv(t.path,c))return l;let d=t.path.sep!==da.sep?c.replace(da.sep===da.win32.sep?/\\/g:/\//g,t.path.sep):c,p=t.path.resolve(n.configFolderPath,d),f=t.path.relative(t.path.dirname(p),r),m=t.platform==="win32"?f.replace(/\\/g,"/"):f,h=l.toString(),g="dockerFile"in Je(h)?["dockerFile"]:["build","dockerfile"],v=pn(h,g,m,{formattingOptions:{}}),y=Mr(h,v);return Buffer.from(y)});return u&&la(s,"dockerFile"),u}async function LFe(e,t,n,r,i,o){let{telemetry:s}=e,a=(await t.readFile(r)).toString(),u=hv(a);if(!u){await Hi.window.showErrorMessage(`Invalid docker-compose file "${r}"`,{modal:!0});return}let c=u.version,l=Object.keys(u&&u.services||{}),d=l.length<2?l[0]||"":await ji(e.quickPick,l.map(h=>({label:h,type:"service"})),"Select a service",void 0,void 0,!0);if(d==="back")return o();if(d===void 0){la(s,"canceled");return}let p=typeof d=="string"?d:d.label,f=await ag(e,i,async()=>{});if(!f)return;if(f==="back")return o();let m=await MP(e,t,n,f,(h,g)=>{if(vv(t.path,h)){let v=t.path.sep!==da.sep?h.replace(da.sep===da.win32.sep?/\\/g:/\//g,t.path.sep):h,y=t.path.resolve(n.configFolderPath,v),x=t.path.relative(t.path.dirname(y),r),E=t.platform==="win32"?x.replace(/\\/g,"/"):x,_=g.toString(),C=Je(_).dockerComposeFile,P=Array.isArray(C)?C.slice(1):[],T=[E,...P],b=pn(_,["dockerComposeFile"],T,{formattingOptions:{}}),R=Mr(_,b),D=pn(R,["service"],p,{formattingOptions:{}}),I=Mr(R,D);return Buffer.from(I)}if(/compose.*\.ya?ml$/.test(da.posix.basename(h))){let v=g.toString(),y=hv(v);y.version&&c&&y.version!==c&&(v=v.replace(new RegExp(`^(version:.*)(${y.version.replace(/\./g,"\\.")})`,"m"),`$1${c}`));let x=Object.keys(y&&y.services||{});return x.length&&(v=v.replace(new RegExp(`\\b${x[0]}\\b`),p)),Buffer.from(v)}return g});return m&&la(s,"dockerComposeFile"),m}function la(e,t,n){let r={outcome:t};n&&(r.definitionName=n),e.sendTelemetryEvent("createConfiguration",r)}async function qP(e,t,n){if(n||(n=await z_(e,t.configFolderPath)),!n)return;let r=await On(e,e).readDocument(n);if(!r)return;let i=Je(r);return{uri:n,text:r,object:i}}async function Use(e,t,n,r,i,o){let s=bi(n);if(Nn(s)&&!await Ue.workspace.requestWorkspaceTrust({message:lw}))return yr(s.hostPath)?(await Ue.window.showInformationMessage("The WSL folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen in WSL."}),await Ue.commands.executeCommand("remote-containers.reopenInWSL")):(await Ue.window.showInformationMessage("The local folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen locally."}),await Ue.commands.executeCommand("remote-containers.reopenLocally")),new Promise(()=>{});let a=wr(s);if(a&&!await dw(e,s.repositoryPath))return await Ue.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{});let u=Aa(s);return{...await FFe(s,e,i,o,t,n,r),isTrusted:a||u||void 0}}async function FFe(e,t,n,r,i,o,s){let{log:a,logFilePath:u}=n,c="hostPath"in e&&yr(e.hostPath)&&!!Ue.extensions.getExtension("ms-vscode-remote.remote-wsl");c&&Ue.commands.executeCommand("setContext","canReopenInWSL",!0);let l=e.settings,d="localDocker"in e&&e.localDocker,p=!!(l&&"host"in l&&l.host&&l.host.startsWith("ssh://")&&!d)&&(!!Ue.extensions.getExtension("ms-vscode-remote.remote-ssh")||!!Ue.extensions.getExtension("ms-vscode-remote.remote-ssh-nightly"));p&&Ue.commands.executeCommand("setContext","canReopenInSSH",!0);let f=!(l&&"host"in l&&l.host&&l.host.startsWith("ssh://")&&!d);f&&Ue.commands.executeCommand("setContext","canReopenLocally",!0);let m;return Ue.window.withProgress({location:Ue.ProgressLocation.Notification,title:tg,cancellable:!1},async h=>{let g=ua(),v=Ls(t.extensionPath,gc,a),{cliHost:y,originalCwd:x}=await MFe(e,g,t.extensionPath,await ro(),v,i.product,a),E={...await v,...Mf(y,e.settings)},_={...y.env,...E},C=await eg({authority:o,extensionContext:t,sessionStart:n.sessionStart,progress:h,cliHost:y,env:_,cwd:y.cwd,wslSettings:g,isLocalContainer:xb(E),telemetry:i,output:a,logFilePath:u,allowSystemConfigChange:!0,postCreate:r}),P={async createConfiguration(T,b){return jP({fileHost:b,telemetry:i,output:a,existingFilesLearnMoreLink:dp,predefinedDefinitionsLearnMoreLink:pp,openConfigurationCommandId:lp},gt(Iw.posix,T))},async showError(T,...b){return await Ue.window.showErrorMessage(T,{modal:!0},...b)}};return m={common:C,parsedAuthority:e,dockerCLI:vs(),dockerComposePath:ca(),dockerComposeCLI:Ms({exec:C.cliHost.exec,env:{...E,...on(E)},output:C.output},vs(),ca()),dockerEnv:E,workspaceMountConsistencyDefault:EP(),updateRemoteUserUIDOnMacOS:_P(),cacheMount:bP()?"volume":"none",configurationTracking:wP(t.workspaceState),removeOnStartup:await pie(t,o),buildNoCache:await mie(t,o),onRemoveOnShutdownChanged:s,userRepositoryConfigurationPaths:tl(),originalCwd:x,configProvider:P,development:t.extensionMode===Ue.ExtensionMode.Development,watch:async(T,b)=>{let R=Ue.workspace.createFileSystemWatcher(new Ue.RelativePattern(T,"*"));return R.onDidChange(b),R.onDidCreate(b),R.onDidDelete(b),R}},await wb(m),cz(m)}).then(h=>(s(async g=>{await fie(t,g&&h.dockerContainerId||!1),await cw(t,g==="rebuildNoCache"?o:!1)}),vc(i,u$(e),"success",m==null?void 0:m.common,h.config,h.configLocation,h.properties),h),h=>{var P;let g=h instanceof ve?h:new ve({description:"An error occurred setting up the container.",originalError:h});wr(e)&&(g.volumeName=e.volumeName,g.volumeName===_i&&(g.volumeName=oo(e.repositoryPath).uniqueVolumeName),g.repositoryPath=e.repositoryPath,g.folderPath=e.folder),vc(i,u$(e),"failure",m==null?void 0:m.common,g.config,void 0,g.containerProperties,g);let v="onTheSide",y=(P=g.data)==null?void 0:P.fileWithError;!y&&(m==null?void 0:m.parsedAuthority)&&Nn(m.parsedAuthority)&&m.parsedAuthority.configFile&&(y=we(m.parsedAuthority.configFile,m.common.cliHost.platform));let x=y&&(m==null?void 0:m.common.cliHost.path.basename(y))||"devcontainer.json",E=Nn(e)?[{id:"openFileWithErrorLocally",title:`Edit ${x} Locally`,isLastAction:!0,applicable:async(T,b)=>f&&!(b&&c),async execute(){let T=m==null?void 0:m.common.cliHost,b=y?T.type==="wsl"?await T.toCommonURI(y):ye.file(y):void 0;await uw(t,e.hostPath,b,u,v);let R=Ue.Uri.file(e.hostPath);await Ue.commands.executeCommand("vscode.openFolder",R)}},{id:"openFileWithErrorinWSL",title:`Edit ${x} in WSL`,isLastAction:!0,applicable:async()=>c,async execute(){let T=Ue.Uri.parse((await ff(e.hostPath,a)).toString());await uw(t,T.path,y?T.with({path:y}):void 0,u,v),await Ue.commands.executeCommand("vscode.openFolder",T)}},{id:"openFileWithErrorinSSH",title:`Edit ${x} in SSH`,isLastAction:!0,applicable:async()=>p,async execute(){let T=e.settings,b=Ue.Uri.parse(av(T.host,e.hostPath).toString());await uw(t,b.path,y?b.with({path:y}):void 0,u,v),await Ue.commands.executeCommand("vscode.openFolder",b)}}]:[],_=wr(e)?e.inspectVolume?[Qc]:[{id:"reopenInRecoveryContainer",title:`Edit ${x} in Recovery Container`,isLastAction:!0,applicable:(T,b)=>!0,execute:async T=>{await uw(t,e.repositoryPath,y?ye.file(y).with({scheme:"vscode-remote"}):void 0,u,v),await Ue.commands.executeCommand("remote-containers.inspectVolume",T.volumeName,T.repositoryPath,T.folderPath)}},Qc,{id:"openRepository",title:"Open Repository",isLastAction:!1,applicable:(T,b)=>!b,async execute(){Ue.env.openExternal(Ue.Uri.parse(e.repositoryPath))}}]:[],C=Dv(e)?[Qc]:[];return g.actions=[...$f,Nl,$z,...E,..._,...C,qf,Ol],UFe(g),Jc(g,u$(e),i,!0,n)})}async function MFe(e,t,n,r,i,o,s){let{settings:a}=e,u=a&&"host"in a&&a.host||void 0;if(Nn(e)){let c=gt(Iw,e.hostPath),l=c.rootFolderPath,d=await wi(u,c.rootFolderPath,qi,t,n,r,o,s,ys,{sshAskpassEnv:i,settings:Zh(),localDocker:e.localDocker});return d.cwd!==c.rootFolderPath&&(c=gt(d.path,c.isWorkspaceFile?d.path.join(d.cwd,Iw.basename(e.hostPath)):d.cwd)),s.write(`Setting up container for folder or workspace: ${c.workspaceOrFolderPath}\r
`),yb(s,e.settings),e.localDocker&&s.write(`Local Docker: ${e.localDocker}\r
`),{cliHost:d,originalCwd:l}}else{let c=await wi(u,void 0,qi,t,n,r,o,s,ys,{sshAskpassEnv:i,settings:Zh()});return{cliHost:c,originalCwd:await c.homedir()}}}function u$(e){return Nn(e)?"config":wr(e)?e.inspectVolume?"volume":"repository":"volume"}function UFe(e){let t=(e.originalError&&(e.originalError.cmdOutput||e.originalError.message)||"").toLowerCase();t&&t.indexOf("drive has not been shared")!==-1?e.description="The drive of the workspace folder is not shared. Share it in the Docker settings first.":t&&(t.indexOf("port is already allocated")!==-1||t.indexOf("address already in use")!==-1)?e.description="A port the container is setup to bind to is already in use. See the Dev Containers terminal for details.":t&&t.indexOf('invalid mount config for type "bind"')!==-1?e.description="A mount config is invalid. Make sure it has the right format and a source folder that exists on the machine where the Docker daemon is running.":t&&t.indexOf("deb.debian.org/debian/dists/jessie-updates")!==-1&&(e.description="The base image references the obsolete Debian 8 update repository.",e.actions.push({id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(n,r)=>r,async execute(){Ue.env.openExternal(Ue.Uri.parse("https://aka.ms/vscode-remote/containers/troubleshooting/jessie"))}}))}var pa=V(require("vscode"));var $se=require("util");var ws=V(require("path")),jse=V(require("crypto"));async function Hse(e,t,n,r){var m,h;let{dockerCLI:i,dockerComposeCLI:o,dockerComposePath:s,common:a}=e,{cliHost:u,extensionPath:c,appRoot:l,postCreate:d,output:p}=a,f;try{let{commit:g}=a.product;if(!g)throw new ve({description:"Cannot attach without commit id for the remote extension host."});let v=r?n.configFilePath:void 0;if((v==null?void 0:v.scheme)==="file"&&u.type!=="local"){let U=u.path.join(await u.tmpdir(),`devcontainer-config-${jse.randomUUID()}.json`);await u.writeFile(U,await nt(v.fsPath)),v=ye.from({scheme:st.scheme,path:U})}let y={...a.env,...on(a.env)},x={cliHost:u,dockerPath:i,dockerComposePath:s,env:y,extensionPath:c,appRoot:l,package:a.package,postCreate:d,output:p},E=a.postCreate.output.dimensions||p.dimensions,_=await Ns(x,["set-up","--container-id",t.Id,...u.type==="local"&&a.persistedFolder?["--user-data-folder",a.persistedFolder]:[],...e.dockerCLI!=="docker"?["--docker-path",e.dockerCLI]:[],...a.containerSessionDataFolder?["--container-session-data-folder",a.containerSessionDataFolder]:[],"--log-level",Ss(a.getLogLevel()),"--log-format","json",...v?["--config",we(v,u.platform)]:[],"--default-user-env-probe",a.defaultUserEnvProbe,"--skip-post-create",...E?["--terminal-columns",String(E.columns),"--terminal-rows",String(E.rows)]:[]]);if((_==null?void 0:_.outcome)!=="success")throw new ve({description:`devcontainer command failed: ${_?JSON.stringify(_):"data missing"}`});let{mergedConfiguration:C}=await Kc(x,void 0,v,a.getLogLevel(),{},[],t.Id,void 0,a.cliMode),P=C.remoteUser;f=await Df(e,t.Id,C.workspaceFolder,P);let T={cliHost:u,dockerCLI:i,dockerComposeCLI:o,dockerComposePath:s,env:y,output:d.output},b=((h=(((m=C.customizations)==null?void 0:m.vscode)||[]).slice().reverse().find(U=>typeof U.devPort=="number"))==null?void 0:h.devPort)||jc,{hostOrContainerPort:R,hostPortServer:D,connectionToken:I,webConnectionToken:L,remoteEnv:q,serverDownloaded:k}=await bf(a,f,n,C,b,kf(e,T,f,void 0,void 0,t.Id,!1,v,void 0)),N=On(a.cliHost,f.shellServer);if(qFe(a,f,N,n.configFilePath),jFe(a,f,N,n.configFilePath),Rf(a,f,R,I,L,t,gt(ws.posix,"/")),D){let U=async()=>{await(0,$se.promisify)(D.close.bind(D))()};a.shutdowns.push(U)}return{params:a,properties:f,config:n,resolvedAuthority:{host:Yc,port:R,connectionToken:I,extensionHostEnv:q},webConnectionToken:L,tunnelInformation:a.isLocalContainer?Af(t):{},dockerParams:e,dockerContainerId:t.Id,serverDownloaded:k}}catch(g){let v=g instanceof ve?g:new ve({description:"An error occurred attaching to the container.",originalError:g});throw t&&(v.manageContainer=!1,v.params=e.common,v.containerId=t.Id,v.dockerParams=e),f&&(v.containerProperties=f),v.config=n,v}}function qFe(e,t,n,r){t.installFolder&&Bse(e,t,n,r).catch(console.error)}async function Bse(e,t,n,r){try{await Sa(e,t,["/bin/sh","-c",`# Watch installed extensions
			trap "exit 0" 15
			old=\`ls -A --full-time\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],kW(t),{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await $Fe(e,t,n,r):(i==null?void 0:i.code)!==2&&await to(6e4)}return Bse(e,t,n,r)}async function $Fe(e,t,n,r){let i=await MW(e,t);await ED(r,async()=>{var s,a;let o=await HP(e.cliHost,n,r,t.remoteWorkspaceFolder);if(!BFe(((a=(s=o.config.customizations)==null?void 0:s.vscode)==null?void 0:a.extensions)||[],i)){let u=pn(o.text,["extensions"],i,{formattingOptions:{}});await no(n,r,u,o.text)}})}function jFe(e,t,n,r){Vse(e,t,n,r).catch(console.error)}async function Vse(e,t,n,r){try{let i=M_(t),o=ws.posix.dirname(i),s=ws.posix.basename(i);await Sa(e,t,["/bin/sh","-c",`# Watch machine settings
			trap "exit 0" 15
			old=\`ls -A --full-time ${s} 2>/dev/null || true\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time ${s} 2>/dev/null || true\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],o,{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await HFe(e.cliHost,t,n,r):(i==null?void 0:i.code)!==2&&await to(6e4)}return Vse(e,t,n,r)}async function HFe(e,t,n,r){let{stdout:i}=await t.shellServer.exec(`cat ${M_(t)}`),o=Je(i)||{};await ED(r,async()=>{var a,u;let s=await HP(e,n,r,t.remoteWorkspaceFolder);if(JSON.stringify(((u=(a=s.config.customizations)==null?void 0:a.vscode)==null?void 0:u.settings)||{})!==JSON.stringify(o)){let c=pn(s.text,["settings"],o,{formattingOptions:{}});await no(n,r,c,s.text)}})}function BFe(e,t){let n=new Set(e),r=new Set(t);return n.size===r.size&&e.every(i=>r.has(i))}async function Wse(e,t){let n=VP(e,t.Name),r=await qse(n);return r||(n=Yse(e,t.Config.Image),r=await qse(n)),r}async function Gse(e,t,n,r,i){let o=ye.file(VP(n,r.Name)),s=await HP(e,t,o,i);return s.exists||(o=ye.file(Yse(n,r.Config.Image)),s=await HP(e,t,o,i)),s}function BP(e){return ws.join(e,"nameConfigs")}function VP(e,t){let n=t.startsWith("/")?t.substr(1):t;return ws.join(BP(e),`${Xse(n)}.json`)}async function zse(e){try{let t=BP(e);return(await bc(t)).filter(r=>r.endsWith(".json")).map(r=>({name:Qse(r.substr(0,r.length-5)),uri:ye.file(ws.join(t,r))}))}catch(t){if(t&&t.code==="ENOENT")return[];throw t}}function WP(e){return ws.join(e,"imageConfigs")}function Yse(e,t){return ws.join(WP(e),`${Xse(t)}.json`)}async function Kse(e){try{let t=WP(e);return(await bc(t)).filter(r=>r.endsWith(".json")).map(r=>({image:Qse(r.substr(0,r.length-5)),uri:ye.file(ws.join(t,r))}))}catch(t){if(t&&t.code==="ENOENT")return[];throw t}}function Xse(e){return e.replace(/[:/%]/g,t=>`%${t.charCodeAt(0).toString(16)}`)}function Qse(e){return e.replace(/%([0-9a-f]{2})/g,(t,n)=>String.fromCharCode(parseInt(n,16)))}async function qse(e){if(!await bn(e))return;let t=await nt(e),n=Je(t.toString())||{},r=wv(n);return r.configFilePath=ye.file(e),r}async function HP(e,t,n,r){let i=await t.readDocument(n),o=i||Ia,s=Je(o)||{},a=wv(s),u=D_({platform:e.platform,configFile:n,env:e.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:r},a);return u.configFilePath=n,{exists:!!i,text:o,config:u}}async function Jse(e,t,n,r,i){return await nl(e)?{...await VFe(e,t,n,r,i),isTrusted:!0}:(await pa.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function VFe(e,t,n,r,i){let o,s;return pa.window.withProgress({location:pa.ProgressLocation.Notification,title:tg,cancellable:!1},async a=>{var u,c;try{let l=Uf(n),{settings:d}=l,p="containerName"in l?l.containerName:l.containerId;r.log.write(`Setting up container: ${p}\r
`),yb(r.log,d);let f=d&&"host"in d&&d.host||void 0,m=ua(),h=Ls(e.extensionPath,gc,r.log),g=await wi(f,l.cwd,qi,m,e.extensionPath,await ro(),t.product,r.log,ys,{sshAskpassEnv:h,settings:Zh()}),v=vs(),y={...await h,...Mf(g,d)},x=Ms({exec:g.exec,env:{...y,...on(y)},output:r.log},vs(),ca()),E={...g.env,...y},_=await Ei({cliHost:g,dockerCLI:v,dockerComposeCLI:x,dockerComposePath:ca(),env:E,output:r.log},"containerName"in l?l.containerName:l.containerId);if(!_)throw new ve({description:`Cannot attach to the container with name/id ${p}, it no longer exists.`,data:{reload:!1,attach:!0}});let C=(c=(u=(pa.workspace.workspaceFolders||[void 0])[0])==null?void 0:u.uri)==null?void 0:c.path,P=await Gse(g,Uo,e.globalStoragePath,_,C);if(C&&P.config.workspaceFolder!==C){let D=pn(P.text,["workspaceFolder"],C,{formattingOptions:{}});await no(Uo,P.config.configFilePath,D,P.text)}o={common:await eg({authority:n,extensionContext:e,sessionStart:r.sessionStart,progress:a,cliHost:g,env:E,cwd:l.cwd||await g.homedir(),wslSettings:m,isLocalContainer:xb(y),telemetry:t,output:r.log,logFilePath:r.logFilePath,allowSystemConfigChange:!1,postCreate:i}),parsedAuthority:l,dockerCLI:v,dockerComposePath:ca(),dockerComposeCLI:x,dockerEnv:y,workspaceMountConsistencyDefault:EP(),updateRemoteUserUIDOnMacOS:_P(),cacheMount:bP()?"volume":"none",configurationTracking:wP(e.workspaceState),userRepositoryConfigurationPaths:[],development:e.extensionMode===pa.ExtensionMode.Development},await wb(o);let T=Lf(d),b=_.Name.startsWith("/")?_.Name.substr(1):_.Name,R=`Container ${_.Config.Image} (${b})${T}`;if(o.common.setWorkspaceName(R),_.State.Status!=="running")throw new ve({description:`Cannot attach to the container ${_.Config.Image} (${b})${T}, it is not running.`,params:o.common,containerId:_.Id,dockerParams:o,data:{reload:!1,start:!0}});return await Hse(o,_,P.config,P.exists)}catch(l){let d=l instanceof ve?l:new ve({description:"An error occurred attaching to the container.",originalError:l});throw d.actions=[jz,Hz,...$f,Nl,Qc,qf,Ol],d}}).then(a=>(vc(t,"attach","success",o==null?void 0:o.common,s,void 0,a.properties),a),a=>{let u=a instanceof ve?a:new ve({description:"An error occurred attaching to the container.",originalError:a});return vc(t,"attach","failure",o==null?void 0:o.common,s,void 0,u.containerProperties,u),Jc(u,"attach",t,!0,r)})}var Dt=V(require("vscode"));var Xt=V(require("vscode")),eae=V(require("path")),wp=V(require("os")),Pw=V(require("fs")),tae=V(require("child_process")),nae=V(require("crypto")),rae=V(kp());async function zP(e){zFe()?await new l$().downloadAndInstallDocker(e):iae()?await new d$().downloadAndInstallDocker(e):await Xt.env.openExternal(Xt.Uri.parse("https://aka.ms/download-docker-linux-vscode"))}var GP=class{async downloadAndInstallDocker(t){if(await this.preInstallCheck(t)){let r="Downloading Docker installer...",i="The Docker Desktop installation is started. Complete the installation and then start Docker Desktop.",o;try{o=await Xt.window.withProgress({location:Xt.ProgressLocation.Notification,title:r},async()=>this.downloadInstaller())}catch(a){let u="Downloading the Docker Desktop installer failed. Do you want to manually download and install?",c="Download";throw this.handleError(u,c,this.downloadUrl),a}let s=this.getInstallCommand(o);Xt.window.showInformationMessage(i);try{await this.install(o,s,t)}catch(a){let u=`Docker Desktop installation failed. ${a}`,c="Install Instruction";throw this.handleError(u,c,"https://aka.ms/AA37qtj"),a}}}async preInstallCheck(t){let n=!0;if(await new p$(t).isDockerInstalledRealTimeCheck()){let r="Docker Desktop is already installed. Would you like to reinstall?",i="Reinstall";n=await Xt.window.showInformationMessage(r,{modal:!0},i)!==void 0}return n}async downloadInstaller(){let t=`${GFe()}.${this.fileExtension}`;return await KFe(this.downloadUrl,t),t}handleError(t,n,r){Xt.window.showErrorMessage(t,{title:n}).then(i=>{i&&Xt.env.openExternal(Xt.Uri.parse(r))})}},l$=class extends GP{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-windows-vscode";this.fileExtension="exe"}getInstallCommand(n){return`"${n}"`}async install(n,r,i){try{i.write(`Executing command ${r}`),await oae(r,i)}finally{try{await Pw.promises.stat(n),await Pw.promises.unlink(n)}catch{}}}},d$=class extends GP{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-mac-vscode";this.fileExtension="dmg"}getInstallCommand(n){return`chmod +x '${n}' && open '${n}'`}async install(n){let r="Docker Install",i=this.getInstallCommand(n);await YFe(i,r,{addDockerEnv:!1})}},WFe=0;function GFe(){return eae.join(wp.tmpdir(),`${Xt.env.sessionId}-${WFe++}.tmp`)}function zFe(){return wp.platform()==="win32"}function iae(){return wp.platform()==="darwin"}async function YFe(e,t,n){var a,u;let r;n=n??{},n.addDockerEnv&&(r={});let i=new Xt.Task({type:"shell"},n.workspaceFolder??Xt.TaskScope.Workspace,t,"Docker",new Xt.ShellExecution(e,{cwd:n.cwd||((u=(a=n.workspaceFolder)==null?void 0:a.uri)==null?void 0:u.fsPath)||wp.homedir(),env:r}),[]);n.alwaysRunNew&&(i.definition.idRandomizer=nae.randomUUID()),n.focus&&(i.presentationOptions={focus:!0});let o=await Xt.tasks.executeTask(i);return new Promise((c,l)=>{let d=Xt.tasks.onDidEndTaskProcess(p=>{p.execution===o&&(d.dispose(),p.exitCode&&n.rejectOnError&&l(p.exitCode),c())})})}var p$=class{constructor(t){this.output=t;this.maxCacheTime=3e4;this.isDockerInstalledLazy=new m$(async()=>{let n=await this.isDockerInstalledRealTimeCheck();return n&&this.isDockerInstalledLazy.cacheForever(),n},this.maxCacheTime)}async isDockerInstalled(){return await this.isDockerInstalledLazy.getValue()}async isDockerInstalledRealTimeCheck(){try{return await oae("docker -v",this.output),!0}catch{return!1}}};async function KFe(e,t){await new Promise((n,r)=>{let i=Pw.createWriteStream(t);rae.https.get(e,s=>{if(s.statusCode<200||s.statusCode>299){r(new Error(`Failed to download Docker (${e}): HTTP ${s.statusCode} - ${s.statusMessage}`));return}s.on("error",r),s.pipe(i),s.on("end",n)}).on("error",r)})}var Zse=10*1024;async function oae(e,t,n,r){let i=Buffer.alloc(n&&n.maxBuffer||Zse),o=Buffer.alloc(n&&n.maxBuffer||Zse);return await XFe(e,t,n,r,i,r,o),{stdout:f$(i),stderr:f$(o)}}async function XFe(e,t,n,r,i,o,s,a){return await new Promise((u,c)=>{let l,d=0,p=0;n=n||{},n.shell=!0,QFe(n,t);let f=tae.spawn(e,n);f.on("error",m=>(l&&(l.dispose(),l=void 0),c(m))),f.on("close",(m,h)=>{if(l&&(l.dispose(),l=void 0),a&&a.isCancellationRequested)return c(new Error("User canceled"));if(m){let g=`Process '${e.length>50?`${e.substring(0,50)}...`:e}' exited with code ${m}`;s&&(g+=`
Error: ${f$(s)}`);let v=new Error(g);return v.code=m,v.signal=h,v.stdErrHandled=o!==null,c(v)}return u()}),n!=null&&n.stdin&&(f.stdin.write(n.stdin),f.stdin.end()),(r||i)&&f.stdout.on("data",m=>{let h=m.toString();r&&r(h,f),i&&(d+=i.write(h,d))}),(o||s)&&f.stderr.on("data",m=>{let h=m.toString();o&&o(h,f),s&&(p+=s.write(h,p))}),a&&(l=a.onCancellationRequested(()=>{f.kill()}))})}function QFe(e,t){var n;!iae()||/(?<=^|:)\/usr\/local\/bin(?=$|:)/i.test(((n=e==null?void 0:e.env)==null?void 0:n.PATH)||process.env.PATH||"")||(e=e??{},e.env=e.env??{...process.env},t.write("WARNING: Adding '/usr/local/bin' to the PATH because it is missing."),e.env.PATH=`${e.env.PATH}:/usr/local/bin`)}function f$(e){return e.toString().replace(/[\x00-\x09\x0B-\x0C\x0E-\x1F]|\r?\n$/g,"")}var m$=class{constructor(t,n){this.valueFactory=t;this._valueLifetime=n;this._isValueCreated=!1}get isValueCreated(){return this._isValueCreated}cacheForever(){this._valueLifetime=void 0}clear(){this._isValueCreated=!1,this._valuePromise=void 0}async getValue(){if(this._isValueCreated)return this._value;let t=this._valuePromise===void 0;t&&(this._valuePromise=this.valueFactory());let n=await this._valuePromise;if(t&&(this._value=n,this._valuePromise=void 0,this._isValueCreated=!0),this._valueLifetime&&t){let r=setTimeout(()=>{this._valueLifetime&&this._valuePromise===void 0&&(this._isValueCreated=!1,this._value=void 0),clearTimeout(r)},this._valueLifetime)}return n}};async function Fr(e,t,n){var o;let r=(o=(Dt.workspace.workspaceFolders||[])[0])==null?void 0:o.uri;r&&(r.scheme==="file"&&yr(r.fsPath)||mf(r))&&(t=await tt(e,t.output,r));let i=await Aw(t,n);if(i==="permission")return await Dt.window.showErrorMessage("Current user does not have permission to run 'docker'.",{modal:!0,detail:"Try adding the user to the 'docker' group."},"Documentation")&&Dt.env.openExternal(Dt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079224")),!1;if(i==="ssh")return await Dt.window.showErrorMessage("Cannot connect to Docker daemon using 'ssh'.",{modal:!0,detail:"Make sure public/private keys are set up for connecting without keyboard interaction."},"Show Log")&&Dt.commands.executeCommand(Or),!1;if(i==="daemon")return await Dt.window.showErrorMessage("Docker returned an error.",{modal:!0,detail:"Make sure the Docker daemon is running."},"Show Log")&&Dt.commands.executeCommand(Or),!1;if(!i||i==="command"){if(t.cliHost.type==="wsl")await Dt.window.showErrorMessage("Docker Desktop WSL 2 backend required.",{modal:!0},"Read more on docker.com")&&Dt.env.openExternal(Dt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl"));else{let s="Install",a="License",u="Ignore",c=i===!1?[s,a,u]:[s,a],l=await Dt.window.showErrorMessage("Docker version 17.12.0 or later required.",{modal:!0,detail:`${i==="command"&&t.dockerCLI!=="docker"?`Command not found: '${t.dockerCLI}'. `:""}Check the license for details.`},...c);if(l===s)zP(t.output).then(console.error);else if(l===a)Dt.env.openExternal(Dt.Uri.parse("https://aka.ms/docker-subscription-service-agreement"));else if(l===u)return!0}return!1}return i==="wsl1"?(await Dt.window.showErrorMessage("WSL 2 distro required.",{modal:!0,detail:"The WSL distro is running with WSL 1."},"Read more on docker.com")&&Dt.env.openExternal(Dt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl")),!1):!0}async function Aw(e,t){var s,a,u,c;let n;try{let l=await $e(e,"version","--format","{{.Server.APIVersion}}");n=l.stdout.toString(),e.output.write(n);let d=l.stderr.toString();d&&e.output.write(Ze(d))}catch(l){console.error(l);let d=(s=l==null?void 0:l.stdout)==null?void 0:s.toString();d&&e.output.write(d);let p=l&&(l.stderr?l.stderr.toString():l.message)||"";p&&e.output.write(Ze(p)),Rw(t,"error",void 0,p);let f=p.toLowerCase();return f.indexOf("permission denied")!==-1?f.indexOf("ssh")!==-1?"ssh":"permission":f.indexOf("enoent")!==-1||f.indexOf("not found")!==-1?(e.output.write(`CLI host's PATH: ${e.cliHost.env.PATH}`),"command"):e.cliHost.type==="wsl"&&((c=(u=(a=l==null?void 0:l.stdout)==null?void 0:a.toString())==null?void 0:u.toLowerCase())==null?void 0:c.indexOf("wsl 1"))!==-1?"wsl1":"daemon"}let r=n.trim(),i=yf(r);if(!i&&r.toLowerCase().indexOf("error during connect")!==-1)return Rw(t,"error",void 0,r),"daemon";if(!i)return Rw(t,"unparsed",r),!0;let o=!xf(i,[1,35]);return!o&&await OD(e)?(Rw(t,"podman",r),!0):(Rw(t,o?"success":"failure",r),o)}function Rw(e,t,n,r){let i={outcome:t};n&&(i.version=n),r&&(i.errorMessage=r),e.sendTelemetryEvent("dockerVersion",i)}async function sae(e){try{return await bv(e,"version"),!0}catch{return await Dt.window.showErrorMessage("Docker Compose required",{modal:!0},"Documentation")&&Dt.env.openExternal(Dt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079610")),!1}}var cg=V(require("vscode"));var YP=class{constructor(t){this.fileHost=t}async provideDocumentLinks(t,n){let r=[],i=Cg(t.getText());if(!i)return r;let o=Sg(i)||{};return o.configFilePath=t.uri,ar(o)&&this._linksForDockerfile(r,o,i,t),"dockerComposeFile"in o&&await this._linksForDockerCompose(r,o,i,t),r}_tryAddDocumentLinkToBucket(t,n,r,i,o){let s=t.positionAt(n),a=t.positionAt(r);s.compareTo(a)!==0&&o.push(new cg.DocumentLink(new cg.Range(s,a),i))}_linksForDockerfile(t,n,r,i){let o=_c(r,["build","dockerfile"])||_c(r,["dockerFile"]);o&&o.type==="string"&&this._tryAddDocumentLinkToBucket(i,o.offset+1,o.offset+o.length-1,Wc(this.fileHost,n),t)}async _linksForDockerCompose(t,n,r,i){let s=(await Gc(this.fileHost,n)).map(u=>cg.Uri.file(u).path),a=_c(r,["dockerComposeFile"]);if(s.length>0&&a)if(a.type==="array"&&a.children)for(let u=0;u<a.children.length;u++)this._tryAddDocumentLinkToBucket(i,a.children[u].offset+1,a.children[u].offset+a.children[u].length-1,i.uri.with({path:s[u]}),t);else a.type==="string"&&this._tryAddDocumentLinkToBucket(i,a.offset+1,a.offset+a.length-1,i.uri.with({path:s[0]}),t)}};var W=V(require("vscode")),Ep=V(require("path"));var aae="Stop Container",cae="Reopen Folder locally",uae="Close Workspace";var $n=class{static isGroupItem(t){return!!t&&t.type==="Group"}static isContainerItem(t){return!!t&&t.type==="Container"}static isFolderItem(t){return!!t&&t.type==="Folder"}};var KP=class extends $n{constructor(n,r){super();this.label=n;this.groupType=r;this.type="Group"}async asTreeItem(n,r,i,o){return new W.TreeItem(this.label,W.TreeItemCollapsibleState.Expanded)}},Es=class extends $n{constructor(n,r=[],i,o=!1){super();this.container=n;this.folders=r;this.parent=i;this.isDevContainer=o;this.type="Container";this._alreadyCheckedRepository=!1}async asTreeItem(n,r,i,o){let s=new W.TreeItem(this.getContainerLabel(),this.getCollapsibleState());s.description=this.containerDescription;let a=this.getContextBase();s.iconPath=XP(r,t1e),s.contextValue="exited"+a;let u=!1;return i&&this.container.Id===i.Id?(s.iconPath=XP(r,e1e),s.contextValue="active"+a,u=!0):n&&await this.setTreeItemIconAndContext(n,a,s),s.tooltip=this.getHover(u,s.iconPath instanceof W.ThemeIcon?s.iconPath:new W.ThemeIcon("vm"),s.label),this.folders.length===1&&(s.contextValue+="Folder"),s}getContextBase(){return(this.isDevContainer?"Dev":"")+"Container"}getCollapsibleState(){return this.folders.length>1?W.TreeItemCollapsibleState.Expanded:W.TreeItemCollapsibleState.None}async setTreeItemIconAndContext(n,r,i){switch(this.container.State.Status){case"created":{i.iconPath=new W.ThemeIcon("vm"),i.contextValue="exited"+r;break}case"paused":{i.iconPath=new W.ThemeIcon("vm-outline"),i.contextValue="running"+r;break}case"restarting":{i.iconPath=new W.ThemeIcon("vm-outline"),i.contextValue="exited"+r;break}case"exited":{i.iconPath=new W.ThemeIcon("vm"),i.contextValue="exited"+r;break}case"running":{i.iconPath=new W.ThemeIcon("vm-running"),i.contextValue="running"+r;break}}}getTimeElapsed(n){if(!n)return"";let r="",i=n.State.Status,o=new Date(n.State.StartedAt),s=new Date(n.State.FinishedAt);if(o.getFullYear()>1&&s.getFullYear()>1){let a=new Date,u=new Date(o>s?n.State.StartedAt:n.State.FinishedAt),c,l,d=a.getTime()-u.getTime();(l=Math.round(d/Es.years))>0?l===1?c="year":c="years":(l=Math.round(d/Es.days))>0?l===1?c="day":c="days":(l=Math.round(d/Es.hours))>0?l===1?c="hour":c="hours":(l=Math.round(d/Es.minutes))>0?l===1?c="minute":c="minutes":(l=Math.round(d/Es.seconds),l===1?c="second":c="seconds"),r=` ${l} ${c}`+(i.endsWith("ing")?"":" ago")}return`${i.charAt(0).toUpperCase()+i.slice(1)}`+r}getContainerLabel(){if(Dl(this.container)&&this.folders.length>0)return`${Ep.basename(this.folders[0].folder.path)}`;{let r=LD(this.container);if(r)return r;let i=this.repository;if(i)return i.repositoryName;let o=Rl(this.container);return o?o.volumeName:this.container.Config.Image}}get containerDescription(){return this.container.Name.substr(1)}getHover(n,r,i){let o=new W.MarkdownString(void 0,!0);if(o.appendMarkdown(`$(${r.id}) ${i} (${this.container.Name.substr(1)})  
`),this.repository){let a=this.repository.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)";o.appendMarkdown(`${a} [${this.repository.fullRepositoryName}](${this.repository.gitUrlInfo.repositoryUrl})  
`)}let s=gb(this.container);return s&&o.appendMarkdown(`$(file-symlink-directory) ${s}  
`),n?o.appendMarkdown("$(remote) Connected"):o.appendMarkdown(`$(history) ${this.getTimeElapsed(this.container)}`),o}get repository(){if(!this._alreadyCheckedRepository){let n=kl(this.container);n&&(this._repository=oo(n)),this._alreadyCheckedRepository=!0}return this._repository}inspect(n){return Wr(n,this.container.Id)}},gr=Es;gr.seconds=1e3,gr.minutes=Es.seconds*60,gr.hours=Es.minutes*60,gr.days=Es.hours*24,gr.years=Es.days*365;var wc=class extends $n{constructor(n,r,i){super();this.container=n;this.folder=r;this.isDevContainer=i;this.type="Folder"}async asTreeItem(n,r,i,o){let s=new W.TreeItem(Ep.basename(this.folder.path),W.TreeItemCollapsibleState.None);return s.description=this.folder.path,s.iconPath=XP(r,r1e),s.contextValue="attachedFolder",this.isDevContainer&&!kl(this.container)&&!Rl(this.container)&&(s.contextValue="devFolder"),i&&this.container.Id===i.Id&&o===this.folder.path&&(s.iconPath=XP(r,n1e),s.tooltip=`Active Folder ${s.label}`,s.contextValue=`active${s.contextValue}`),s}};function JFe(e,t,n,r){if(!(!W.env.remoteName||W.env.remoteName!=="attached-container"&&W.env.remoteName!=="dev-container"))return lae(e,t,n,r)}function lae(e,t,n,r){W.commands.executeCommand("setContext","remote-containers:showDetails",!0);let i=new w$(e,t,r,t.output),o=W.window.createTreeView("detailsContainers",{treeDataProvider:i});return i.setTitle=s=>{o.title=s},e.subscriptions.push(n.onDidChangeActiveContainer(s=>i.refresh(s))),i}function ZFe(e,t){let n=[aae];return e&&e.Id===t.Id&&W.workspace.workspaceFolders&&W.workspace.workspaceFolders.length>0&&(n.push(uae),W.workspace.workspaceFolders[0].uri.authority.startsWith("dev-container")&&n.push(cae)),n}var h$=class{constructor(t,n){this.dockerParams=t;this.containerId=n;this.writeEmitter=new W.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.destroyables=[]}open(){let{cliHost:t,env:n,output:r}=this.dockerParams;t.exec({cmd:vs(),args:["logs","-f",this.containerId],env:n,output:r}).then(i=>{this.destroyables.push(i.stdout.on("data",o=>{this.write(o.toString())})),this.destroyables.push(i.stderr.on("data",o=>{this.write(o.toString())}))}).catch(console.error)}close(){this.writeEmitter.dispose(),this.destroyables.forEach(t=>{t.destroy()})}write(t){this.writeEmitter.fire(t.replace(/\n/g,`\r
`))}},g$=class{constructor(t,n,r,i,o,s){this.targetsTreeData=t;this.detailsTreeData=n;this.devVolumesTreeData=r;this.dockerParams=i;this.context=o;this.telemetry=s}updateDockerParameters(t){this.dockerParams=t}registerCommands(){let t=[];return t.push(W.commands.registerCommand("remote-containers.stopContainer",this.commandStopContainer,this)),t.push(W.commands.registerCommand("remote-containers.removeContainer",this.commandRemoveContainer,this)),t.push(W.commands.registerCommand("remote-containers.startContainer",this.commandStartContainer,this)),t.push(W.commands.registerCommand("remote-containers.removeRecentFolder",this.commandRemoveRecentFolder,this)),t.push(W.commands.registerCommand("remote-containers.showDetails",this.commandShowDetails,this)),t.push(W.commands.registerCommand("remote-containers.explorerDetailsRefresh",this.commandExplorerDetailsRefresh,this)),t.push(W.commands.registerCommand("remote-containers.attachToContainer",this.commandAttachToContainer,this)),t.push(W.commands.registerCommand("remote-containers.attachToContainerNewWindow",this.commandAttachToContainerNewWindow,this)),t.push(W.commands.registerCommand("remote-containers.inspectDockerResource",this.commandInspectDockerResource,this)),t.push(W.commands.registerCommand("remote-containers.openInformationAboutMountPerformance",this.openInformationAboutMountPerformance,this)),t.push(W.commands.registerCommand("remote-containers.inspectInBasicDevContainer",this.commandInspectInBasicDevContainer,this)),t.push(W.commands.registerCommand("remote-containers.cloneInVolume",this.commandCloneInVolume,this)),t.push(W.commands.registerCommand("remote-containers.removeVolume",this.commandRemoveVolume,this)),t.push(W.commands.registerCommand("remote-containers.pruneVolumes",this.commandPruneVolumes,this)),t.push(W.commands.registerCommand("remote-containers.explorerVolumesRefresh",this.commandExplorerVolumesRefresh,this)),t.push(W.commands.registerCommand("remote-containers.startAndOpenFolder",this.commandStartAndOpenFolder,this)),t.push(W.commands.registerCommand("remote-containers.newContainer",this.commandNewContainer,this)),t.push(W.commands.registerCommand("remote-containers.showContainerLog",this.commandShowContainerLog,this)),t}async commandStopContainer(t){if(!$n.isContainerItem(t))return;let n=this.targetsTreeData.currentContainer&&this.targetsTreeData.currentContainer.Id===t.container.Id?"Stop active container? This will disconnect your current window.":`Stop ${t.getContainerLabel()}?`,r=await W.window.showWarningMessage(n,{modal:!0},...ZFe(this.targetsTreeData.currentContainer,t.container));await this.targetsTreeData.withProgress(t,async()=>{switch(r){case aae:{await kq(this.dockerParams,t.container),t.container=await Wr(this.dockerParams,t.container.Id);break}case uae:{await W.commands.executeCommand("workbench.action.closeFolder");break}case cae:{await W.commands.executeCommand("remote-containers.reopenLocally");break}}})}async commandRemoveContainer(t){if(!$n.isContainerItem(t))return;let n=await Ei(this.dockerParams,t.container.Id);if(!n)return;let r=await W.window.showWarningMessage("Remove this container?",{modal:!0,detail:"This action is not reversible and deletes the container permanently."},"Remove");await this.targetsTreeData.withProgress(t.parent,async()=>{r==="Remove"&&(await kq(this.dockerParams,t.container),await die(this.dockerParams,n.Id),this.detailsTreeData&&await this.detailsTreeData.refresh(void 0),await this.tryRemoveVolume(t.container))})}async tryRemoveVolume(t){let n=gb(t);if(n||(n=Cz(t)),n){let r=await tb(this.dockerParams,n);if((await AD(this.dockerParams)).indexOf(n)>=0){let s;(r==null?void 0:r.Labels)&&r.Labels["vsch.local.repository.unique"]==="true"?s="The container is using a volume with a cloned repository.":s=`This is the last container using '${n}'.`,await W.window.showInformationMessage(s,{modal:!0,detail:"Do you want to remove the volume and the data it contains?"},"Remove")==="Remove"&&await Oq(this.dockerParams,n)}}}async commandPruneVolumes(t){let n="Are you sure you want to remove all unused volumes?";await W.window.showInformationMessage(n,{modal:!0},"Remove")==="Remove"&&await this.targetsTreeData.withProgress(t,async()=>{await JG(this.dockerParams)})}async commandExplorerVolumesRefresh(t){return await this.devVolumesTreeData.getDockerParams(),this.devVolumesTreeData.refresh(void 0)}async commandStartContainer(t){!$n.isContainerItem(t)||await this.targetsTreeData.withProgress(t,async()=>{await CP(this.dockerParams,t.container),t.container=await Wr(this.dockerParams,t.container.Id)})}async commandRemoveRecentFolder(t){!$n.isFolderItem(t)||(await W.commands.executeCommand("vscode.removeFromRecentlyOpened",t.folder.toString()),await this.targetsTreeData.refresh(void 0))}async commandShowDetails(t){!$n.isContainerItem(t)||(this.detailsTreeData||(this.detailsTreeData=lae(this.context,this.dockerParams,this.targetsTreeData,this.telemetry)),await this.detailsTreeData.refresh(t))}async commandExplorerDetailsRefresh(){this.detailsTreeData&&await this.detailsTreeData.refresh(void 0)}async commandStartAndOpenFolder(t){let n,r;$n.isFolderItem(t)?(r=t,n=t.container):gr.isContainerItem(t)&&(r=t.folders[0],n=t.container),n&&(await CP(this.dockerParams,n),await W.commands.executeCommand("remote-containers.openFolder",r))}async commandAttachToContainer(t){return this.attachToContainerInternal(t)}async commandAttachToContainerNewWindow(t){return this.attachToContainerInternal(t,!0)}async attachToContainerInternal(t,n=!1){let r;$n.isContainerItem(t)?r=t.container:this.detailsTreeData&&(r=this.detailsTreeData.container),r&&(await CP(this.dockerParams,r),await QP(this.dockerParams,r,this.context,n))}async commandInspectDockerResource(t){let n;($n.isContainerItem(t)||Ec.isImageItem(t)||Ec.isVolume(t)||Ec.isDevVolume(t))&&(n=await t.inspect(this.dockerParams)),n&&W.window.showTextDocument(await W.workspace.openTextDocument({language:"json",content:JSON.stringify(n,null,"	")}))}async openInformationAboutMountPerformance(){await W.env.openExternal(W.Uri.parse("https://aka.ms/vscode-remote/containers/open-repo"))}async commandInspectInBasicDevContainer(t){Ec.isDevVolume(t)&&await t.inspectInBasicDevContainer()}async commandCloneInVolume(t){Ec.isDevVolume(t)&&await t.cloneRepositoryInVolume()}async commandRemoveVolume(t){Ec.isDevVolume(t)&&await t.removeVolume(this.dockerParams)}async commandNewContainer(){let t=[{label:"Open Current Folder in Container",command:"remote-containers.reopenInContainer"},{label:"Open Folder in Container...",command:"remote-containers.openFolder"},{label:"Open Workspace in Container...",command:"remote-containers.openWorkspace"},{label:"Create Dev Container...",command:"remote-containers.createDevContainer"},{label:"Clone Repository in Container Volume...",command:"remote-containers.openRepositoryInVolume"},{label:"Clone GitHub Pull Request in Container Volume...",command:"remote-containers.openPullRequestInVolume"},{label:"Try a Sample...",command:"remote-containers.trySample"}],n=await W.window.showQuickPick(t,{placeHolder:"Select an action to create a container"});if(n)return W.commands.executeCommand(n.command)}async commandShowContainerLog(t){if(!$n.isContainerItem(t))return;let n=new h$(this.dockerParams,t.container.Id);W.window.createTerminal({name:t.container.Config.Image,pty:n}).show()}};async function dae(e,t,n,r){W.commands.executeCommand("setContext","remote-containers:showDetails",!1);let i=new v$(e,t,s,n,r),o=W.window.createTreeView("targetsContainers",{treeDataProvider:i});i.setMessage=a=>o.message=a,e.subscriptions.push(W.commands.registerCommand("remote-containers.explorerTargetsRefresh",async()=>(await i.getDockerParams(!0),i.refresh(void 0))));function s(a){let u=JFe(e,a,i,n),c=new _$(e,n,r),l=W.window.createTreeView("devVolumes",{treeDataProvider:c});e.subscriptions.push(l);let d=new g$(i,u,c,a,e,n);e.subscriptions.push(...d.registerCommands()),e.subscriptions.push(Pq(e)(async()=>{i.refresh(void 0),c.refresh(void 0);let p=await tt(e,r);u&&u.updateDockerParameters(p),d.updateDockerParameters(p)}))}}var v$=class{constructor(t,n,r,i,o){this.context=t;this.resolverResults=n;this.onFirstReveal=r;this.telemetry=i;this.output=o;this._onDidChangeTreeData=new W.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this._onDidChangeActiveContainer=new W.EventEmitter;this.onDidChangeActiveContainer=this._onDidChangeActiveContainer.event;this.refreshDockerParams=!1;this.needsSSHCredentials=!1;this.setTreeMessage=()=>{};this.devContainers=[];this.attachContainers=[];this.otherContainers=[];this.recentAttachEntries=new Map;this.recentAttachDevContainerEntries=new Map;this.recentDevComposeEntries=new Map;this.containerItems=new Map;this.action=Promise.resolve();this.needsDockerStartOrInstallContext=void 0;this.hasContainersContext=void 0}set setMessage(t){this.setTreeMessage=t}get currentContainer(){return this._currentContainer}async getDockerParams(t=!1){if(!this.dockerParams){this.passiveSSHAskpassEnv||(this.passiveSSHAskpassEnv=Ls(this.context.extensionPath,async n=>(this.needsSSHCredentials=!0,gc(n,!1)),this.output));try{this.dockerParams=await tt(this.context,this.output,void 0,void 0,t?void 0:this.passiveSSHAskpassEnv,!1),await Aw(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)}catch(n){if(!this.needsSSHCredentials)throw n}}return this.dockerParams}handleDockerEvent(t){try{let n=JSON.parse(t.toString());if(!n.Action)return;let r="exec_create: /root/.vscode-server";if(n.Action==="die"||n.Action==="destroy"||n.Action==="create")this._onDidChangeTreeData.fire();else if(!n.Action.startsWith("exec_create")&&n.Actor&&n.Actor.ID&&this.containerItems.has(n.Actor.ID)){let i=this.containerItems.get(n.Actor.ID);this.dockerParams&&i?(async()=>(i.container=await Wr(this.dockerParams,i.container.Id),this._onDidChangeTreeData.fire(i)))():this._onDidChangeTreeData.fire(i);return}else if(n.Action.startsWith(r)){this._onDidChangeTreeData.fire();return}}catch{}}async tryEnsureDocker(){let t=await this.getDockerParams();if(!!t)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await DD(t,{event:["create","destroy","die","health-status","kill","pause","rename","resize","restart","start","stop","unpause","update","exec_create"]}),this.eventsProcess.stdout.on("data",n=>{this.handleDockerEvent(n)})}catch(n){n.code!=="ENOENT"&&console.log(n),this.dockerParams=void 0}}async getTreeItem(t){return t.asTreeItem(this.dockerParams,this.context,this._currentContainer,this.currentFolder)}async setDockerStartOrInstallContext(t){(this.needsDockerStartOrInstallContext===void 0||this.needsDockerStartOrInstallContext!==t)&&(this.needsDockerStartOrInstallContext=t,!this.needsDockerStartOrInstallContext&&this.hasContainersContext===!1&&this.setHasContainersContext(!0),await W.commands.executeCommand("setContext","remote-containers:needsDockerStartOrInstall",!this.needsDockerStartOrInstallContext&&!this.needsSSHCredentials),await W.commands.executeCommand("setContext","remote-containers:needsSSHCredentials",!this.needsDockerStartOrInstallContext&&this.needsSSHCredentials))}async setHasContainersContext(t){if(this.hasContainersContext===void 0||this.hasContainersContext!==t){this.hasContainersContext=t;let n=W.workspace.workspaceFolders&&W.workspace.workspaceFolders.length>0?"remote-containers:noContainersWithFolder":"remote-containers:noContainersWithoutFolder";await W.commands.executeCommand("setContext",n,!this.hasContainersContext)}}async getDockerOrShowMessage(t){return this.refreshDockerParams&&(this.refreshDockerParams=!1,this.dockerParams=void 0),!this.dockerParams&&(t===void 0&&await this.tryEnsureDocker(),!this.dockerParams)?(this.setDockerStartOrInstallContext(!1),this._onDidChangeActiveContainer.fire(void 0),!1):(this.setDockerStartOrInstallContext(!0),!0)}async getChildGroups(t){this.containerItems.clear(),await this.setCurrents(),await this.setContainerTypes(t);let n=[];return(this.devContainers.length>0||this.attachContainers.length>0)&&n.push(new KP("Dev Containers",0)),this.otherContainers.length>0&&n.push(new KP("Other Containers",2)),n}async getChildDevContainer(t,n){let r=await this.getWorkspaceFolderFromContainer(t),i=r?[new wc(t,r,!0)]:[],o=Dl(t);o&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new wc(t,a,!1))):o&&this.recentAttachEntries.has(t.Id)?i.push(...this.recentAttachEntries.get(t.Id).map(a=>new wc(t,a,!1))):(o=kl(t))&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new wc(t,a,!1))):(o=BD(Rl(t)))&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new wc(t,a,!1))):o===void 0&&this.recentDevComposeEntries.has(t.Id)&&i.push(...this.recentDevComposeEntries.get(t.Id).map(a=>new wc(t,a,!1)));let s=new gr(t,i,n,!0);return this.setContainerItems(s),s}setContainerItems(t){this.containerItems.set(t.container.Id,t),this._currentContainer&&t.container.Id===this._currentContainer.Id&&this._onDidChangeActiveContainer.fire(t)}async getChildContainers(t){if(t.groupType===0){let n=this.devContainers.map(async r=>this.getChildDevContainer(r,t));return n.push(...this.attachContainers.map(async r=>{let i=new gr(r,this.recentAttachEntries.get(r.Id).map(o=>new wc(r,o,!1)),t);return this.setContainerItems(i),i})),Promise.all(n)}else return this.otherContainers.map(n=>{let r=new gr(n,[],t);return this.setContainerItems(r),r})}getChildFolders(t){return t.folders&&t.folders.length>1?t.folders:[]}async getChildItems(t){if(t===void 0){let n=await Pa(this.dockerParams,!0);if(await this.setHasContainersContext(n.length>0),n.length===0)return[];let r=await zc(this.dockerParams,n);return this.getChildGroups(r)}else{if($n.isGroupItem(t))return this.getChildContainers(t);if($n.isContainerItem(t))return this.getChildFolders(t)}return[]}async getChildren(t){return await this.action,await this.getDockerOrShowMessage(t)?(this.onFirstReveal&&(this.onFirstReveal(this.dockerParams),this.onFirstReveal=void 0),this.setTreeMessage(void 0),this.getChildItems(t)):[]}async refresh(t){t===void 0&&(this.refreshDockerParams=!0),this._onDidChangeTreeData.fire(t)}async setCurrents(){let t=W.workspace.workspaceFolders,n;if(this.dockerParams){if(t&&t.length>0){let r=this.resolverResults.get(t[0].uri.authority);r&&r.dockerContainerId&&(n=await Ei(this.dockerParams,r.dockerContainerId),this.currentFolder=t[0].uri.path)}else if(this.resolverResults.size>0){let r=[...this.resolverResults.values()][0].dockerContainerId;r&&(n=await Ei(this.dockerParams,r))}}n!==this._currentContainer&&(this._currentContainer=n)}addContainerToMap(t){if(Dl(t)){this.devContainers.push(t);return}else if(kl(t)){this.devContainers.push(t);return}else if(Rl(t)){this.devContainers.push(t);return}else if(LD(t)&&this.recentDevComposeEntries.has(t.Id)){this.devContainers.push(t);return}else if(this.recentAttachEntries.has(t.Id)){this.attachContainers.push(t);return}this.otherContainers.push(t)}async setContainerTypes(t){return await this.setRecentEntries(t),this.devContainers.length=0,this.attachContainers.length=0,this.otherContainers.length=0,t.forEach(n=>{this.addContainerToMap(n)}),{hasDev:this.devContainers.length>0,hasAttach:this.attachContainers.length>0}}async getWorkspaceFolderFromHostWorkspace(t){let{cliHost:n,dockerCLI:r,dockerComposePath:i}=this.dockerParams,o=gt(n.path,t),s=await Av(n,o,tl()),a={cliHost:n,dockerPath:r,dockerComposePath:i,appRoot:W.env.appRoot,extensionPath:this.context.extensionPath,package:await jr(this.context.extensionPath),output:this.output},u=s&&await pw(a,o.rootFolderPath,s);if(u&&ar(u.configuration)){let c=Ln(this.dockerParams.env);return W.Uri.parse(kv(t,u.workspace.workspaceFolder,c),!0)}}async getWorkspaceFolderFromContainer(t){let n=Dl(t);if(n)return this.getWorkspaceFolderFromHostWorkspace(n);{let r=kl(t),i=gb(t),o=Sz(t);if(r){let a=Ln(this.dockerParams.env);return W.Uri.parse(Ho(r,i,o,!1,a,void 0))}let s=Rl(t);if(s){let a=Ln(this.dockerParams.env);return W.Uri.parse(Ho(void 0,s.volumeName,s.folder,!1,a,void 0))}}}async getWorkspaceFolderFromHostPath(t){let n=this.dockerParams.cliHost,r=await Nz(n,t,this.output),i=Lz(n,r,t),o=Ln(this.dockerParams.env);return W.Uri.parse(kv(t,i,o),!0)}getWorkspaceFolderFromRepository(t,n,r){let i=Ln(this.dockerParams.env);return W.Uri.parse(Ho(t,n,r,!1,i,void 0),!0)}getWorkspaceFolderFromDevContainerInVolume(t,n){let r=Ln(this.dockerParams.env);return W.Uri.parse(Ho(void 0,t,n,!1,r,void 0),!0)}async findComposeTargetContainer(t,n){var r;return(r=n.find(i=>Dl(i)===t))==null?void 0:r.Id}trySetEntryWithAttachAuthority(t,n,r){let i;if("containerName"in n){let o=r.find(s=>s.Name===n.containerName);o&&(i=o.Id)}else i=n.containerId;i&&(this.recentAttachEntries.has(i)?this.recentAttachEntries.get(i).push(t):this.recentAttachEntries.set(i,[t]))}async trySetEntryWithDevAuthority(t,n,r,i){let o=n.hostPath,s=i[o];if(s||(s=await this.getWorkspaceFolderFromHostPath(n.hostPath),i[o]=s),s.path!==t.path){this.recentAttachDevContainerEntries.has(n.hostPath)?this.recentAttachDevContainerEntries.get(n.hostPath).push(t):this.recentAttachDevContainerEntries.set(n.hostPath,[t]);let a=await this.findComposeTargetContainer(n.hostPath,r);a&&this.recentDevComposeEntries.has(a)?this.recentDevComposeEntries.get(a).push(t):a&&this.recentDevComposeEntries.set(a,[t])}}trySetEntryWithRepoAuthority(t,n){this.getWorkspaceFolderFromRepository(n.repositoryPath,n.volumeName,n.folder).path!==t.path&&(this.recentAttachDevContainerEntries.has(n.repositoryPath)?this.recentAttachDevContainerEntries.get(n.repositoryPath).push(t):this.recentAttachDevContainerEntries.set(n.repositoryPath,[t]))}trySetEntryWithDevContainerInVolumeAuthority(t,n){if(this.getWorkspaceFolderFromDevContainerInVolume(n.volumeName,n.folder).path!==t.path){let i=BD(n);this.recentAttachDevContainerEntries.has(i)?this.recentAttachDevContainerEntries.get(i).push(t):this.recentAttachDevContainerEntries.set(i,[t])}}trySetEntryWithVolumeAuthority(t,n){let r=n.volumeName;!r||(this.recentAttachEntries.has(r)?this.recentAttachEntries.get(r).push(t):this.recentAttachEntries.set(r,[t]))}async trySetEntry(t,n,r){if(!t||!t.folderUri&&!t.workspace.configPath)return;let i=t.folderUri??t.workspace.configPath,o=Uf(i.authority);if(o)this.trySetEntryWithAttachAuthority(i,o,n);else{let s=bi(i.authority);s&&(Nn(s)?await this.trySetEntryWithDevAuthority(i,s,n,r):wr(s)?this.trySetEntryWithRepoAuthority(i,s):Aa(s)?this.trySetEntryWithDevContainerInVolumeAuthority(i,s):this.trySetEntryWithVolumeAuthority(i,s))}}async setRecentEntries(t){this.recentAttachEntries.clear(),this.recentAttachDevContainerEntries.clear(),this.recentDevComposeEntries.clear();let n=await W.commands.executeCommand("_workbench.getRecentlyOpened");if(n&&n.workspaces){let r={};for(let i of n.workspaces)await this.trySetEntry(i,t,r)}}withProgress(t,n){return this.action=this.action.then(()=>n()),this.refresh(t)}};var Ec=class{constructor(t){this.label=t;this.type="Default"}static isDetailItem(t){return!!t&&t.label!==void 0&&t.type!==void 0}static isImageItem(t){return!!t&&t.type==="Image"}static isVolume(t){return!!t&&t.type==="Volume"}static isDevVolume(t){return!!t&&t.type==="DevVolume"}},y$=class{constructor(t){this.detail=t;this.type="Image";this.context="image";this.label="Image"}inspect(t){return QG(t,this.detail)}},x$=class{constructor(t,n,r){this.label=t;this.detail=n;this.volumeDetails=r;this.type="Volume";this.context="volume"}async inspect(t){return tb(t,this.volumeDetails)}},w$=class{constructor(t,n,r,i){this.context=t;this.dockerParams=n;this.telemetry=r;this.output=i;this._onDidChangeTreeData=new W.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.setTreeTitle=()=>{}}updateDockerParameters(t){this.dockerParams=t}set setTitle(t){this.setTreeTitle=t}get container(){return this._container?this._container.container:void 0}getTreeItem(t){let n=new W.TreeItem(t.label,Array.isArray(t.detail)&&t.detail.length>0?W.TreeItemCollapsibleState.Expanded:W.TreeItemCollapsibleState.None);return n.tooltip=t.label,t.detail&&!Array.isArray(t.detail)&&(n.description=t.detail,n.tooltip+=` ${n.description}`),n.contextValue=t.context,n.command=t.command,n}async getAttributes(t,n,r){let i=[];n&&i.push({label:"Workspace",detail:n});let o=kl(t.container);o&&i.push({label:"Repository",detail:o});let s=Rl(t.container);return s&&(i.push({label:"Volume",detail:s.volumeName}),i.push({label:"Folder",detail:s.folder})),i.push({label:"Name",detail:t.container.Name}),i.push(new y$(t.container.Config.Image)),r&&i.push({label:"Configuration",detail:r,command:{title:"Open Dev Container File",command:"remote-containers.openDevContainerFile",arguments:[r]},context:"devContainer"}),i}async getMounts(t){let n=[];return t&&t.Mounts.forEach(r=>{if(r.Type==="volume"){let i=r.Name,o=new x$("Volume",i,i),s={label:"Destination",detail:r.Destination};n.push({label:"Volume mount",detail:[o,s]})}else if(r.Type==="bind"){let i={label:"Source",detail:r.Source},o={label:"Destination",detail:r.Destination},s=this.dockerParams&&["win32","darwin"].includes(this.dockerParams.cliHost.platform)?[{label:"I/O performance",detail:"reduced by bridging OSes",context:"mountPerformanceInfo",command:{command:"remote-containers.openInformationAboutMountPerformance"}}]:[];n.push({label:"Bind mount",detail:[i,o,...s]})}}),n}async getChildrenFromRoot(t){let n=[],r=Dl(t.container),i;if(this.dockerParams&&r){let a=await Av(this.dockerParams.cliHost,gt(this.dockerParams.cliHost.path,r),tl());a&&(i=we(a,this.dockerParams.cliHost.platform))}n.push({label:"Attributes",detail:await this.getAttributes(t,r,i),type:"Title"});let o;this.dockerParams&&(o=await Wr(this.dockerParams,t.container.Id));let s=await this.getMounts(o);return s.length>0&&n.push({label:"Mounts",detail:s,type:"Title"}),n}async testContainer(){let t=!0;try{(this.dockerParams?await Wr(this.dockerParams,this._container.container.Id):void 0)===void 0&&(t=!1)}catch{t=!1}return t||(this._container=void 0,this.setTreeTitle("Details (Containers)")),t}async getChildren(t){if(this._container===void 0)return[];let n=[];return t===void 0?await this.testContainer()&&(this.setTreeTitle(this._container.getContainerLabel()),n=await this.getChildrenFromRoot(this._container)):Array.isArray(t.detail)&&n.push(...t.detail),n}async refresh(t){this.dockerParams=await tt(this.context,this.output),await Aw(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0,this._container=void 0),this._container=t||this._container,this._onDidChangeTreeData.fire(void 0)}},E$=class extends Ec{constructor(n){super(n.Name);this.type="DevVolume";this.volumeDetails=n,this.createdAt=void 0}async asTreeItem(){let n=this.getLabel(),r=new W.TreeItem(n,W.TreeItemCollapsibleState.None);return r.iconPath=this.iconPath,r.description=this.getDescription(),this.isUniqueVolume()?r.contextValue="uniqueDevVolume":r.contextValue="devVolume",r}isUniqueVolume(){let n=this.volumeDetails.Labels;if(n){let r=n["vsch.local.repository.unique"];if(r&&r==="true")return!0}return!1}getLabel(){let n=this.volumeDetails.Name;if(this.volumeDetails.Labels&&this.isUniqueVolume()){let i=this.getRepository();i&&i.gitUrlInfo.repository!=="unknown"&&(n=i.gitUrlInfo.fullRepositoryName)}return n}getDescription(){let n="";if(this.volumeDetails.Labels&&this.isUniqueVolume()){let i=this.getRepository();if(i&&i.gitUrlInfo.repository!=="unknown"){let o=this.getBranchName(),s=this.getPullRequestId();s?n=`#${s}`:o&&(n=`${o}`)}}return n}getBranchName(){let n=this.volumeDetails.Labels;if(n&&this.isUniqueVolume()&&n["vsch.local.repository.branch"])return n["vsch.local.repository.branch"]}getPullRequestId(){let n=this.volumeDetails.Labels;if(n&&this.isUniqueVolume()&&n["vsch.local.repository.pullRequestId"])return n["vsch.local.repository.pullRequestId"]}getRepository(){let n=this.volumeDetails.Labels;if(n){let r=n["vsch.local.repository.unique"];if(r&&r==="true"){let i=n["vsch.local.repository"];return oo(i)}}}get iconPath(){return new W.ThemeIcon("file-symlink-directory")}getTimeElapsed(){if(this.createdAt)return this.createdAt;let n="";if(new Date(this.volumeDetails.CreatedAt).getFullYear()>1){let i=new Date,o=new Date(this.volumeDetails.CreatedAt),s,a,u=i.getTime()-o.getTime();(a=Math.round(u/gr.years))>0?a===1?s="year":s="years":(a=Math.round(u/gr.days))>0?a===1?s="day":s="days":(a=Math.round(u/gr.hours))>0?a===1?s="hour":s="hours":(a=Math.round(u/gr.minutes))>0?a===1?s="minute":s="minutes":(a=Math.round(u/gr.seconds),a===1?s="second":s="seconds"),n=` ${a} ${s} ago`}return this.createdAt=n,n}async inspect(n){return tb(n,this.volumeDetails.Name)}async inspectInBasicDevContainer(){await W.commands.executeCommand("remote-containers.inspectVolume",this.volumeDetails.Name)}async cloneRepositoryInVolume(){await W.commands.executeCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",this.volumeDetails.Name)}async removeVolume(n){if(!((await AD(n)).indexOf(this.volumeDetails.Name)>=0)){await W.window.showInformationMessage(`Volume '${this.volumeDetails.Name}' is in use and cannot be removed.`,{modal:!0});return}await W.window.showInformationMessage(`Are you sure you want to remove volume '${this.volumeDetails.Name}'?`,{modal:!0},"Remove")==="Remove"&&await Oq(n,this.volumeDetails.Name)}},_$=class{constructor(t,n,r){this.context=t;this.telemetry=n;this.output=r;this._onDidChangeTreeData=new W.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event}async getTreeItem(t){return t.asTreeItem()}async getDockerParams(){return this.dockerParams||(this.dockerParams=await tt(this.context,this.output,void 0,void 0),await Aw(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)),this.dockerParams}async setHasVolumesContext(t){await W.commands.executeCommand("setContext","remote-containers:noDevVolumes",t)}async getDockerOrShowMessage(t){return!(!this.dockerParams&&(t===void 0&&await this.tryEnsureDocker(),!this.dockerParams))}async getChildren(t){if(!await this.getDockerOrShowMessage(t))return[];let n=await tt(this.context,this.output),r=await io(n),i=await _v(n,r),o=a=>!(a.Name==="vscode"||a.Name.length===64&&/^[0-9a-fA-F]+$/.test(a.Name)),s=i.filter(o);return await this.setHasVolumesContext(s.length===0),s.sort((a,u)=>{let c=new Date(a.CreatedAt);return new Date(u.CreatedAt).getTime()-c.getTime()}),s.map(a=>new E$(a))}async resolveTreeItem(t,n){let r=await tt(this.context,this.output),i=await this.getAssociatedContainers(r,n),o=n.getLabel(),s=n.getRepository(),a=n.getBranchName(),u=n.getPullRequestId(),c=n.getTimeElapsed();return i.length>0?t.tooltip=this.renderMarkdown(o,s,a,u,c,i.join(", ")):t.tooltip=this.renderMarkdown(o,s,a,u,c,"*None*"),t}async getAssociatedContainers(t,n){let r=[],i=await Pa(t,!0),o=await zc(t,i);for(let s of o)for(let a of s.Mounts)a.Type==="volume"&&a.Name===n.volumeDetails.Name&&r.push(s.Name.substring(1));return r}renderMarkdown(t,n,r,i,o,s){let a=new W.MarkdownString(void 0,!0);if(n){let u=n.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)",c=n.gitUrlInfo.repositoryUrl;c.startsWith("http")?(c=n.gitUrlInfo.repositoryUrl.replace(".git",""),a.appendMarkdown(`${u} [${c}](${c})
`)):a.appendMarkdown(`${u} ${c})
`),a.appendMarkdown(`&nbsp;  
`),r&&(n.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-compare) [${r}](${c}/tree/${r})
`):a.appendMarkdown(`$(git-compare) ${r}
`),a.appendMarkdown(`&nbsp;  
`)),i&&(n.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-pull-request-create) [#${i}](${c}/pull/${i})
`):a.appendMarkdown(`$(git-pull-request-create) #${i}
`),a.appendMarkdown(`&nbsp;  
`)),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`)}else a.appendMarkdown(`$(file-symlink-directory) ${t}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`);return a}handleDockerEvent(t){try{let n=JSON.parse(t.toString());if(!n.Action)return;(n.Action==="die"||n.Action==="destroy"||n.Action==="create"||n.Action==="prune")&&this._onDidChangeTreeData.fire()}catch{}}async tryEnsureDocker(){let t=await this.getDockerParams();if(!!t)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await DD(t,{event:["destroy","die","kill","create","rename","resize","restart","start","stop","unpause","prune"]}),this.eventsProcess.stdout.on("data",n=>{this.handleDockerEvent(n)})}catch(n){n.code!=="ENOENT"&&console.log(n),this.dockerParams=void 0}}async refresh(t){t===void 0&&(this.dockerParams=void 0),this._onDidChangeTreeData.fire(t)}},e1e="vm-active",t1e="vm-default",n1e="folder-active",r1e="folder";function XP(e,t){let n=`${t}.svg`;return{light:W.Uri.file(e.asAbsolutePath(Ep.join("resources","light",n))),dark:W.Uri.file(e.asAbsolutePath(Ep.join("resources","dark",n))),highContrast:W.Uri.file(e.asAbsolutePath(Ep.join("resources","highContrast",n)))}}var D$=require("util");var Do=V(require("vscode"));async function pae(e,t,n={}){let r=hf(t[0],t.slice(1),void 0),i=await eW(t[0],t.slice(1),void 0,e.loadNativeModule),o=await F_({params:e,createdAt:void 0,startedAt:void 0,sharedDataFolderIsLocalCacheFolder:!1,sharedDataFolder:void 0,remoteWorkspaceFolder:"/",containerUser:void 0,containerGroup:void 0,containerEnv:void 0,remoteExec:r,remotePtyExec:i,remoteExecAsRoot:void 0,rootShellServer:void 0,remoteWaylandSocket:void 0}),{hostOrContainerPort:s,connectionToken:a,webConnectionToken:u,remoteEnv:c,serverDownloaded:l}=await OW(e,o,n,async()=>{},void 0);return{params:e,properties:o,config:void 0,resolvedAuthority:{host:Yc,port:s,connectionToken:a,extensionHostEnv:c},webConnectionToken:u,tunnelInformation:{},dockerParams:void 0,dockerContainerId:void 0,serverDownloaded:l}}async function fae(e,t,n){var r,i,o;if(!!await nl(e))if(n&&n.name){let s=["get","pod",n.name,"-o","json"];n.namespace&&s.push("--namespace",n.namespace);let{cliHost:a,env:u,output:c}=t,l=(await me({exec:a.exec,cmd:"kubectl",args:["config","current-context"],env:u,output:c})).stdout.toString().trim(),p=(await me({exec:a.exec,cmd:"kubectl",args:s,env:u,output:c})).stdout.toString(),f=JSON.parse(p),m=((r=f.spec)==null?void 0:r.containers)||[];if(!m.length){t.output.write(`No containers found. Pod details:
${p}`),await Do.window.showErrorMessage("No containers found.",{modal:!0},"Show Log")&&Do.commands.executeCommand(Or);return}let h=m.length>1?(i=await Do.window.showQuickPick(m.map(g=>({label:g.name,detail:g.image,container:g})),{placeHolder:"Select container"}))==null?void 0:i.container:m[0];if(h){let g=((o=f.metadata)==null?void 0:o.namespace)||n.namespace,v={remoteAuthority:o1e({context:l,podname:n.name,namespace:g,name:h.name,image:h.image})};/\d$/.test(e.extensionPath)||(v.reuseWindow=!0),await Do.commands.executeCommand("vscode.newWindow",v)}}else t.output.write(`No Pod name found. Pod object:
${JSON.stringify(n,void 0,"  ")}`),await Do.window.showErrorMessage("No Pod name found.",{modal:!0},"Show Log")&&Do.commands.executeCommand(Or)}async function mae(e,t,n,r,i){return await nl(e)?{...await i1e(e,t,n,r,i),isTrusted:!0}:(await Do.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function i1e(e,t,n,r,i){let o;return Do.window.withProgress({location:Do.ProgressLocation.Notification,title:tg,cancellable:!1},async s=>{try{let a=s1e(n),u=process.cwd(),c=ua(),l=await wi(void 0,u,qi,c,e.extensionPath,await ro(),t.product,r.log,ys);o=await eg({authority:n,extensionContext:e,sessionStart:r.sessionStart,progress:s,cliHost:l,env:l.env,cwd:u,wslSettings:c,isLocalContainer:!0,telemetry:t,output:r.log,logFilePath:r.logFilePath,allowSystemConfigChange:!1,postCreate:i}),o.setWorkspaceName(`${a.name} in ${a.podname} (${a.image})`);let d=["kubectl","exec","-it",a.podname];return a.context&&d.push("--context",a.context),a.namespace&&d.push("--namespace",a.namespace),d.push("--container",a.name,"--"),await pae(o,d)}catch(a){let u=a instanceof ve?a:new ve({description:"An error occurred attaching to the container.",originalError:a});throw u.actions=[...$f,Nl,Qc,qf,Ol],u}}).then(s=>(vc(t,"k8s-container","success",o,void 0,void 0,s.properties),s),s=>{let a=s instanceof ve?s:new ve({description:"An error occurred attaching to the container.",originalError:s});return vc(t,"k8s-container","failure",o,void 0,void 0,a.containerProperties,a),Jc(a,"k8s-container",t,!0,r)})}function o1e(e){let t=[];for(let n in e){let r=e[n];r&&t.push(`${n}=${encodeURIComponent(r)}`)}return`k8s-container+${t.join("+")}`}function s1e(e){return e.substr(e.indexOf("+")+1).split("+").reduce((t,n)=>{let r=n.indexOf("=");return r!==-1&&(t[n.substr(0,r)]=decodeURIComponent(n.substr(r+1))),t},{})}var Et=V(require("vscode")),bp=V(require("fs")),ug=V(require("os")),_p=V(require("path")),JP=require("child_process"),lg=require("util");function ZP(e){switch(e.quality){case"stable":return"";case"insider":return"-insiders";default:return`-${e.quality}`}}async function hae(e,t){let n=e.globalStorageUri,r=vi.joinPath(n,"cli-bin");await Et.workspace.fs.createDirectory(r);let i="";try{i=(await Et.workspace.fs.readFile(vi.joinPath(r,"remote-containers-path"))).toString()}catch(c){if((c==null?void 0:c.code)!=="FileNotFound")return}if(i===e.extensionPath)return;let o=vi.joinPath(e.extensionUri,"dev-containers-user-cli","bin"),s=ZP(t),a=`devcontainer${s}`,u=[{source:"devcontainer",destination:a},{source:"devcontainer.cmd",destination:`devcontainer${s}.cmd`}];for(let c of u)await Et.workspace.fs.copy(vi.joinPath(o,c.source),vi.joinPath(r,c.destination),{overwrite:!0});process.platform!=="win32"&&await bp.promises.chmod(vi.joinPath(r,a).fsPath,493),await Et.workspace.fs.writeFile(vi.joinPath(r,"vscode-app-root"),Buffer.from(Et.env.appRoot,"utf-8")),await Et.workspace.fs.writeFile(vi.joinPath(r,"vscode-path"),Buffer.from(process.execPath,"utf-8")),await Et.workspace.fs.writeFile(vi.joinPath(r,"vscode-quality"),Buffer.from(t.quality??"","utf-8")),await Et.workspace.fs.writeFile(vi.joinPath(r,"vscode-machine-id"),Buffer.from(Et.env.machineId,"utf-8")),await Et.workspace.fs.writeFile(vi.joinPath(r,"remote-containers-path"),Buffer.from(e.extensionPath,"utf-8"))}async function a1e(e,t){let n=ZP(t),r="";try{if(r=(await(0,lg.promisify)(JP.exec)(`powershell.exe -NoProfile -NonInteractive -Command "[System.Environment]::GetEnvironmentVariable('PATH', 'User')"`)).stdout.toString().trim(),r.indexOf(e)>=0)return await Et.window.showInformationMessage("The devcontainer CLI is already in your PATH",{modal:!0,detail:`Try running 'devcontainer${n} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0;switch(await Et.window.showInformationMessage("The devcontainer CLI needs to be added to your PATH",{modal:!0},"Add","Copy CLI Path")){case"Add":let s=(0,lg.promisify)(JP.exec)(`powershell.exe  -NoProfile -NonInteractive -Command "[System.Environment]::SetEnvironmentVariable('PATH', '${r};${e}', 'User')`),a=Et.window.showInformationMessage("The devcontainer CLI has been added to your PATH",{modal:!0,detail:`Try running 'devcontainer${n} --help'
Note: you may need to restart your shell for PATH changes to take effect`});await Promise.all([s,a]);break;case"Copy CLI Path":await Et.env.clipboard.writeText(e),await Et.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${n} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}catch{return!1}}async function c1e(e,t){let r=(process.env.PATH??"").split(":"),i=[_p.join(ug.homedir(),"bin"),_p.join(ug.homedir(),".local/bin")],o="/usr/local/bin";ug.platform()==="darwin"&&i.push(o);let s=(0,lg.promisify)(bp.stat);for(let a of i){if(r.findIndex(p=>p===a)<0)continue;try{await s(a)}catch{continue}let u=ZP(t),c=_p.join(a,`devcontainer${u}`);try{let p=await s(c);return console.log(p),await Et.window.showInformationMessage(`The devcontainer CLI is already symlinked in ${a}`,{modal:!0,detail:`Try running 'devcontainer${u} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0}catch(p){if((p==null?void 0:p.code)!=="ENOENT")return!1}let l=await Et.window.showInformationMessage("The devcontainer CLI needs to be in your PATH",{detail:`Create a symlink in ${a}?`,modal:!0},"Create","Copy CLI Path"),d=_p.join(e,`devcontainer${u}`);switch(l){case"Create":if(a===o){if(!await u1e(d,c))break}else await(0,lg.promisify)(bp.symlink)(d,c);await Et.window.showInformationMessage(`The devcontainer CLI has been symlinked in ${a}`,{modal:!0,detail:`Try running 'devcontainer${u} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break;case"Copy CLI Path":await Et.env.clipboard.writeText(e),await Et.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${u} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}return!1}async function u1e(e,t){try{return await bp.promises.symlink(e,t),!0}catch(n){if(n.code!=="EACCES"&&n.code!=="ENOENT")throw n;if(await Et.window.showInformationMessage("This will now prompt with 'osascript' for Administrator privileges to install the shell command.",{modal:!0},"OK")==="OK"){let i=`osascript -e "do shell script \\"mkdir -p ${_p.dirname(t)} && ln -sf '${e}' '${t}'\\" with administrator privileges"`;return await(0,lg.promisify)(JP.exec)(i),!0}return!1}}async function gae(e,t){let n=e.globalStorageUri,r=vi.joinPath(n,"cli-bin").fsPath;switch(ug.platform()){case"win32":if(await a1e(r,t))return;break;case"darwin":case"linux":if(await c1e(r,t))return;break}if(await Et.window.showInformationMessage("The devcontainer CLI needs to be included your PATH",{modal:!0},"Copy CLI Path")==="Copy CLI Path"){await Et.env.clipboard.writeText(r);let o=ZP(t);await Et.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${o} --help'
Note: you may need to restart your shell for PATH changes to take effect`})}}var jn=V(require("vscode")),b$=V(require("path"));var l1e="Select Dev Container Configuration",d1e=`[Creating Dev Container (show log)](command:${Or} "Show details in terminal")`,vae="alpine:3.16.3",yae=["devcontainers","microsoft"];async function xae(e,t,n){let r=await p1e(e,t,n);if(!r)return;let{volumeAndFolderName:i}=r,o=Ln(t.env),s=jn.Uri.parse(Ho(void 0,i,i,!1,o,void 0));await mp({uri:s,type:"folder",label:`${i} [Dev Container]`}),await jn.commands.executeCommand("vscode.openFolder",s)}async function p1e(e,t,n){let{output:r}=t;$e(t,"pull",vae);let i=await r$({telemetry:n,output:r,existingFilesLearnMoreLink:dp,predefinedDefinitionsLearnMoreLink:pp,openConfigurationCommandId:lp},l1e,!0),o=await io(t),s=async()=>{i.skipOptions=!0;let l=await UP(i,void 0,void 0);if(l==="back"||!l)return;let d=l.metadata.template;if(yae.indexOf(d.owner)===-1){let p=`@${d.owner}`,f={label:`Trust ${p}`,description:"from GitHub",buttons:[{iconPath:new jn.ThemeIcon("info"),tooltip:"Open Documentation"}]},m={label:"Cancel"},h=i.quickPick.onDidTriggerItemButton(()=>{jn.env.openExternal(jn.Uri.parse(d.documentationURL))}),g=await ji(i.quickPick,[f,m],`The ${d.name} is from the ${p} GitHub owner/organization.`,void 0,void 0,!0);if(h.dispose(),!g||g===m){i.quickPick.dispose();return}if(g==="back")return s()}return wae(i,l,o,f1e(l.id,o),s)},a=await s();if(!a)return;let{selectedTemplate:u,volumeName:c}=a;return jn.window.withProgress({location:jn.ProgressLocation.Notification,title:d1e,cancellable:!1},async()=>{let l;try{let{stdout:d}=await $e(t,...m1e(c,Xc()));l=d.toString().trim();let p=b$.posix.join(Xc(),c),f=$o(t,l,"root"),m=await Fs(t,l,"root",qi),h=xi("container",p,{},f,m,()=>{throw new Error("not implemented")},"node",r);await h.mkdirp(p);let g=gt(b$.posix,p),v=await t$(i,h,g,u);return i.quickPick.hide(),v?{volumeAndFolderName:c}:void 0}finally{if(l)try{await $e(t,"rm","-f",l)}catch{}}})}function f1e(e,t){let n,r=(/([^/:]+)(:[^/:]+)?$/.exec(e)||[])[1]||"devcontainer",i=0;do n=`${r}${i++?`-${i}`:""}`;while(t.indexOf(n)!==-1);return n}async function wae(e,t,n,r,i){let{quickPick:o}=e;o.placeholder="Dev container name",o.selectedItems=[],o.value=r,o.buttons=[jn.QuickInputButtons.Back];let s={label:"Additional Options...",alwaysShow:!0},a=!1;function u(){a=!1,o.items=[{label:"Create Dev Container",description:o.value,alwaysShow:!0},s]}function c(f){a=!0,o.items=[{label:f,alwaysShow:!0}]}u();let l=[],d=await new Promise(f=>{l=[o.onDidAccept(()=>{o.value?a||f({volumeName:o.value,options:o.selectedItems[0]===s}):c("The name cannot be empty.")}),o.onDidHide(()=>f(void 0)),o.onDidChangeValue(m=>{n.indexOf(m)!==-1?c("A Docker volume with this name already exists."):m&&!/^[a-zA-Z0-9]/.test(m)?c("Only alphanumeric characters are allowed as the first character."):m&&!/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/.test(m)?c("Only alphanumeric characters, periods, underscores and hyphens are allowed."):u()}),o.onDidTriggerButton(()=>f("back"))]});if(l.forEach(f=>f.dispose()),!d)return;if(d==="back")return i();let{volumeName:p}=d;if(d.options){let f=async()=>{e.skipOptions=!1;let h=await ag(e,t.metadata.template,async()=>{let y=await wae(e,t,n,p,i);if(!!y)return p=y.volumeName,y.selectedTemplate});if(h==="back"||!h)return;let v=h.metadata.features.filter(y=>yae.indexOf(y.owner)===-1);if(v.length){let y=[...new Set(v.map(T=>T.owner))].sort().map(T=>`@${T}`),x=y.length===1?y[0]:`${y.slice(0,-1).join(", ")} and ${y[y.length-1]}`,E={label:`Trust ${x}`,description:"from GitHub",buttons:[{iconPath:new jn.ThemeIcon("info"),tooltip:"Open Documentation"}]},_={label:"Cancel"},C=e.quickPick.onDidTriggerItemButton(()=>{for(let T of v)jn.env.openExternal(jn.Uri.parse(T.documentationURL))}),P=await ji(e.quickPick,[E,_],`Some features are from the ${x} GitHub owner/organization(s).`,void 0,void 0,!0);if(C.dispose(),!P||P===_){e.quickPick.dispose();return}if(P==="back")return f()}return h},m=await f();if(!m)return;t=m}return o.busy=!0,o.enabled=!1,{volumeName:p,selectedTemplate:t}}function m1e(e,t){return["run","-d","--mount",`type=volume,src=${e},dst=${t}`,vae,"sleep","infinity"]}var T$=class{constructor(t,n,r){this.context=t;this.output=n;this.telemetry=r}handleUri(t){switch(t.path){case"/cloneInVolume":this.cloneInVolume(t)}}async cloneInVolume(t){let n=Iae.parse(t.query);if(!n.url){A.window.showErrorMessage(`Failed to handle the URI '${t}' expected a 'url' query parameter.`,{modal:!0});return}let r;Array.isArray(n.url)?r=n.url[0]:r=n.url;let i=await tt(this.context,this.output.log);if(!await Fr(this.context,i,this.telemetry))return;if(await sA(i.cliHost,r,this.output.log)===!1){A.commands.executeCommand(Or),await A.window.showErrorMessage(`Cannot access the repository '${r}'.`,{modal:!0});return}await A.commands.executeCommand(yP,n.url)}};async function g1e(e){var T;wie();let t=new Date;xie(e);let n=await jr(e.extensionPath),r=await iv(A.env.appRoot);Eie(e,r);let i=yie(e,n,r),o=`Dev Containers ${n.version} in VS Code ${A.version} (${r.commit||"out-of-source"}).`,s=new sw(e.logPath,t,o);e.subscriptions.push(A.commands.registerCommand(Or,()=>s.show()));let{channel:a,postCreate:u}=vie(s.log,t);e.subscriptions.push(A.commands.registerCommand(Iq,()=>a.show()));let c,l=new Promise(b=>c=b);e.subscriptions.push(A.workspace.registerRemoteAuthorityResolver("dev-container",{resolve:xP(s,u,kr.results,c,async(b,R,D)=>Use(e,i,b,kr.onRemoveOnShutdownChanged,R,D)),async getCanonicalURI(b){var D;let R=bi(b.authority);if(R&&Nn(R)){let{hostPath:I,settings:L}=R;return yr(I)?ff(I,s.log):L&&"host"in L&&((D=L.host)==null?void 0:D.startsWith("ssh://"))?av(L.host,I):A.Uri.file(I)}return b}}),A.workspace.registerRemoteAuthorityResolver("attached-container",{resolve:xP(s,u,kr.results,c,async(b,R,D)=>Jse(e,i,b,R,D))}),A.workspace.registerRemoteAuthorityResolver("k8s-container",{resolve:xP(s,u,kr.results,c,async(b,R,D)=>mae(e,i,b,R,D))}),A.window.registerUriHandler(new T$(e,s,i)));let d=async(b,R,D)=>{let I=await tt(e,s.log);if(!await Fr(e,I,i))return;let L;if($n.isFolderItem(b)?(L=b.folder,D=E1e()):L=b,L.scheme==="vscode-remote")return A.commands.executeCommand("vscode.openFolder",L,D);{let q=gt(I.cliHost.path,we(L,I.cliHost.platform));return n0(e,q,I,i,R,D)}};e.subscriptions.push(A.commands.registerCommand("remote-containers.openFolder",async(b,R)=>b?d(b,!1,R):Cae(e,!0,i,!1,s.log))),e.subscriptions.push(A.commands.registerCommand("remote-containers.openWorkspace",async(b,R)=>b?d(b,!1,R):Cae(e,!1,i,!1,s.log))),e.subscriptions.push(A.commands.registerCommand(sie,async b=>dg(e,i,s.log,b))),e.subscriptions.push(A.commands.registerCommand(yP,async b=>dg(e,i,s.log,b,_i))),e.subscriptions.push(A.commands.registerCommand(cie,async()=>{var k,N,U;let R=(await((k=A.extensions.getExtension("vscode.git"))==null?void 0:k.activate())).getAPI(1);if(R.repositories.length===0)return;let D=R.repositories.reduce((H,oe)=>{let O=oe.state.remotes.find(Q=>{var ee,B;return Q.name===((B=(ee=oe.state.HEAD)==null?void 0:ee.upstream)==null?void 0:B.remote)});return O!=null&&O.pushUrl&&H.push({repository:oe,label:O.pushUrl}),H},[]),I=D[0];if(D.length>1){let H=await A.window.showQuickPick(D,{canPickMany:!1,placeHolder:"Choose which repository to clone"});if(H===void 0)return;I=H}let L=I.label,q=(U=(N=I.repository.state.HEAD)==null?void 0:N.upstream)==null?void 0:U.name;return dg(e,i,s.log,{url:L,branch:q},_i)})),e.subscriptions.push(A.commands.registerCommand(aie,async()=>{var q;let b=A.workspace.workspaceFolders;if(!b)return;let R=b[0].uri;if(b.length>1){let k=await A.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1,title:"Choose a repository to clone in a Container Volume"});R=k==null?void 0:k[0]}let D,I;try{let k=await A.commands.executeCommand("remoteHub.api.getRepositoryContext",R);if(!k)throw new Error("Unable to get active repository context.");D=k.name,I=k.ref}catch{let U=await(await((q=A.extensions.getExtension("ms-vscode.remote-repositories"))==null?void 0:q.activate())).getMetadata(R);if(!U)throw new Error("Unable to get active repository context.");D=`${U.repo.owner}/${U.repo.name}`,I=(await U.getRevision()).name}let L=`https://github.com/${D}`;return I&&(L=`${L}/tree/${I}`),dg(e,i,s.log,L,_i)})),e.subscriptions.push(A.commands.registerCommand(uie,async b=>T1e(e,i,s.log,b,_i))),e.subscriptions.push(A.commands.registerCommand("remote-containers.inspectVolume",async(b,R,D)=>Aae(e,b,R,D,i,s.log))),e.subscriptions.push(A.commands.registerCommand("remote-containers.inspectVolumeFromViewlet",async b=>I1e(e,b,i,s.log))),e.subscriptions.push(A.commands.registerCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",async b=>dg(e,i,s.log,void 0,b))),e.subscriptions.push(A.commands.registerCommand("remote-containers.reopenInContainer",()=>p(!1))),e.subscriptions.push(A.commands.registerCommand("remote-containers.rebuildAndReopenInContainer",()=>p(!0))),e.subscriptions.push(A.commands.registerCommand("remote-containers.rebuildNoCacheAndReopenInContainer",()=>p("rebuildNoCache")));let p=async b=>{if(!await A.workspace.requestWorkspaceTrust({message:lw}))return;let D=await tt(e,s.log);if(!await Fr(e,D,i))return;let I=A.workspace.workspaceFile;if(I&&I.scheme==="untitled"){await hP();return}let L=A.workspace.workspaceFolders;if(!I&&L&&L.length){let k=L.length>1?await A.window.showWorkspaceFolderPick({placeHolder:"Pick a folder to reopen in a container."}):L[0];k&&(I=k.uri)}let q=Rq(I);if(q){await Dw(e,q.repositoryPath,q.volumeName,q.folder,D);return}if(I){let k;if(D.cliHost.type==="wsl"&&I.scheme==="file"){let U=we(I,process.platform),H=pf(U)||Dq()||await x_(D.output)||(()=>{throw new Error("No default WSL distro found.")})();k=await bl(H,U,D.output)}else k=we(I,D.cliHost.platform);let N=gt(D.cliHost.path,k);await n0(e,N,D,i,b,{forceReuseWindow:!0})}};e.subscriptions.push(A.commands.registerCommand("remote-containers.reopenLocally",async()=>{let b=A.workspace.workspaceFolders,R=A.workspace.workspaceFile||b&&b.length&&b[0].uri;if(R&&R.scheme==="vscode-remote"){let D=bi(R.authority);if(D&&Nn(D)){let I=A.Uri.file(D.hostPath),L={forceReuseWindow:!0};await A.commands.executeCommand("vscode.openFolder",I,L)}else A.window.showInformationMessage("'Reopen Locally' not possible in current context.")}})),e.subscriptions.push(A.commands.registerCommand("remote-containers.reopenInWSL",async()=>{let b=A.workspace.workspaceFolders,R=A.workspace.workspaceFile||b&&b.length&&b[0].uri;if(R&&R.scheme==="vscode-remote"){let D=bi(R.authority);if(D&&Nn(D)&&yr(D.hostPath)){let I=A.Uri.parse((await ff(D.hostPath,s.log)).toString()),L={forceReuseWindow:!0};await A.commands.executeCommand("vscode.openFolder",I,L)}else A.window.showInformationMessage("'Reopen in WSL' not possible in current context.")}})),e.subscriptions.push(A.commands.registerCommand("remote-containers.reopenInSSH",async()=>{let b=A.workspace.workspaceFolders,R=A.workspace.workspaceFile||b&&b.length&&b[0].uri;if(R&&R.scheme==="vscode-remote"){let D=bi(R.authority),I=D==null?void 0:D.settings;if(D&&Nn(D)&&I&&"host"in I&&I.host&&I.host.startsWith("ssh://")){let L=A.Uri.parse(av(I.host,D.hostPath).toString()),q={forceReuseWindow:!0};await A.commands.executeCommand("vscode.openFolder",L,q)}else A.window.showInformationMessage("'Reopen in SSH' not possible in current context.")}}));let f,m=async b=>{var L;if(!await nl(e))return;let R,D=typeof b=="string"?b:(L=b==null?void 0:b.containerDesc)==null?void 0:L.Id;if(D){let q=await tt(e,s.log);if(!await Fr(e,q,i))return;R=await Wr(q,D)}else{let q=!1;f||(f=Ls(e.extensionPath,async N=>(q=!0,gc(N)),s.log));let k=await tt(e,s.log,void 0,void 0,f);if(R=await L1e(k,Fr(e,k,i),()=>q),!R)return}let I=await tt(e,s.log);QP(I,R,e)};e.subscriptions.push(A.commands.registerCommand("remote-containers.attachToRunningContainer",m)),e.subscriptions.push(A.commands.registerCommand("remote-containers.attachToRunningContainerFromViewlet",m)),e.subscriptions.push(A.commands.registerCommand("remote-containers.attachToK8sContainerFromViewlet",async b=>fae(e,await tt(e,s.log),b)));let h=async b=>{var I;let R=await tt(e,s.log);if(!await Fr(e,R,i))return;let D=(I=b==null?void 0:b.pullRequestModel)==null?void 0:I.html_url;dg(e,i,s.log,D,_i)};e.subscriptions.push(A.commands.registerCommand("remote-containers.checkoutPRInVolume",h)),e.subscriptions.push(A.commands.registerCommand("remote-containers.rebuildContainer",async()=>{let b=fp();if(b){let R=await tt(e,s.log);await Dw(e,b.repositoryPath,b.volumeName,b.folder,R,!0);return}return await Promise.all(kr.onRemoveOnShutdownChangedEmitter.fire(!0)),A.commands.executeCommand("workbench.action.reloadWindow")})),e.subscriptions.push(A.commands.registerCommand("remote-containers.rebuildContainerNoCache",async()=>{let b=fp();if(b){let R=await tt(e,s.log);await Dw(e,b.repositoryPath,b.volumeName,b.folder,R,"rebuildNoCache");return}return await Promise.all(kr.onRemoveOnShutdownChangedEmitter.fire("rebuildNoCache")),A.commands.executeCommand("workbench.action.reloadWindow")}));let g=A.env.remoteName&&A.env.remoteName!=="test"?"linux":process.platform,v=((T=(A.workspace.workspaceFolders||[])[0])==null?void 0:T.uri)||ye.file(process.cwd()),y=Qh(g,v),x={fileHost:y,findDevContainerFiles:Lq,telemetry:i,output:s.log,existingFilesLearnMoreLink:dp,predefinedDefinitionsLearnMoreLink:pp,openConfigurationCommandId:lp},E=Mse(e,x);e.subscriptions.push(A.commands.registerCommand("remote-containers.createDevContainerFile",async()=>{if(!A.workspace.workspaceFolders){await A.window.showInformationMessage("Open a folder to create the configuration files in first.",{modal:!0},"Open Folder")&&await A.commands.executeCommand(process.platform==="darwin"?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder");return}await S$(e,y,E,i,s.log)})),e.subscriptions.push(A.commands.registerCommand("remote-containers.createDevContainer",async()=>{let b=await tt(e,s.log);!await Fr(e,b,i)||await xae(e,b,i)})),e.subscriptions.push(A.commands.registerCommand("remote-containers.openDevContainerFile",async(b,R)=>{let D,I=await tt(e,s.log),L;if(typeof b=="string"?D=[ye.file(b)]:(L=await Lq(),D=(await Promise.all(L.map(q=>q.scheme==="file"||q.scheme==="vscode-remote"?q:I.cliHost.toCommonURI(we(q,I.cliHost.platform))))).filter(q=>!!q)),D.length){let q=await cp(I.cliHost,D);if(!q||q==="cancelled")return;let k=fp();if(k){let N=gie(k.folder);for(let U of N){try{await A.workspace.openTextDocument(A.Uri.parse(U.toString()))}catch{continue}await A.commands.executeCommand("vscode.open",A.Uri.parse(U.toString()),R);return}return}if(q){let N=dz(q);if(N){let U=`https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers/${process.platform==="win32"?N.replace(/\\/g,"/"):N}`;return A.env.openExternal(A.Uri.parse(U))}else{if(q.scheme==="file"&&await bn(q.fsPath))return await A.commands.executeCommand("vscode.open",A.Uri.parse(q.toString()),R);if(q.scheme==="file"&&kr.results.size)return await no(Uo,q,[],Ia),await A.commands.executeCommand("vscode.open",A.Uri.parse(q.toString()),R);if(q.scheme==="vscode-remote")return await A.commands.executeCommand("vscode.open",A.Uri.parse(q.toString()),R);if(b===void 0)return await S$(e,y,E,i,s.log)}}}else if(b===void 0&&!(L!=null&&L.length))return await S$(e,y,E,i,s.log)})),e.subscriptions.push(A.commands.registerCommand("remote-containers.openAttachConfigByNameFile",async()=>{let{dockerContainerId:b,dockerParams:R}=[...kr.results.values()][0];if(!b||!R)return A.window.showInformationMessage("Named configurations are only available for Docker containers.",{modal:!0});let D=await Wr(R,b),I=VP(e.globalStoragePath,D.Name),L=A.Uri.file(I);return await bn(I)?A.commands.executeCommand("vscode.open",L):(await no(Uo,L,[],Ia),A.commands.executeCommand("vscode.open",L))})),e.subscriptions.push(A.commands.registerCommand("remote-containers.openAttachDevContainerFile",async()=>{let b=[...(await zse(e.globalStoragePath)).map(D=>({label:D.name,...D})).sort((D,I)=>D.label.localeCompare(I.label)),...(await Kse(e.globalStoragePath)).map(D=>({label:D.image,...D})).sort((D,I)=>D.label.localeCompare(I.label))],R=await A.window.showQuickPick(b.length?b:[{label:"No configuration found."}],{placeHolder:"Choose a configuration file"});if(R&&"uri"in R)return A.commands.executeCommand("vscode.open",A.Uri.parse(R.uri.toString()))})),e.subscriptions.push(A.commands.registerCommand("remote-containers.settings",async()=>A.commands.executeCommand("workbench.action.openSettings",`@ext:${bae()}`))),e.subscriptions.push(A.commands.registerCommand("remote-containers.getHelp",async()=>A.env.openExternal(A.Uri.parse("https://aka.ms/vscode-remote/containers")))),e.subscriptions.push(A.commands.registerCommand("remote-containers.getStarted",async()=>A.env.openExternal(A.Uri.parse("https://aka.ms/vscode-remote/containers/getting-started")))),e.subscriptions.push(A.commands.registerCommand("remote-containers.reportIssue",async()=>A.commands.executeCommand("vscode.openIssueReporter",bae()))),e.subscriptions.push(A.commands.registerCommand("remote-containers.provideFeedback",async()=>A.env.openExternal(A.Uri.parse("https://aka.ms/vscode-remote/containers/provide-feedback")))),e.subscriptions.push(A.languages.registerDocumentLinkProvider([{pattern:"**/devcontainer.json",language:"jsonc"},{pattern:"**/.devcontainer.json",language:"jsonc"}],new YP(y))),e.subscriptions.push(A.commands.registerCommand("remote-containers.trySample",async()=>{H1e(e,s.log)})),e.subscriptions.push(A.commands.registerCommand("remote-containers.openLogFile",()=>B1e(e))),e.subscriptions.push(A.commands.registerCommand("remote-containers.openLastLogFile",()=>V1e(e,"remoteContainers",s.logFilePath))),e.subscriptions.push(A.commands.registerCommand("remote-containers.showReopenInContainerNotificationReset",()=>U1e(e))),e.subscriptions.push(A.commands.registerCommand("remote-containers.showRecoveryContainerNotificationReset",()=>y1e(e))),e.subscriptions.push(A.commands.registerCommand("remote-containers.installDocker",()=>zP(s.log))),dae(e,kr.results,i,s.log),hae(e,r).catch(b=>{s.log.write(`Error ensuring user CLI is configured: ${(b==null?void 0:b.stack)||(b==null?void 0:b.message)||String(b)}`)}),e.subscriptions.push(A.commands.registerCommand("remote-containers.installUserCLI",()=>gae(e,r))),(async()=>{let b=A.env.remoteAuthority,R=b&&bi(b);R&&(wr(R)||Aa(R))&&R.inspectVolume&&await l,await hie(e)||await Dae(e,y,i,s.log)})().catch(console.error),x1e(e);let _=A.env.remoteName,C=!_||["dev-container","attached-container","wsl","ssh-remote","exec","k8s-container","codespaces"].indexOf(_)!==-1?[{pattern:"**/.devcontainer.json"},{pattern:"**/devcontainer.json"}]:[];e.subscriptions.push(A.commands.registerCommand("remote-containers.addExtensionToConfig",E.addExtensionToConfiguration),A.languages.registerCompletionItemProvider([...C,{pattern:rn.join(WP(e.globalStoragePath),"*.json")},{pattern:rn.join(BP(e.globalStoragePath),"*.json")}],E.createCompletionItemProvider()),A.commands.registerCommand("remote-containers.configureContainerFeatures",async()=>{await E.configureContainerFeatures()}),A.commands.registerCommand("remote-containers.labelPortAndUpdateConfig",E.addPortLabelToConfiguration)),fp()&&A.commands.executeCommand("setContext","isRecoveryContainer",!0)}var _ae="showRecoveryContainerNotification",Pae="showReopenInContainerNotificationReset",v1e=5e3;function y1e(e){return e.globalState.update(Pae,Date.now())}async function x1e(e){setTimeout(async()=>{let t=e.globalState.get(Pae);if(A$(e.globalState.get(_ae),t))return;if(fp()){let r="This is a recovery container that allows you to edit your Dockerfile. Use 'Reopen in Container' to retry.",i="Reopen in Container",o="Don't Show Again",s=await A.window.showInformationMessage(r,i,o);s===i?A.commands.executeCommand("remote-containers.reopenInContainer"):s===o&&await e.globalState.update(_ae,Date.now())}},v1e)}async function w1e(){await Promise.all([...kr.results.values()].map(e=>Promise.all(e.params.shutdowns.map(t=>{try{t()}catch(n){console.error(n)}}))))}function bae(){let{name:e,publisher:t}=Eae();return`${t}.${e}`}async function Cae(e,t,n,r,i){var d;let o=await tt(e,i);if(!await Fr(e,o,n))return;let s,a=A.workspace.workspaceFolders;if(a&&a[0]){let p=a[0].uri;if(p.scheme==="vscode-remote"){let f=bi(p.authority);if(f&&Nn(f)){let m=gt(o.cliHost.path,f.hostPath);s=A.Uri.file(m.rootFolderPath)}else/^(wsl|ssh-remote)\+/.test(p.authority)&&(s=p)}else p.scheme==="file"&&(s=p)}s||((d=A.env.remoteName)!=null&&d.match(/^(wsl|ssh-remote)$/)?s=A.Uri.from({scheme:"vscode-remote",authority:A.env.remoteAuthority,path:await o.cliHost.homedir()}):s=A.Uri.file(Tae.homedir()));let u=t?{defaultUri:s,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:"Open"}:{defaultUri:s,canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Code Workspace":["code-workspace"]},openLabel:"Open"},c=await A.window.showOpenDialog(u),l=c&&c[0];if(l){let p=t?l:l.with({path:rn.posix.dirname(l.path)}),f=await tt(e,o.output,p,Aq()==="always"),m=we(l,f.cliHost.platform),h=gt(f.cliHost.path,m);await n0(e,h,f,n,r)}}function E1e(){return A.workspace.getConfiguration("window").get("openFoldersInNewWindow",void 0)==="on"?{forceNewWindow:!0}:{forceReuseWindow:!0}}async function n0(e,t,n,r,i,o){var C,P;let{cliHost:s}=n;if(yr(t.rootFolderPath)){if(n=await tt(e,n.output,t.rootFolderPath),s=n.cliHost,!await Fr(e,n,r))return;t=gt(s.path,t.isWorkspaceFile?s.path.join(s.cwd,rn.basename(t.workspaceOrFolderPath)):s.cwd)}let a=await JE(s,t);if(a){let T="Continue";if(await A.window.showInformationMessage(`The workspace could fail to open in a container: ${a}`,{modal:!0},T)!==T)return}let u=await _1e(s,t);if(u==="cancelled")return;let c=u||await Av(s,t,tl(),!0,n.output),l=c&&(c.scheme==="file"?await nt(c.fsPath):await s.readFile(we(c,s.platform))).toString(),d=!!(l&&((C=Je(l))==null?void 0:C.initializeCommand)),{dockerCLI:p,dockerComposePath:f}=n,m={cliHost:s,dockerPath:p,dockerComposePath:f,appRoot:A.env.appRoot,extensionPath:e.extensionPath,package:await jr(e.extensionPath),output:n.output},h=c&&await(d?pw(m,t.rootFolderPath,c):Fq(m,t.rootFolderPath,c));if(h==="canceled")return;if(!h||!X_(h.configuration)){let T=await jP({fileHost:s,telemetry:r,output:n.output,existingFilesLearnMoreLink:dp,predefinedDefinitionsLearnMoreLink:pp,openConfigurationCommandId:lp},t);if(!T||(h=await Fq(m,t.rootFolderPath,ye.file(T).with({scheme:st.scheme})),!h||h==="canceled"))return}if(!await C1e(n,"mergedConfiguration"in h?h.mergedConfiguration:h.configuration))return;let g=h.configuration,v=h.workspace.workspaceFolder;if(ar(g)){let T=Wc(s,g);if(!g.initializeCommand&&!await On(s).readDocument(T))return kw(`"${T.fsPath}" does not exist.`,s,g.configFilePath);if(g.workspaceFolder&&!rn.posix.isAbsolute(g.workspaceFolder))return kw("Workspace folder in devcontainer.json must be an absolute path.",s,g.configFilePath)}else if(!("image"in g))if("dockerComposeFile"in g){if(!await sae(n)||!await F1e(t,n,g))return}else{let T=g.configFilePath;return kw(`Configuration "${s.path.relative(t.rootFolderPath,we(T,s.platform))}" not valid.`,s,T)}t.isWorkspaceFile&&(v=rn.posix.join(v,s.path.basename(t.workspaceOrFolderPath)));let y=Ln(n.env),x=s.type==="wsl"?(await s.toCommonURI(t.workspaceOrFolderPath)).fsPath:t.workspaceOrFolderPath,E=(s.type==="local"||s.type==="wsl")&&y&&"host"in y&&((P=y.host)==null?void 0:P.startsWith("ssh://")),_=A.Uri.parse(kv(x,v,y,E,c));await mp({uri:_,type:t.isWorkspaceFile?"workspace":"folder",label:`${Fz(s.platform,t.workspaceOrFolderPath,await s.homedir())}${Lf(y)} [Dev Container]`}),await Nq(e,i?_.authority:!1),await cw(e,i==="rebuildNoCache"?_.authority:!1),await A.commands.executeCommand("vscode.openFolder",_,o)}async function _1e(e,t){let n=await b1e(e,t.rootFolderPath),r=new A.RelativePattern(n,gP),i=await Promise.all((await A.workspace.findFiles(r)).map(async o=>o.scheme===Vr.scheme?ye.from({scheme:st.scheme,path:o.path}):e.type==="wsl"&&o.scheme==="file"?ye.from({scheme:st.scheme,path:await Dz(o,e)}):o));return cp(e,i)}function b1e(e,t){switch(e.type){case"local":return ye.file(t);case"wsl":return A.env.remoteName==="wsl"?ye.from({scheme:"vscode-remote",authority:A.env.remoteAuthority,path:t}):e.toCommonURI(t);case"ssh":return A.env.remoteName==="ssh-remote"?ye.from({scheme:"vscode-remote",authority:A.env.remoteAuthority,path:t}):void 0;default:return}}async function C1e(e,{hostRequirements:t}){var r,i;let n=t&&S1e(t);if(n&&(n.cpus||n.memory||n.gpu&&n.gpu!=="optional")){let o=await $e(e,"info","--format","{{json .}}"),s=JSON.parse(o.stdout.toString()),a=s.NCPU&&n.cpus&&n.cpus>s.NCPU,u=s.MemTotal&&n.memory&&n.memory>s.MemTotal,c=((i=(r=s.Runtimes)==null?void 0:r.nvidia)==null?void 0:i.path)==="nvidia-container-runtime";if(a||u){let l=[];s.NCPU&&l.push(`CPUs ${s.NCPU.toLocaleString()}`),s.MemTotal&&l.push(`RAM ${C$(s.MemTotal)}`),c&&l.push("GPU");let d=[];n.cpus&&d.push(`CPUs ${n.cpus.toLocaleString()}`),n.memory&&d.push(`RAM ${C$(n.memory)}`),n.storage&&d.push(`disk ${C$(n.storage)}`),n.gpu&&n.gpu!=="optional"&&d.push("GPU");let p=`Docker daemon: ${l.join(", ")}
devcontainer.json: ${d.join(", ")}`;if(!await A.window.showInformationMessage("Not all host requirements in devcontainer.json are met by the Docker daemon.",{modal:!0,detail:p},"Continue"))return!1}}return!0}function S1e(e){return{cpus:e.cpus||0,memory:Sae(e.memory||"0"),storage:Sae(e.storage||"0"),gpu:e.gpu}}function Sae(e){let t=/^(\d+)([tgmk]b)?$/.exec(e);if(t){let[,n,r]=t,i=parseInt(n,10),o=r&&{t:2**40,g:2**30,m:2**20,k:2**10}[r[0]]||1;return i*o}return 0}function C$(e){let t=Math.min(Math.floor(Math.log2(Math.max(Math.abs(e),1))/10),4),n=e/Math.pow(2,10*t),r=Math.max(Math.pow(10,2-Math.floor(Math.log10(Math.max(Math.abs(n),1)))),1),i=Math.round(n*r)/r,o=[" bytes","kb","mb","gb","tb"][t];return`${i.toLocaleString()}${o}`}async function dg(e,t,n,r,i){if(!await dw(e))return;let o=await tt(e,n),s=null;if(!!await Fr(e,o,t)){if(typeof r=="string")s=r;else{let a;if(r!==void 0?a=r:a=await A.commands.executeCommand("git-base.api.getRemoteSources",{providerLabel:u=>`Clone a repository from ${u.name} in a Container Volume`,urlLabel:"Clone git repository from URL",branch:!0}),a){s=(typeof a=="string"?a:a.url).trim(),s.split("/").length===2&&s.indexOf(":")===-1&&(s=`https://github.com/${s}`);let u=qs(s);if(await sA(o.cliHost,u.repositoryUrl,o.output)===!1){A.commands.executeCommand(Or),await A.window.showInformationMessage(`Cannot access the repository '${u.repositoryUrl}'.`,{modal:!0});return}typeof a!="string"&&a.branch&&(s=`${s}/tree/${a.branch}`)}}s&&await Rae(e,o,s,i)}}async function Rae(e,t,n,r){if(r||(r=await R1e(t)),r){let i=k$(n);r!==_i&&(i=await D1e(n)),i&&await Dw(e,n,r,i,t)}}async function T1e(e,t,n,r,i){if(!await dw(e))return;let o=await tt(e,n),s=/^(?:(?:https:\/\/)?github.com\/)?([^/]+)\/([^/]+?)(?:\/(?:pull\/([0-9]+)))?(?:\/|$)/i;if(!await Fr(e,o,t))return;let a={placeHolder:"e.g. https://github.com/microsoft/vscode/pull/123",prompt:"Enter a GitHub pull request url",validateInput:l=>s.test(l)?void 0:"Invalid pull request url"},u;if(r?u=r:u=await A.window.showInputBox(a),!u)return;let c=qs(u);if(c.repository==="unknown"||!c.pullRequestId){await A.window.showInformationMessage(`Invalid pull request URL '${u}'.`,{modal:!0});return}await Rae(e,o,u,i)}async function Aae(e,t,n,r,i,o){let s=await tt(e,o);!await Fr(e,s,i)||(t||(t=await P1e(s)),t&&(n&&r?await N1e(t,n,r,s):await O1e(t,s)))}async function I1e(e,t,n,r){let i=await tt(e,r);!await Fr(e,i,n)||t&&t.volumeName&&await Aae(e,t.volumeName,void 0,void 0,n,r)}var Ow=class{get detail(){return""}},I$=class extends Ow{get label(){return"$(plus) Create a new volume..."}get description(){return""}get volumeName(){return""}get detail(){return"Use this volume to store several cloned repositories."}get alwaysShow(){return!0}},P$=class extends Ow{constructor(n){super();this.volume=n}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}},R$=class extends Ow{constructor(n){super();this.volume=n}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}};async function P1e(e){let t=await io(e),r=(await _v(e,t)).map(a=>new R$(a)),i="Select the volume to inspect with Visual Studio Code",o=A.window.createQuickPick();o.items=r,o.placeholder=i,o.show();let s=await new Promise(a=>{o.onDidAccept(()=>a(o.activeItems[0])),o.onDidHide(()=>a(void 0))});return o.hide(),s?s.volume.Name:null}async function R1e(e){let t=await io(e,["vsch.local.repository.unique=false"]),r=(await _v(e,t)).map(l=>new P$(l)),i=new I$,o=[i,...r],s="Select the volume for the cloned repository",a=A.window.createQuickPick();a.items=o,a.placeholder=s,a.ignoreFocusOut=!0,a.show();let u=await new Promise(l=>{a.onDidAccept(()=>l(a.activeItems[0])),a.onDidHide(()=>l(void 0))});if(a.hide(),!u)return null;let c=null;return u===i?c=await A1e(e):c=u.volumeName,c}async function A1e(e){let t="",n="vsc-remote-containers",r=await io(e);r.find(s=>s===n)||(t=n);let i={prompt:"Enter the volume name.",value:t,ignoreFocusOut:!0,validateInput:s=>/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/i.test(s)?null:s.length<2?"Volume names should be at least two characters and the first character must be alphanumeric.":"Only [a-zA-Z0-9_.-] are allowed and the first character must be alphanumeric."},o=await A.window.showInputBox(i);return o?r.find(s=>s===o)?(await A.window.showErrorMessage("Volume already exists",{modal:!0}),null):o:null}async function D1e(e){let t={prompt:"Enter the target folder name.",value:k$(e),ignoreFocusOut:!0},n=await A.window.showInputBox(t);return n||null}function k$(e){return oo(e).repositoryName}async function k1e(){return(await A.authentication.getSession("github",["repo"],{createIfNone:!0})).accessToken}async function Dw(e,t,n,r,i,o=!1){let s=Ln(i.env),a=Of(t),u;try{u=await a.parseUrl(void 0)}catch(l){if(l instanceof Sv){A.window.showErrorMessage(l.description);return}let d=await k1e();try{u=await a.parseUrl(d)}catch{A.window.showErrorMessage(`Cannot access '${t}'.`,{modal:!0});return}}let c=A.Uri.parse(Ho(t,n,r,!1,s,u));n===_i&&(n="a unique volume"),await mp({uri:c,type:"folder",label:`${r} in ${n} [Dev Container]`}),await Nq(e,o?c.authority:!1),await cw(e,o==="rebuildNoCache"?c.authority:!1),await A.commands.executeCommand("vscode.openFolder",c)}async function O1e(e,t){let n=Ln(t.env),r=A.Uri.parse(Ho(void 0,e,void 0,!0,n,void 0));await mp({uri:r,type:"folder",label:`Volume ${e} [Dev Container]`}),await A.commands.executeCommand("vscode.openFolder",r)}async function N1e(e,t,n,r){let i=Ln(r.env),o=A.Uri.parse(Ho(t,e,n,!0,i,void 0));await mp({uri:o,type:"folder",label:`${n} in ${e} [Inspect Dev Container]`}),await A.commands.executeCommand("vscode.openFolder",o)}async function QP(e,t,n,r){if(!await nl(n))return;let i,o=e.cliHost;if(o.type==="wsl"){let c=await o.toCommonURI(o.cwd);c&&c.scheme==="file"&&(i=c.fsPath)}let s=kz(t.Name,Ln(e.env),i),a=await Wse(n.globalStoragePath,t),u=n.extensionMode===A.ExtensionMode.Development;if(a&&a.workspaceFolder&&!r){let c=A.Uri.parse(`vscode-remote://${s}${a.workspaceFolder}`),l={};u?l.forceReuseWindow=!0:l.forceNewWindow=!0,await A.commands.executeCommand("vscode.openFolder",c,l)}else{let c={remoteAuthority:s};u&&!r&&(c.reuseWindow=!0),await A.commands.executeCommand("vscode.newWindow",c)}}async function L1e(e,t,n){let r=(async()=>{if(!await t)throw new Error("cancel");let i=await Pa(e),o=await zc(e,i),s=[];if(o.forEach(a=>{a.State.Status==="running"&&s.push({label:a.Name,description:`${a.Config.Image} ${a.Id}`,containerInfo:a})}),s.length===0)throw A.window.showErrorMessage("There are no running containers to attach to.",{modal:!0}),new Error("cancel");return s})();try{let i={placeHolder:"Select the container to attach VS Code"},o=await A.window.showQuickPick(r,i);if(!o&&n()){if(!await t)throw new Error("cancel");o=await A.window.showQuickPick(r,i)}return o?o.containerInfo:void 0}catch(i){if(i&&i.message==="cancel")return;throw i}}async function F1e(e,t,n){if(!n.workspaceFolder)return kw("Workspace folder not specified in devcontainer.json.",t.cliHost,n.configFilePath),!1;if(!rn.posix.isAbsolute(n.workspaceFolder))return kw("Workspace folder in devcontainer.json must be an absolute path.",t.cliHost,n.configFilePath),!1;let r=await Gc(t.cliHost,n,t.cliHost.env,t.cliHost.cwd),i=await ND(t,e,r),o=await sz(t,i,n.service);return!(o&&await Wr(t,o)&&!await M1e(t.cliHost,r))}async function M1e(e,t){let n=[];for(let r=0;r<t.length;r++)await e.isFile(t[r])||n.push(t[r]);return n.length>0?(A.window.showErrorMessage(`The following referenced docker compose files do not exist: ${n.join(", ")}`,{modal:!0}),!1):!0}async function kw(e,t,n){if(await A.window.showErrorMessage(e,{modal:!0},"Open devcontainer.json")){let i=we(n,t.platform),o=await t.toCommonURI(i);o&&A.window.showTextDocument(A.Uri.parse(o.toString()))}}async function S$(e,t,n,r,i){await n.createConfiguration()&&await Dae(e,t,r,i)}async function Dae(e,t,n,r){if([void 0,"wsl","ssh-remote"].indexOf(A.env.remoteName)===-1)return;let i=A.workspace.workspaceFile,o=A.workspace.workspaceFolders,s=i||o&&o.length&&o[0].uri||void 0;if(s&&s.scheme!=="vscode-vfs"){let a=we(s,t.platform),u=gt(t.path,a),c=await db(t,u,tl());c&&await q1e(e,c,u,t,n,r)}}var e0="showReopenInContainerNotification",kae="showReopenInContainerNotificationReset";function U1e(e){return e.globalState.update(kae,Date.now())}async function q1e(e,t,n,r,i,o){let s=e.globalState.get(kae);if(A$(e.globalState.get(e0),s)||A$(e.workspaceState.get(e0),s))return;let a=lz(r,n,t.uri),u,c="";if(r.platform!=="linux"&&A.env.remoteName!=="wsl"&&!(r.platform==="win32"&&yr(n.rootFolderPath))&&A.env.remoteName!=="ssh"){let y=await tt(e,o);if(u=await xV(y.cliHost,n,y.output),u&&a){let x=await Qg(y.cliHost,n.rootFolderPath,y.output);x&&await _V(y.cliHost,n,y.cliHost.path.relative(x,we(t.uri,y.cliHost.platform)),y.output)||(u=void 0)}if(u){let{cliHost:x,dockerCLI:E,dockerComposePath:_}=y,C={cliHost:x,dockerPath:E,dockerComposePath:_,appRoot:A.env.appRoot,extensionPath:e.extensionPath,package:await jr(e.extensionPath),output:o},P=await pw(C,n.rootFolderPath,t.uri);(!P||!ar(P.configuration)&&!("image"in P.configuration))&&(u=void 0)}u&&(c=" Or: Clone repository in Docker volume for [better I/O performance](https://aka.ms/vscode-remote/containers/open-repo).")}let l;a?n.isWorkspaceFile?l="Workspace contains a Dev Container configuration file.":l="Folder contains a Dev Container configuration file.":l="There is a [Dev Container configuration](command:remote-containers.openDevContainerFile) available for this repository.";let d="Reopen in Container",p="Clone in Volume",f="Don't Show Again...",m=n.isWorkspaceFile?`${l} Reopen workspace to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${c}`:`${l} Reopen folder to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${c}`,h=u?[d,p,f]:[d,f];$1e(i,t.location);let g=await A.window.showInformationMessage(m,...h);if(j1e(i,g===d?"reopen":g===p?"openRepository":g===f?"dontShowAgain":"cancel",t.location),g===d){if(!await A.workspace.requestWorkspaceTrust({message:lw}))return;let x=await tt(e,o);if(!await Fr(e,x,i))return;if(x.cliHost.type==="wsl"&&r.platform==="win32"){let{cwd:E}=await UA(n.workspaceOrFolderPath,ua(),o);n=gt(x.cliHost.path,E)}try{await n0(e,n,x,i,!1,{forceReuseWindow:!0})}catch(E){await Jc(E,"ui",i)}}else if(g===p){let y=await tt(e,o),x=await EV(y.cliHost,n,y.output),E="OK",_="Cancel";(!x||E===await A.window.showInformationMessage("Local changes not pushed to the Git remote will not be available in the Docker volume.",E,_))&&await A.window.withProgress({location:A.ProgressLocation.Notification,title:"Clone in Volume"},async(C,P)=>{C.report({message:"Follow the prompts at the top of the window."}),await A.commands.executeCommand(yP,u)})}else if(g===f){let y=n.isWorkspaceFile?"Any Workspace":"Any Folder",x=n.isWorkspaceFile?"Current Workspace":"Current Folder",E=n.isWorkspaceFile?"Don't show again for the current workspace or for any workspace?":"Don't show again for the current folder or for any folder?",_=await A.window.showInformationMessage(E,y,x);_===y?await e.globalState.update(e0,Date.now()):_===x&&await e.workspaceState.update(e0,Date.now())}}function $1e(e,t){e.sendTelemetryEvent("reopenNotificationOpen",{location:t})}function j1e(e,t,n){e.sendTelemetryEvent("reopenNotificationResult",{result:t,location:n})}function A$(e,t){return e===!1?e=1:e===void 0&&(e=-1),t===void 0&&(t=0),t<e}async function H1e(e,t){let n=[{label:"C++",detail:"https://github.com/Microsoft/vscode-remote-try-cpp"},{label:"Go",detail:"https://github.com/Microsoft/vscode-remote-try-go"},{label:"Java",detail:"https://github.com/Microsoft/vscode-remote-try-java"},{label:".NET",detail:"https://github.com/Microsoft/vscode-remote-try-dotnet"},{label:"Node",detail:"https://github.com/Microsoft/vscode-remote-try-node"},{label:"PHP",detail:"https://github.com/Microsoft/vscode-remote-try-php"},{label:"Python",detail:"https://github.com/Microsoft/vscode-remote-try-python"},{label:"Rust",detail:"https://github.com/Microsoft/vscode-remote-try-rust"}],r={placeHolder:"Select a sample repository to clone in a container volume"},i=await A.window.showQuickPick(n,r);if(!i)return;let o=await tt(e,t);i.detail&&await Dw(e,i.detail,_i,k$(i.detail),o)}async function B1e(e){let t=await Promise.all((await Oae(e)).map(async r=>{let i=await(0,D$.promisify)(r0.stat)(r.path),o=r.time;return{label:r.prefix,description:`${pg(o.getFullYear())}-${pg(o.getMonth()+1)}-${pg(o.getDate())} ${pg(o.getHours())}:${pg(o.getMinutes())}:${pg(o.getSeconds())} - ${i.size} bytes`,path:r.path}}));t.length||t.push({label:"No log files found."});let n=await A.window.showQuickPick(t,{placeHolder:"Choose a log file"});n&&n.path&&await A.window.showTextDocument(A.Uri.file(n.path))}function pg(e,t=2){return e.toString().padStart(t,"0")}async function V1e(e,t,n){let r=(await Oae(e)).find(i=>i.name.startsWith(t)&&i.path!==n);r?await A.window.showTextDocument(A.Uri.file(r.path)):await A.window.showInformationMessage("No previous log file found.",{modal:!0})}async function Oae(e){let t=[],n=rn.basename(e.logPath),r=rn.dirname(rn.dirname(rn.dirname(e.logPath))),i=/(\d\d\d\d)(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)/;i.test(rn.basename(r))&&(r=rn.dirname(r));for(let o of(await t0(r)).sort().reverse()){let s=i.exec(o);if(s){let a=rn.join(r,o);for(let u of await t0(a)){let c=rn.join(a,u),l=u.startsWith("window");for(let d of l?await t0(c):[u]){let p=rn.join(l?c:a,d),f=rn.join(p,n);for(let m of(await t0(f)).sort()){let h=rn.join(f,m),g=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d)[:\-](\d\d)[:\-](\d\d)\.(\d\d\d)Z/.exec(m),v=g?new Date(`${g[1]}-${g[2]}-${g[3]}T${g[4]}:${g[5]}:${g[6]}.${g[7]}Z`):new Date(`${s[1]}-${s[2]}-${s[3]}T${s[4]}:${s[5]}:${s[6]}Z`);t.push({name:m,path:h,time:v,prefix:g?m.substr(0,g.index-1):m.substr(0,m.length-4)})}}}}}return t.sort((o,s)=>o.time>s.time?-1:o.time<s.time?1:o.path.localeCompare(s.path)),t}async function t0(e){try{return await(0,D$.promisify)(r0.readdir)(e)}catch{return[]}}0&&(module.exports={activate,attachToContainer,deactivate});
//# sourceMappingURL=extension.js.map
